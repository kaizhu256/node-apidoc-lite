<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    overflow-wrap: break-word;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/mysqljs/mysql#readme">mysql (2.16.0)</a>
</h1>
<h4>A node.js driver for mysql. It is written in JavaScript, does not require compiling, and is 100% MIT licensed.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql">module mysql</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.AuthSwitchRequestPacket">
            function <span class="apidocSignatureSpan">mysql.</span>AuthSwitchRequestPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.AuthSwitchResponsePacket">
            function <span class="apidocSignatureSpan">mysql.</span>AuthSwitchResponsePacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.BufferList">
            function <span class="apidocSignatureSpan">mysql.</span>BufferList
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ChangeUser">
            function <span class="apidocSignatureSpan">mysql.</span>ChangeUser
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ClientAuthenticationPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ClientAuthenticationPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComChangeUserPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComChangeUserPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComPingPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComPingPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComQueryPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComQueryPacket
            <span class="apidocSignatureSpan">(sql)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComQuitPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComQuitPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComStatisticsPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComStatisticsPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection">
            function <span class="apidocSignatureSpan">mysql.</span>Connection
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ConnectionConfig">
            function <span class="apidocSignatureSpan">mysql.</span>ConnectionConfig
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.EmptyPacket">
            function <span class="apidocSignatureSpan">mysql.</span>EmptyPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.EofPacket">
            function <span class="apidocSignatureSpan">mysql.</span>EofPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ErrorPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ErrorPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Field">
            function <span class="apidocSignatureSpan">mysql.</span>Field
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.FieldPacket">
            function <span class="apidocSignatureSpan">mysql.</span>FieldPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake">
            function <span class="apidocSignatureSpan">mysql.</span>Handshake
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.HandshakeInitializationPacket">
            function <span class="apidocSignatureSpan">mysql.</span>HandshakeInitializationPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.LocalDataFilePacket">
            function <span class="apidocSignatureSpan">mysql.</span>LocalDataFilePacket
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.OkPacket">
            function <span class="apidocSignatureSpan">mysql.</span>OkPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.OldPasswordPacket">
            function <span class="apidocSignatureSpan">mysql.</span>OldPasswordPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter">
            function <span class="apidocSignatureSpan">mysql.</span>PacketWriter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser">
            function <span class="apidocSignatureSpan">mysql.</span>Parser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Ping">
            function <span class="apidocSignatureSpan">mysql.</span>Ping
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool">
            function <span class="apidocSignatureSpan">mysql.</span>Pool
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster">
            function <span class="apidocSignatureSpan">mysql.</span>PoolCluster
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConfig">
            function <span class="apidocSignatureSpan">mysql.</span>PoolConfig
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConnection">
            function <span class="apidocSignatureSpan">mysql.</span>PoolConnection
            <span class="apidocSignatureSpan">(pool, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolNamespace">
            function <span class="apidocSignatureSpan">mysql.</span>PoolNamespace
            <span class="apidocSignatureSpan">(cluster, pattern, selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol">
            function <span class="apidocSignatureSpan">mysql.</span>Protocol
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query">
            function <span class="apidocSignatureSpan">mysql.</span>Query
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Quit">
            function <span class="apidocSignatureSpan">mysql.</span>Quit
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ResultSetHeaderPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ResultSetHeaderPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SSLRequestPacket">
            function <span class="apidocSignatureSpan">mysql.</span>SSLRequestPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence">
            function <span class="apidocSignatureSpan">mysql.</span>Sequence
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Statistics">
            function <span class="apidocSignatureSpan">mysql.</span>Statistics
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.StatisticsPacket">
            function <span class="apidocSignatureSpan">mysql.</span>StatisticsPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Timer">
            function <span class="apidocSignatureSpan">mysql.</span>Timer
            <span class="apidocSignatureSpan">(object)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.UseOldPasswordPacket">
            function <span class="apidocSignatureSpan">mysql.</span>UseOldPasswordPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.createConnection">
            function <span class="apidocSignatureSpan">mysql.</span>createConnection
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.createPool">
            function <span class="apidocSignatureSpan">mysql.</span>createPool
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.createPoolCluster">
            function <span class="apidocSignatureSpan">mysql.</span>createPoolCluster
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.createQuery">
            function <span class="apidocSignatureSpan">mysql.</span>createQuery
            <span class="apidocSignatureSpan">(sql, values, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.escape">
            function <span class="apidocSignatureSpan">mysql.</span>escape
            <span class="apidocSignatureSpan">(value, stringifyObjects, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.escapeId">
            function <span class="apidocSignatureSpan">mysql.</span>escapeId
            <span class="apidocSignatureSpan">(value, forbidQualified)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.format">
            function <span class="apidocSignatureSpan">mysql.</span>format
            <span class="apidocSignatureSpan">(sql, values, stringifyObjects, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.raw">
            function <span class="apidocSignatureSpan">mysql.</span>raw
            <span class="apidocSignatureSpan">(sql)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Auth</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>AuthSwitchRequestPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>AuthSwitchResponsePacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>BufferList.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ChangeUser.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ClientAuthenticationPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ComChangeUserPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ComPingPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ComQueryPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ComQuitPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ComStatisticsPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Connection.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>EmptyPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>EofPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ErrorPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Field.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>FieldPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Handshake.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>HandshakeInitializationPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>LocalDataFilePacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>OkPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>OldPasswordPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>PacketWriter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Parser.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Ping.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Pool.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>PoolCluster.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>PoolConfig.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>PoolConnection.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>PoolNamespace.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>PoolSelector</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Protocol.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Query.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Quit.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>ResultSetHeaderPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>SSLRequestPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Sequence.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>SqlString</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Statistics.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>StatisticsPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>Timer.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>UseOldPasswordPacket.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">mysql.</span>index</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Auth">module mysql.Auth</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.add32">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>add32
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.and32">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>and32
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.hashPassword">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>hashPassword
            <span class="apidocSignatureSpan">(password)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.int31Write">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>int31Write
            <span class="apidocSignatureSpan">(buffer, number, offset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.int32Read">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>int32Read
            <span class="apidocSignatureSpan">(buffer, offset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.mul32">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>mul32
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.myRnd">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>myRnd
            <span class="apidocSignatureSpan">(r)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.randomInit">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>randomInit
            <span class="apidocSignatureSpan">(seed1, seed2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.scramble323">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>scramble323
            <span class="apidocSignatureSpan">(message, password)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.sha1">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>sha1
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.shl32">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>shl32
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.token">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>token
            <span class="apidocSignatureSpan">(password, scramble)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.xor">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>xor
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Auth.xor32">
            function <span class="apidocSignatureSpan">mysql.Auth.</span>xor32
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.AuthSwitchRequestPacket">module mysql.AuthSwitchRequestPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.AuthSwitchRequestPacket.AuthSwitchRequestPacket">
            function <span class="apidocSignatureSpan">mysql.</span>AuthSwitchRequestPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.AuthSwitchRequestPacket.prototype">module mysql.AuthSwitchRequestPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.AuthSwitchRequestPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.AuthSwitchRequestPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.AuthSwitchRequestPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.AuthSwitchRequestPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.AuthSwitchResponsePacket">module mysql.AuthSwitchResponsePacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.AuthSwitchResponsePacket.AuthSwitchResponsePacket">
            function <span class="apidocSignatureSpan">mysql.</span>AuthSwitchResponsePacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.AuthSwitchResponsePacket.prototype">module mysql.AuthSwitchResponsePacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.AuthSwitchResponsePacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.AuthSwitchResponsePacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.AuthSwitchResponsePacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.AuthSwitchResponsePacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.BufferList">module mysql.BufferList</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.BufferList.BufferList">
            function <span class="apidocSignatureSpan">mysql.</span>BufferList
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.BufferList.prototype">module mysql.BufferList.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.BufferList.prototype.push">
            function <span class="apidocSignatureSpan">mysql.BufferList.prototype.</span>push
            <span class="apidocSignatureSpan">(buf)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.BufferList.prototype.shift">
            function <span class="apidocSignatureSpan">mysql.BufferList.prototype.</span>shift
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ChangeUser">module mysql.ChangeUser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ChangeUser.ChangeUser">
            function <span class="apidocSignatureSpan">mysql.</span>ChangeUser
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ChangeUser.super_">
            function <span class="apidocSignatureSpan">mysql.ChangeUser.</span>super_
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ChangeUser.prototype">module mysql.ChangeUser.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ChangeUser.prototype.ErrorPacket">
            function <span class="apidocSignatureSpan">mysql.ChangeUser.prototype.</span>ErrorPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ChangeUser.prototype.start">
            function <span class="apidocSignatureSpan">mysql.ChangeUser.prototype.</span>start
            <span class="apidocSignatureSpan">(handshakeInitializationPacket)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ClientAuthenticationPacket">module mysql.ClientAuthenticationPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ClientAuthenticationPacket.ClientAuthenticationPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ClientAuthenticationPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ClientAuthenticationPacket.prototype">module mysql.ClientAuthenticationPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ClientAuthenticationPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.ClientAuthenticationPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ClientAuthenticationPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.ClientAuthenticationPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComChangeUserPacket">module mysql.ComChangeUserPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComChangeUserPacket.ComChangeUserPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComChangeUserPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComChangeUserPacket.prototype">module mysql.ComChangeUserPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComChangeUserPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.ComChangeUserPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComChangeUserPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.ComChangeUserPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComPingPacket">module mysql.ComPingPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComPingPacket.ComPingPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComPingPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComPingPacket.prototype">module mysql.ComPingPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComPingPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.ComPingPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComPingPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.ComPingPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComQueryPacket">module mysql.ComQueryPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComQueryPacket.ComQueryPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComQueryPacket
            <span class="apidocSignatureSpan">(sql)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComQueryPacket.prototype">module mysql.ComQueryPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComQueryPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.ComQueryPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComQueryPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.ComQueryPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComQuitPacket">module mysql.ComQuitPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComQuitPacket.ComQuitPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComQuitPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComQuitPacket.prototype">module mysql.ComQuitPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComQuitPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.ComQuitPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComQuitPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.ComQuitPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComStatisticsPacket">module mysql.ComStatisticsPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComStatisticsPacket.ComStatisticsPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ComStatisticsPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ComStatisticsPacket.prototype">module mysql.ComStatisticsPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComStatisticsPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.ComStatisticsPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ComStatisticsPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.ComStatisticsPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Connection">module mysql.Connection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.Connection">
            function <span class="apidocSignatureSpan">mysql.</span>Connection
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.createQuery">
            function <span class="apidocSignatureSpan">mysql.Connection.</span>createQuery
            <span class="apidocSignatureSpan">(sql, values, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.super_">
            function <span class="apidocSignatureSpan">mysql.Connection.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Connection.prototype">module mysql.Connection.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleConnectTimeout">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleConnectTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleNetworkError">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleNetworkError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolConnect">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolConnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolDrain">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolDrain
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolEnd">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolEnd
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolEnqueue">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolEnqueue
            <span class="apidocSignatureSpan">(sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolError">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._handleProtocolHandshake">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolHandshake
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._implyConnect">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_implyConnect
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype._startTLS">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_startTLS
            <span class="apidocSignatureSpan">(onSecure)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.beginTransaction">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>beginTransaction
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.changeUser">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>changeUser
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.commit">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>commit
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.connect">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>connect
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.destroy">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.end">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>end
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.escape">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>escape
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.escapeId">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>escapeId
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.format">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>format
            <span class="apidocSignatureSpan">(sql, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.pause">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>pause
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.ping">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>ping
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.query">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>query
            <span class="apidocSignatureSpan">(sql, values, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.resume">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>resume
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.rollback">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>rollback
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Connection.prototype.statistics">
            function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>statistics
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ConnectionConfig">module mysql.ConnectionConfig</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ConnectionConfig.ConnectionConfig">
            function <span class="apidocSignatureSpan">mysql.</span>ConnectionConfig
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ConnectionConfig.getCharsetNumber">
            function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>getCharsetNumber
            <span class="apidocSignatureSpan">(charset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ConnectionConfig.getDefaultFlags">
            function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>getDefaultFlags
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ConnectionConfig.getSSLProfile">
            function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>getSSLProfile
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ConnectionConfig.mergeFlags">
            function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>mergeFlags
            <span class="apidocSignatureSpan">(defaultFlags, userFlags)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ConnectionConfig.parseFlagList">
            function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>parseFlagList
            <span class="apidocSignatureSpan">(flagList)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ConnectionConfig.parseUrl">
            function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>parseUrl
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.EmptyPacket">module mysql.EmptyPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.EmptyPacket.EmptyPacket">
            function <span class="apidocSignatureSpan">mysql.</span>EmptyPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.EmptyPacket.prototype">module mysql.EmptyPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.EmptyPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.EmptyPacket.prototype.</span>write
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.EofPacket">module mysql.EofPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.EofPacket.EofPacket">
            function <span class="apidocSignatureSpan">mysql.</span>EofPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.EofPacket.prototype">module mysql.EofPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.EofPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.EofPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.EofPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.EofPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ErrorPacket">module mysql.ErrorPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ErrorPacket.ErrorPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ErrorPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ErrorPacket.prototype">module mysql.ErrorPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ErrorPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.ErrorPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ErrorPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.ErrorPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Field">module mysql.Field</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Field.Field">
            function <span class="apidocSignatureSpan">mysql.</span>Field
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Field.prototype">module mysql.Field.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Field.prototype.buffer">
            function <span class="apidocSignatureSpan">mysql.Field.prototype.</span>buffer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Field.prototype.geometry">
            function <span class="apidocSignatureSpan">mysql.Field.prototype.</span>geometry
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Field.prototype.string">
            function <span class="apidocSignatureSpan">mysql.Field.prototype.</span>string
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.FieldPacket">module mysql.FieldPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.FieldPacket.FieldPacket">
            function <span class="apidocSignatureSpan">mysql.</span>FieldPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.FieldPacket.prototype">module mysql.FieldPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.FieldPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.FieldPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.FieldPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.FieldPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Handshake">module mysql.Handshake</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.Handshake">
            function <span class="apidocSignatureSpan">mysql.</span>Handshake
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.super_">
            function <span class="apidocSignatureSpan">mysql.Handshake.</span>super_
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Handshake.prototype">module mysql.Handshake.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.prototype.AuthSwitchRequestPacket">
            function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>AuthSwitchRequestPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.prototype.ErrorPacket">
            function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>ErrorPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.prototype.HandshakeInitializationPacket">
            function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>HandshakeInitializationPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.prototype.UseOldPasswordPacket">
            function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>UseOldPasswordPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.prototype._sendCredentials">
            function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>_sendCredentials
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.prototype._tlsUpgradeCompleteHandler">
            function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>_tlsUpgradeCompleteHandler
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Handshake.prototype.determinePacket">
            function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>determinePacket
            <span class="apidocSignatureSpan">(firstByte, parser)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.HandshakeInitializationPacket">module mysql.HandshakeInitializationPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.HandshakeInitializationPacket.HandshakeInitializationPacket">
            function <span class="apidocSignatureSpan">mysql.</span>HandshakeInitializationPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.HandshakeInitializationPacket.prototype">module mysql.HandshakeInitializationPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.HandshakeInitializationPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.HandshakeInitializationPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.HandshakeInitializationPacket.prototype.scrambleBuff">
            function <span class="apidocSignatureSpan">mysql.HandshakeInitializationPacket.prototype.</span>scrambleBuff
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.HandshakeInitializationPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.HandshakeInitializationPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.LocalDataFilePacket">module mysql.LocalDataFilePacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.LocalDataFilePacket.LocalDataFilePacket">
            function <span class="apidocSignatureSpan">mysql.</span>LocalDataFilePacket
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.LocalDataFilePacket.prototype">module mysql.LocalDataFilePacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.LocalDataFilePacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.LocalDataFilePacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.OkPacket">module mysql.OkPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.OkPacket.OkPacket">
            function <span class="apidocSignatureSpan">mysql.</span>OkPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.OkPacket.prototype">module mysql.OkPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.OkPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.OkPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.OkPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.OkPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.OldPasswordPacket">module mysql.OldPasswordPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.OldPasswordPacket.OldPasswordPacket">
            function <span class="apidocSignatureSpan">mysql.</span>OldPasswordPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.OldPasswordPacket.prototype">module mysql.OldPasswordPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.OldPasswordPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.OldPasswordPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.OldPasswordPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.OldPasswordPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PacketWriter">module mysql.PacketWriter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.PacketWriter">
            function <span class="apidocSignatureSpan">mysql.</span>PacketWriter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PacketWriter.prototype">module mysql.PacketWriter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype._allocate">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>_allocate
            <span class="apidocSignatureSpan">(bytes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.toBuffer">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>toBuffer
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeBuffer">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeBuffer
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeFiller">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeFiller
            <span class="apidocSignatureSpan">(bytes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedBuffer">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeLengthCodedBuffer
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedNumber">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeLengthCodedNumber
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedString">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeLengthCodedString
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeNullTerminatedBuffer">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeNullTerminatedBuffer
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeNullTerminatedString">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeNullTerminatedString
            <span class="apidocSignatureSpan">(value, encoding)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeString">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeString
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PacketWriter.prototype.writeUnsignedNumber">
            function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeUnsignedNumber
            <span class="apidocSignatureSpan">(bytes, value)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Parser">module mysql.Parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.Parser">
            function <span class="apidocSignatureSpan">mysql.</span>Parser
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Parser.prototype">module mysql.Parser.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype._advanceToNextPacket">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>_advanceToNextPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype._combineLongPacketBuffers">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>_combineLongPacketBuffers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype._combineNextBuffers">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>_combineNextBuffers
            <span class="apidocSignatureSpan">(bytes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype._nullByteOffset">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>_nullByteOffset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.append">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>append
            <span class="apidocSignatureSpan">(chunk)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.incrementPacketNumber">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>incrementPacketNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.packetLength">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>packetLength
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseBuffer">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseBuffer
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseFiller">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseFiller
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseGeometryValue">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseGeometryValue
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseLengthCodedBuffer">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseLengthCodedBuffer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseLengthCodedNumber">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseLengthCodedNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseLengthCodedString">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseLengthCodedString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseNullTerminatedBuffer">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseNullTerminatedBuffer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseNullTerminatedString">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseNullTerminatedString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parsePacketTerminatedBuffer">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parsePacketTerminatedBuffer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parsePacketTerminatedString">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parsePacketTerminatedString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseString">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseString
            <span class="apidocSignatureSpan">(length)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.parseUnsignedNumber">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseUnsignedNumber
            <span class="apidocSignatureSpan">(bytes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.pause">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>pause
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.peak">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>peak
            <span class="apidocSignatureSpan">(offset)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.reachedPacketEnd">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>reachedPacketEnd
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.resetPacketNumber">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>resetPacketNumber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.resume">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>resume
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Parser.prototype.write">
            function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>write
            <span class="apidocSignatureSpan">(chunk)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Ping">module mysql.Ping</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Ping.Ping">
            function <span class="apidocSignatureSpan">mysql.</span>Ping
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Ping.super_">
            function <span class="apidocSignatureSpan">mysql.Ping.</span>super_
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Ping.prototype">module mysql.Ping.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Ping.prototype.start">
            function <span class="apidocSignatureSpan">mysql.Ping.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Pool">module mysql.Pool</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.Pool">
            function <span class="apidocSignatureSpan">mysql.</span>Pool
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.super_">
            function <span class="apidocSignatureSpan">mysql.Pool.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Pool.prototype">module mysql.Pool.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype._enqueueCallback">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>_enqueueCallback
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype._needsChangeUser">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>_needsChangeUser
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype._purgeConnection">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>_purgeConnection
            <span class="apidocSignatureSpan">(connection, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype._removeConnection">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>_removeConnection
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype.acquireConnection">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>acquireConnection
            <span class="apidocSignatureSpan">(connection, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype.end">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>end
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype.escape">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>escape
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype.escapeId">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>escapeId
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype.getConnection">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>getConnection
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype.query">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>query
            <span class="apidocSignatureSpan">(sql, values, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Pool.prototype.releaseConnection">
            function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>releaseConnection
            <span class="apidocSignatureSpan">(connection)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolCluster">module mysql.PoolCluster</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.PoolCluster">
            function <span class="apidocSignatureSpan">mysql.</span>PoolCluster
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.super_">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolCluster.prototype">module mysql.PoolCluster.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype._clearFindCaches">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_clearFindCaches
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype._decreaseErrorCount">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_decreaseErrorCount
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype._findNodeIds">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_findNodeIds
            <span class="apidocSignatureSpan">(pattern, includeOffline)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype._getConnection">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_getConnection
            <span class="apidocSignatureSpan">(node, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype._getNode">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_getNode
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype._increaseErrorCount">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_increaseErrorCount
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype._removeNode">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_removeNode
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype.add">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>add
            <span class="apidocSignatureSpan">(id, config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype.end">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>end
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype.getConnection">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>getConnection
            <span class="apidocSignatureSpan">(pattern, selector, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype.of">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>of
            <span class="apidocSignatureSpan">(pattern, selector)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolCluster.prototype.remove">
            function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>remove
            <span class="apidocSignatureSpan">(pattern)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolConfig">module mysql.PoolConfig</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConfig.PoolConfig">
            function <span class="apidocSignatureSpan">mysql.</span>PoolConfig
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolConfig.prototype">module mysql.PoolConfig.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConfig.prototype.newConnectionConfig">
            function <span class="apidocSignatureSpan">mysql.PoolConfig.prototype.</span>newConnectionConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolConnection">module mysql.PoolConnection</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConnection.PoolConnection">
            function <span class="apidocSignatureSpan">mysql.</span>PoolConnection
            <span class="apidocSignatureSpan">(pool, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConnection.super_">
            function <span class="apidocSignatureSpan">mysql.PoolConnection.</span>super_
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolConnection.prototype">module mysql.PoolConnection.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConnection.prototype._realEnd">
            function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>_realEnd
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConnection.prototype._removeFromPool">
            function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>_removeFromPool
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConnection.prototype.destroy">
            function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConnection.prototype.end">
            function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>end
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolConnection.prototype.release">
            function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>release
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolNamespace">module mysql.PoolNamespace</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolNamespace.PoolNamespace">
            function <span class="apidocSignatureSpan">mysql.</span>PoolNamespace
            <span class="apidocSignatureSpan">(cluster, pattern, selector)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolNamespace.prototype">module mysql.PoolNamespace.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolNamespace.prototype._getClusterNode">
            function <span class="apidocSignatureSpan">mysql.PoolNamespace.prototype.</span>_getClusterNode
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolNamespace.prototype.getConnection">
            function <span class="apidocSignatureSpan">mysql.PoolNamespace.prototype.</span>getConnection
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolNamespace.prototype.query">
            function <span class="apidocSignatureSpan">mysql.PoolNamespace.prototype.</span>query
            <span class="apidocSignatureSpan">(sql, values, cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.PoolSelector">module mysql.PoolSelector</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolSelector.ORDER">
            function <span class="apidocSignatureSpan">mysql.PoolSelector.</span>ORDER
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolSelector.RANDOM">
            function <span class="apidocSignatureSpan">mysql.PoolSelector.</span>RANDOM
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.PoolSelector.RR">
            function <span class="apidocSignatureSpan">mysql.PoolSelector.</span>RR
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Protocol">module mysql.Protocol</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.Protocol">
            function <span class="apidocSignatureSpan">mysql.</span>Protocol
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.super_">
            function <span class="apidocSignatureSpan">mysql.Protocol.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Protocol.prototype">module mysql.Protocol.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._debugPacket">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_debugPacket
            <span class="apidocSignatureSpan">(incoming, packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._delegateError">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_delegateError
            <span class="apidocSignatureSpan">(err, sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._dequeue">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_dequeue
            <span class="apidocSignatureSpan">(sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._determinePacket">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_determinePacket
            <span class="apidocSignatureSpan">(sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._emitPacket">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_emitPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._enqueue">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_enqueue
            <span class="apidocSignatureSpan">(sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._hasPendingErrorHandlers">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_hasPendingErrorHandlers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._parsePacket">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_parsePacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._parsePacketDebug">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_parsePacketDebug
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._shouldErrorBubbleUp">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_shouldErrorBubbleUp
            <span class="apidocSignatureSpan">(err, sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._startSequence">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_startSequence
            <span class="apidocSignatureSpan">(sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype._validateEnqueue">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_validateEnqueue
            <span class="apidocSignatureSpan">(sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.changeUser">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>changeUser
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.destroy">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.end">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>end
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.handleNetworkError">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>handleNetworkError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.handleParserError">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>handleParserError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.handshake">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>handshake
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.pause">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>pause
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.ping">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>ping
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.query">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>query
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.quit">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>quit
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.resume">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>resume
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.stats">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>stats
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Protocol.prototype.write">
            function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>write
            <span class="apidocSignatureSpan">(buffer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Query">module mysql.Query</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.Query">
            function <span class="apidocSignatureSpan">mysql.</span>Query
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.super_">
            function <span class="apidocSignatureSpan">mysql.Query.</span>super_
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Query.prototype">module mysql.Query.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.EofPacket">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>EofPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.ErrorPacket">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>ErrorPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.FieldPacket">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>FieldPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.OkPacket">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>OkPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.ResultSetHeaderPacket">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>ResultSetHeaderPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.RowDataPacket">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>RowDataPacket
            <span class="apidocSignatureSpan">(packet, parser, connection)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype._handleFinalResultPacket">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>_handleFinalResultPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype._sendLocalDataFile">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>_sendLocalDataFile
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.determinePacket">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>determinePacket
            <span class="apidocSignatureSpan">(byte, parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.start">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Query.prototype.stream">
            function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>stream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Quit">module mysql.Quit</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Quit.Quit">
            function <span class="apidocSignatureSpan">mysql.</span>Quit
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Quit.super_">
            function <span class="apidocSignatureSpan">mysql.Quit.</span>super_
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Quit.prototype">module mysql.Quit.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Quit.prototype.end">
            function <span class="apidocSignatureSpan">mysql.Quit.prototype.</span>end
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Quit.prototype.start">
            function <span class="apidocSignatureSpan">mysql.Quit.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ResultSetHeaderPacket">module mysql.ResultSetHeaderPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ResultSetHeaderPacket.ResultSetHeaderPacket">
            function <span class="apidocSignatureSpan">mysql.</span>ResultSetHeaderPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.ResultSetHeaderPacket.prototype">module mysql.ResultSetHeaderPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ResultSetHeaderPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.ResultSetHeaderPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.ResultSetHeaderPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.ResultSetHeaderPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.SSLRequestPacket">module mysql.SSLRequestPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SSLRequestPacket.SSLRequestPacket">
            function <span class="apidocSignatureSpan">mysql.</span>SSLRequestPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.SSLRequestPacket.prototype">module mysql.SSLRequestPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SSLRequestPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.SSLRequestPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SSLRequestPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.SSLRequestPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Sequence">module mysql.Sequence</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.Sequence">
            function <span class="apidocSignatureSpan">mysql.</span>Sequence
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.determinePacket">
            function <span class="apidocSignatureSpan">mysql.Sequence.</span>determinePacket
            <span class="apidocSignatureSpan">(byte)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.super_">
            function <span class="apidocSignatureSpan">mysql.Sequence.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Sequence.prototype">module mysql.Sequence.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.prototype.ErrorPacket">
            function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>ErrorPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.prototype.OkPacket">
            function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>OkPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.prototype._addLongStackTrace">
            function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>_addLongStackTrace
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.prototype._onTimeout">
            function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>_onTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.prototype._packetToError">
            function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>_packetToError
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.prototype.end">
            function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>end
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.prototype.hasErrorHandler">
            function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>hasErrorHandler
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Sequence.prototype.start">
            function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.SqlString">module mysql.SqlString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SqlString.arrayToList">
            function <span class="apidocSignatureSpan">mysql.SqlString.</span>arrayToList
            <span class="apidocSignatureSpan">(array, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SqlString.bufferToString">
            function <span class="apidocSignatureSpan">mysql.SqlString.</span>bufferToString
            <span class="apidocSignatureSpan">(buffer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SqlString.dateToString">
            function <span class="apidocSignatureSpan">mysql.SqlString.</span>dateToString
            <span class="apidocSignatureSpan">(date, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SqlString.escape">
            function <span class="apidocSignatureSpan">mysql.SqlString.</span>escape
            <span class="apidocSignatureSpan">(val, stringifyObjects, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SqlString.escapeId">
            function <span class="apidocSignatureSpan">mysql.SqlString.</span>escapeId
            <span class="apidocSignatureSpan">(val, forbidQualified)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SqlString.format">
            function <span class="apidocSignatureSpan">mysql.SqlString.</span>format
            <span class="apidocSignatureSpan">(sql, values, stringifyObjects, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SqlString.objectToValues">
            function <span class="apidocSignatureSpan">mysql.SqlString.</span>objectToValues
            <span class="apidocSignatureSpan">(object, timeZone)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.SqlString.raw">
            function <span class="apidocSignatureSpan">mysql.SqlString.</span>raw
            <span class="apidocSignatureSpan">(sql)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Statistics">module mysql.Statistics</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Statistics.Statistics">
            function <span class="apidocSignatureSpan">mysql.</span>Statistics
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Statistics.super_">
            function <span class="apidocSignatureSpan">mysql.Statistics.</span>super_
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Statistics.prototype">module mysql.Statistics.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Statistics.prototype.StatisticsPacket">
            function <span class="apidocSignatureSpan">mysql.Statistics.prototype.</span>StatisticsPacket
            <span class="apidocSignatureSpan">(packet)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Statistics.prototype.determinePacket">
            function <span class="apidocSignatureSpan">mysql.Statistics.prototype.</span>determinePacket
            <span class="apidocSignatureSpan">(firstByte)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Statistics.prototype.start">
            function <span class="apidocSignatureSpan">mysql.Statistics.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.StatisticsPacket">module mysql.StatisticsPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.StatisticsPacket.StatisticsPacket">
            function <span class="apidocSignatureSpan">mysql.</span>StatisticsPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.StatisticsPacket.prototype">module mysql.StatisticsPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.StatisticsPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.StatisticsPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.StatisticsPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.StatisticsPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Timer">module mysql.Timer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Timer.Timer">
            function <span class="apidocSignatureSpan">mysql.</span>Timer
            <span class="apidocSignatureSpan">(object)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.Timer.prototype">module mysql.Timer.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Timer.prototype._onTimeout">
            function <span class="apidocSignatureSpan">mysql.Timer.prototype.</span>_onTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Timer.prototype.active">
            function <span class="apidocSignatureSpan">mysql.Timer.prototype.</span>active
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Timer.prototype.start">
            function <span class="apidocSignatureSpan">mysql.Timer.prototype.</span>start
            <span class="apidocSignatureSpan">(msecs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.Timer.prototype.stop">
            function <span class="apidocSignatureSpan">mysql.Timer.prototype.</span>stop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.UseOldPasswordPacket">module mysql.UseOldPasswordPacket</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.UseOldPasswordPacket.UseOldPasswordPacket">
            function <span class="apidocSignatureSpan">mysql.</span>UseOldPasswordPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.UseOldPasswordPacket.prototype">module mysql.UseOldPasswordPacket.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.UseOldPasswordPacket.prototype.parse">
            function <span class="apidocSignatureSpan">mysql.UseOldPasswordPacket.prototype.</span>parse
            <span class="apidocSignatureSpan">(parser)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.UseOldPasswordPacket.prototype.write">
            function <span class="apidocSignatureSpan">mysql.UseOldPasswordPacket.prototype.</span>write
            <span class="apidocSignatureSpan">(writer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.mysql.index">module mysql.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.AuthSwitchRequestPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>AuthSwitchRequestPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.AuthSwitchResponsePacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>AuthSwitchResponsePacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.ClientAuthenticationPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>ClientAuthenticationPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.ComChangeUserPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>ComChangeUserPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.ComPingPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>ComPingPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.ComQueryPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>ComQueryPacket
            <span class="apidocSignatureSpan">(sql)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.ComQuitPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>ComQuitPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.ComStatisticsPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>ComStatisticsPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.EmptyPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>EmptyPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.EofPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>EofPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.ErrorPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>ErrorPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.Field">
            function <span class="apidocSignatureSpan">mysql.index.</span>Field
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.FieldPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>FieldPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.HandshakeInitializationPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>HandshakeInitializationPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.LocalDataFilePacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>LocalDataFilePacket
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.OkPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>OkPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.OldPasswordPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>OldPasswordPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.ResultSetHeaderPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>ResultSetHeaderPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.RowDataPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>RowDataPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.SSLRequestPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>SSLRequestPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.StatisticsPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>StatisticsPacket
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.mysql.index.UseOldPasswordPacket">
            function <span class="apidocSignatureSpan">mysql.index.</span>UseOldPasswordPacket
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql" id="apidoc.module.mysql">module mysql</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.AuthSwitchRequestPacket" id="apidoc.element.mysql.AuthSwitchRequestPacket">
        function <span class="apidocSignatureSpan">mysql.</span>AuthSwitchRequestPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AuthSwitchRequestPacket(options) {
  options = options || {};

  this.status         = 0xfe;
  this.authMethodName = options.authMethodName;
  this.authMethodData = options.authMethodData;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.AuthSwitchResponsePacket" id="apidoc.element.mysql.AuthSwitchResponsePacket">
        function <span class="apidocSignatureSpan">mysql.</span>AuthSwitchResponsePacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AuthSwitchResponsePacket(options) {
  options = options || {};

  this.data = options.data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return undefined;
};

Handshake.prototype['AuthSwitchRequestPacket'] = function (packet) {
if (packet.authMethodName === 'mysql_native_password') {
  var challenge = packet.authMethodData.slice(0, 20);

  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">AuthSwitchResponsePacket</span>({
    data: Auth.token(this._config.password, challenge)
  }));
} else {
  var err = new Error(
    'MySQL is requesting the ' + packet.authMethodName + ' authentication method, which is not supported.'
  );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.BufferList" id="apidoc.element.mysql.BufferList">
        function <span class="apidocSignatureSpan">mysql.</span>BufferList
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BufferList() {
  this.bufs = [];
  this.size = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ChangeUser" id="apidoc.element.mysql.ChangeUser">
        function <span class="apidocSignatureSpan">mysql.</span>ChangeUser
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ChangeUser(options, callback) {
  Sequence.call(this, options, callback);

  this._user          = options.user;
  this._password      = options.password;
  this._database      = options.database;
  this._charsetNumber = options.charsetNumber;
  this._currentConfig = options.currentConfig;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Protocol.prototype.query = function query(options, callback) {
return this._enqueue(new Sequences.Query(options, callback));
};

Protocol.prototype.changeUser = function changeUser(options, callback) {
return this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">ChangeUser</span>(options, callback));
};

Protocol.prototype.ping = function ping(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ClientAuthenticationPacket" id="apidoc.element.mysql.ClientAuthenticationPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ClientAuthenticationPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ClientAuthenticationPacket(options) {
  options = options || {};

  this.clientFlags   = options.clientFlags;
  this.maxPacketSize = options.maxPacketSize;
  this.charsetNumber = options.charsetNumber;
  this.filler        = undefined;
  this.user          = options.user;
  this.scrambleBuff  = options.scrambleBuff;
  this.database      = options.database;
  this.protocol41    = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Handshake.prototype._tlsUpgradeCompleteHandler = function() {
this._sendCredentials();
};

Handshake.prototype._sendCredentials = function() {
var packet = this._handshakeInitializationPacket;
this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ClientAuthenticationPacket</span>({
  clientFlags   : this._config.clientFlags,
  maxPacketSize : this._config.maxPacketSize,
  charsetNumber : this._config.charsetNumber,
  user          : this._config.user,
  database      : this._config.database,
  protocol41    : packet.protocol41,
  scrambleBuff  : (packet.protocol41)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComChangeUserPacket" id="apidoc.element.mysql.ComChangeUserPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComChangeUserPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComChangeUserPacket(options) {
  options = options || {};

  this.command       = 0x11;
  this.user          = options.user;
  this.scrambleBuff  = options.scrambleBuff;
  this.database      = options.database;
  this.charsetNumber = options.charsetNumber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._currentConfig = options.currentConfig;
}

ChangeUser.prototype.start = function(handshakeInitializationPacket) {
var scrambleBuff = handshakeInitializationPacket.scrambleBuff();
scrambleBuff     = Auth.token(this._password, scrambleBuff);

var packet = new Packets.<span class="apidocCodeKeywordSpan">ComChangeUserPacket</span>({
  user          : this._user,
  scrambleBuff  : scrambleBuff,
  database      : this._database,
  charsetNumber : this._charsetNumber
});

this._currentConfig.user          = this._user;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComPingPacket" id="apidoc.element.mysql.ComPingPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComPingPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComPingPacket() {
  this.command = 0x0e;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    options = {};
  }

  Sequence.call(this, options, callback);
}

Ping.prototype.start = function() {
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComPingPacket</span>());
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComQueryPacket" id="apidoc.element.mysql.ComQueryPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComQueryPacket
        <span class="apidocSignatureSpan">(sql)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComQueryPacket(sql) {
  this.command = 0x03;
  this.sql     = sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._results   = [];
this._fields    = [];
this._index     = 0;
this._loadError = null;
}

Query.prototype.start = function() {
this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComQueryPacket</span>(this.sql));
};

Query.prototype.determinePacket = function determinePacket(byte, parser) {
var resultSet = this._resultSet;

if (!resultSet) {
  switch (byte) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComQuitPacket" id="apidoc.element.mysql.ComQuitPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComQuitPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComQuitPacket() {
  this.command = 0x01;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  Sequence.prototype.end.call(this, err);
};

Quit.prototype.start = function() {
  this._started = true;
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComQuitPacket</span>());
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComStatisticsPacket" id="apidoc.element.mysql.ComStatisticsPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComStatisticsPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComStatisticsPacket() {
  this.command = 0x09;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    options = {};
  }

  Sequence.call(this, options, callback);
}

Statistics.prototype.start = function() {
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComStatisticsPacket</span>());
};

Statistics.prototype['StatisticsPacket'] = function (packet) {
  this.end(null, packet);
};

Statistics.prototype.determinePacket = function determinePacket(firstByte) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection" id="apidoc.element.mysql.Connection">
        function <span class="apidocSignatureSpan">mysql.</span>Connection
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Connection(options) {
  Events.EventEmitter.call(this);

  this.config = options.config;

  this._socket        = options.socket;
  this._protocol      = new Protocol({config: this.config, connection: this});
  this._connectCalled = false;
  this.state          = 'disconnected';
  this.threadId       = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ConnectionConfig" id="apidoc.element.mysql.ConnectionConfig">
        function <span class="apidocSignatureSpan">mysql.</span>ConnectionConfig
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConnectionConfig(options) {
  if (typeof options === 'string') {
    options = ConnectionConfig.parseUrl(options);
  }

  this.host               = options.host || 'localhost';
  this.port               = options.port || 3306;
  this.localAddress       = options.localAddress;
  this.socketPath         = options.socketPath;
  this.user               = options.user || undefined;
  this.password           = options.password || undefined;
  this.database           = options.database;
  this.connectTimeout     = (options.connectTimeout === undefined)
    ? (10 * 1000)
    : options.connectTimeout;
  this.insecureAuth       = options.insecureAuth || false;
  this.supportBigNumbers  = options.supportBigNumbers || false;
  this.bigNumberStrings   = options.bigNumberStrings || false;
  this.dateStrings        = options.dateStrings || false;
  this.debug              = options.debug;
  this.trace              = options.trace !== false;
  this.stringifyObjects   = options.stringifyObjects || false;
  this.timezone           = options.timezone || 'local';
  this.flags              = options.flags || '';
  this.queryFormat        = options.queryFormat;
  this.pool               = options.pool || undefined;
  this.ssl                = (typeof options.ssl === 'string')
    ? ConnectionConfig.getSSLProfile(options.ssl)
    : (options.ssl || false);
  this.multipleStatements = options.multipleStatements || false;
  this.typeCast           = (options.typeCast === undefined)
    ? true
    : options.typeCast;

  if (this.timezone[0] === ' ') {
    // "+" is a url encoded char for space so it
    // gets translated to space when giving a
    // connection string..
    this.timezone = '+' + this.timezone.substr(1);
  }

  if (this.ssl) {
    // Default rejectUnauthorized to true
    this.ssl.rejectUnauthorized = this.ssl.rejectUnauthorized !== false;
  }

  this.maxPacketSize = 0;
  this.charsetNumber = (options.charset)
    ? ConnectionConfig.getCharsetNumber(options.charset)
    : options.charsetNumber || Charsets.UTF8_GENERAL_CI;

  // Set the client flags
  var defaultFlags = ConnectionConfig.getDefaultFlags(options);
  this.clientFlags = ConnectionConfig.mergeFlags(defaultFlags, options.flags);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.EmptyPacket" id="apidoc.element.mysql.EmptyPacket">
        function <span class="apidocSignatureSpan">mysql.</span>EmptyPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EmptyPacket() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

localStream.on('error', function (err) {
  self._loadError = err;
  localStream.emit('end');
});

localStream.on('end', function () {
  self.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">EmptyPacket</span>());
});
};

Query.prototype.stream = function(options) {
var self = this;

options = options || {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.EofPacket" id="apidoc.element.mysql.EofPacket">
        function <span class="apidocSignatureSpan">mysql.</span>EofPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EofPacket(options) {
  options = options || {};

  this.fieldCount   = undefined;
  this.warningCount = options.warningCount;
  this.serverStatus = options.serverStatus;
  this.protocol41   = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ErrorPacket" id="apidoc.element.mysql.ErrorPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ErrorPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ErrorPacket(options) {
  options = options || {};

  this.fieldCount     = options.fieldCount;
  this.errno          = options.errno;
  this.sqlStateMarker = options.sqlStateMarker;
  this.sqlState       = options.sqlState;
  this.message        = options.message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Field" id="apidoc.element.mysql.Field">
        function <span class="apidocSignatureSpan">mysql.</span>Field
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Field(options) {
  options = options || {};

  this.parser = options.parser;
  this.packet = options.packet;
  this.db     = options.packet.db;
  this.table  = options.packet.table;
  this.name   = options.packet.name;
  this.type   = typeToString(options.packet.type);
  this.length = options.packet.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.FieldPacket" id="apidoc.element.mysql.FieldPacket">
        function <span class="apidocSignatureSpan">mysql.</span>FieldPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FieldPacket(options) {
  options = options || {};

  this.catalog    = options.catalog;
  this.db         = options.db;
  this.table      = options.table;
  this.orgTable   = options.orgTable;
  this.name       = options.name;
  this.orgName    = options.orgName;
  this.charsetNr  = options.charsetNr;
  this.length     = options.length;
  this.type       = options.type;
  this.flags      = options.flags;
  this.decimals   = options.decimals;
  this.default    = options.default;
  this.zeroFill   = options.zeroFill;
  this.protocol41 = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Handshake" id="apidoc.element.mysql.Handshake">
        function <span class="apidocSignatureSpan">mysql.</span>Handshake
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Handshake(options, callback) {
  Sequence.call(this, options, callback);

  options = options || {};

  this._config                        = options.config;
  this._handshakeInitializationPacket = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    callback = options;
    options = {};
  }

  options = options || {};
  options.config = this._config;

  var sequence = this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Handshake</span>(options, callback));

  this._handshake = true;

  return sequence;
};

Protocol.prototype.query = function query(options, callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.HandshakeInitializationPacket" id="apidoc.element.mysql.HandshakeInitializationPacket">
        function <span class="apidocSignatureSpan">mysql.</span>HandshakeInitializationPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HandshakeInitializationPacket(options) {
  options = options || {};

  this.protocolVersion     = options.protocolVersion;
  this.serverVersion       = options.serverVersion;
  this.threadId            = options.threadId;
  this.scrambleBuff1       = options.scrambleBuff1;
  this.filler1             = options.filler1;
  this.serverCapabilities1 = options.serverCapabilities1;
  this.serverLanguage      = options.serverLanguage;
  this.serverStatus        = options.serverStatus;
  this.serverCapabilities2 = options.serverCapabilities2;
  this.scrambleLength      = options.scrambleLength;
  this.filler2             = options.filler2;
  this.scrambleBuff2       = options.scrambleBuff2;
  this.filler3             = options.filler3;
  this.pluginData          = options.pluginData;
  this.protocol41          = options.protocol41;

  if (this.protocol41) {
    // force set the bit in serverCapabilities1
    this.serverCapabilities1 |= Client.CLIENT_PROTOCOL_41;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.LocalDataFilePacket" id="apidoc.element.mysql.LocalDataFilePacket">
        function <span class="apidocSignatureSpan">mysql.</span>LocalDataFilePacket
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LocalDataFilePacket(data) {
  this.data = data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

this.on('resume', function () {
  localStream.resume();
});

localStream.on('data', function (data) {
  self.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">LocalDataFilePacket</span>(data));
});

localStream.on('error', function (err) {
  self._loadError = err;
  localStream.emit('end');
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.OkPacket" id="apidoc.element.mysql.OkPacket">
        function <span class="apidocSignatureSpan">mysql.</span>OkPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OkPacket(options) {
  options = options || {};

  this.fieldCount   = undefined;
  this.affectedRows = undefined;
  this.insertId     = undefined;
  this.serverStatus = undefined;
  this.warningCount = undefined;
  this.message      = undefined;
  this.protocol41   = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.OldPasswordPacket" id="apidoc.element.mysql.OldPasswordPacket">
        function <span class="apidocSignatureSpan">mysql.</span>OldPasswordPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OldPasswordPacket(options) {
  options = options || {};

  this.scrambleBuff = options.scrambleBuff;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  err.code = 'HANDSHAKE_INSECURE_AUTH';
  err.fatal = true;

  this.end(err);
  return;
}

this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">OldPasswordPacket</span>({
  scrambleBuff: Auth.scramble323(this._handshakeInitializationPacket.scrambleBuff(), this._config.password)
}));
};

Handshake.prototype['ErrorPacket'] = function(packet) {
var err = this._packetToError(packet, true);
err.fatal = true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter" id="apidoc.element.mysql.PacketWriter">
        function <span class="apidocSignatureSpan">mysql.</span>PacketWriter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PacketWriter() {
  this._buffer = null;
  this._offset = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser" id="apidoc.element.mysql.Parser">
        function <span class="apidocSignatureSpan">mysql.</span>Parser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(options) {
  options = options || {};

  this._supportBigNumbers = options.config &amp;&amp; options.config.supportBigNumbers;
  this._buffer            = Buffer.alloc(0);
  this._nextBuffers       = new BufferList();
  this._longPacketBuffers = new BufferList();
  this._offset            = 0;
  this._packetEnd         = null;
  this._packetHeader      = null;
  this._packetOffset      = null;
  this._onError           = options.onError || function(err) { throw err; };
  this._onPacket          = options.onPacket || function() {};
  this._nextPacketNumber  = 0;
  this._encoding          = 'utf-8';
  this._paused            = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Ping" id="apidoc.element.mysql.Ping">
        function <span class="apidocSignatureSpan">mysql.</span>Ping
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Ping(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  Sequence.call(this, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Protocol.prototype.ping = function ping(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}

return this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Ping</span>(options, callback));
};

Protocol.prototype.stats = function stats(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool" id="apidoc.element.mysql.Pool">
        function <span class="apidocSignatureSpan">mysql.</span>Pool
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Pool(options) {
  EventEmitter.call(this);
  this.config = options.config;
  this.config.connectionConfig.pool = this;

  this._acquiringConnections = [];
  this._allConnections       = [];
  this._freeConnections      = [];
  this._connectionQueue      = [];
  this._closed               = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster" id="apidoc.element.mysql.PoolCluster">
        function <span class="apidocSignatureSpan">mysql.</span>PoolCluster
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolCluster(config) {
  EventEmitter.call(this);

  config = config || {};
  this._canRetry = typeof config.canRetry === 'undefined' ? true : config.canRetry;
  this._defaultSelector = config.defaultSelector || 'RR';
  this._removeNodeErrorCount = config.removeNodeErrorCount || 5;
  this._restoreNodeTimeout = config.restoreNodeTimeout || 0;

  this._closed = false;
  this._findCaches = Object.create(null);
  this._lastId = 0;
  this._namespaces = Object.create(null);
  this._nodes = Object.create(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolConfig" id="apidoc.element.mysql.PoolConfig">
        function <span class="apidocSignatureSpan">mysql.</span>PoolConfig
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolConfig(options) {
  if (typeof options === 'string') {
    options = ConnectionConfig.parseUrl(options);
  }

  this.acquireTimeout     = (options.acquireTimeout === undefined)
    ? 10 * 1000
    : Number(options.acquireTimeout);
  this.connectionConfig   = new ConnectionConfig(options);
  this.waitForConnections = (options.waitForConnections === undefined)
    ? true
    : Boolean(options.waitForConnections);
  this.connectionLimit    = (options.connectionLimit === undefined)
    ? 10
    : Number(options.connectionLimit);
  this.queueLimit         = (options.queueLimit === undefined)
    ? 0
    : Number(options.queueLimit);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolConnection" id="apidoc.element.mysql.PoolConnection">
        function <span class="apidocSignatureSpan">mysql.</span>PoolConnection
        <span class="apidocSignatureSpan">(pool, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolConnection(pool, options) {
  Connection.call(this, options);
  this._pool  = pool;

  // Bind connection to pool domain
  if (Events.usingDomains) {
    this.domain = pool.domain;
  }

  // When a fatal error occurs the connection's protocol ends, which will cause
  // the connection to end as well, thus we only need to watch for the end event
  // and we will be notified of disconnects.
  this.on('end', this._removeFromPool);
  this.on('error', function (err) {
    if (err.fatal) {
      this._removeFromPool();
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolNamespace" id="apidoc.element.mysql.PoolNamespace">
        function <span class="apidocSignatureSpan">mysql.</span>PoolNamespace
        <span class="apidocSignatureSpan">(cluster, pattern, selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolNamespace(cluster, pattern, selector) {
  this._cluster = cluster;
  this._pattern = pattern;
  this._selector = new PoolSelector[selector]();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol" id="apidoc.element.mysql.Protocol">
        function <span class="apidocSignatureSpan">mysql.</span>Protocol
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Protocol(options) {
  Stream.call(this);

  options = options || {};

  this.readable = true;
  this.writable = true;

  this._config                        = options.config || {};
  this._connection                    = options.connection;
  this._callback                      = null;
  this._fatalError                    = null;
  this._quitSequence                  = null;
  this._handshake                     = false;
  this._handshaked                    = false;
  this._ended                         = false;
  this._destroyed                     = false;
  this._queue                         = [];
  this._handshakeInitializationPacket = null;

  this._parser = new Parser({
    onError  : this.handleParserError.bind(this),
    onPacket : this._parsePacket.bind(this),
    config   : this._config
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query" id="apidoc.element.mysql.Query">
        function <span class="apidocSignatureSpan">mysql.</span>Query
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Query(options, callback) {
  Sequence.call(this, options, callback);

  this.sql = options.sql;
  this.values = options.values;
  this.typeCast = (options.typeCast === undefined)
    ? true
    : options.typeCast;
  this.nestTables = options.nestTables || false;

  this._resultSet = null;
  this._results   = [];
  this._fields    = [];
  this._index     = 0;
  this._loadError = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this._handshake = true;

  return sequence;
};

Protocol.prototype.query = function query(options, callback) {
  return this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Query</span>(options, callback));
};

Protocol.prototype.changeUser = function changeUser(options, callback) {
  return this._enqueue(new Sequences.ChangeUser(options, callback));
};

Protocol.prototype.ping = function ping(options, callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Quit" id="apidoc.element.mysql.Quit">
        function <span class="apidocSignatureSpan">mysql.</span>Quit
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Quit(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  Sequence.call(this, options, callback);

  this._started = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Protocol.prototype.quit = function quit(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  var self     = this;
  var sequence = this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Quit</span>(options, callback));

  sequence.on('end', function () {
    self.end();
  });

  return this._quitSequence = sequence;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ResultSetHeaderPacket" id="apidoc.element.mysql.ResultSetHeaderPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ResultSetHeaderPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResultSetHeaderPacket(options) {
  options = options || {};

  this.fieldCount = options.fieldCount;
  this.extra      = options.extra;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SSLRequestPacket" id="apidoc.element.mysql.SSLRequestPacket">
        function <span class="apidocSignatureSpan">mysql.</span>SSLRequestPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SSLRequestPacket(options) {
  options = options || {};
  this.clientFlags   = options.clientFlags | ClientConstants.CLIENT_SSL;
  this.maxPacketSize = options.maxPacketSize;
  this.charsetNumber = options.charsetNumber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    err.fatal = true;

    this.end(err);
    return;
  }

  this._config.clientFlags |= ClientConstants.CLIENT_SSL;
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">SSLRequestPacket</span>({
    clientFlags   : this._config.clientFlags,
    maxPacketSize : this._config.maxPacketSize,
    charsetNumber : this._config.charsetNumber
  }));
  this.emit('start-tls');
} else {
  this._sendCredentials();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence" id="apidoc.element.mysql.Sequence">
        function <span class="apidocSignatureSpan">mysql.</span>Sequence
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Sequence(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  EventEmitter.call(this);

  options = options || {};

  this._callback = callback;
  this._callSite = null;
  this._ended    = false;
  this._timeout  = options.timeout;
  this._timer    = new Timer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Statistics" id="apidoc.element.mysql.Statistics">
        function <span class="apidocSignatureSpan">mysql.</span>Statistics
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Statistics(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  Sequence.call(this, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Protocol.prototype.stats = function stats(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}

return this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Statistics</span>(options, callback));
};

Protocol.prototype.quit = function quit(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.StatisticsPacket" id="apidoc.element.mysql.StatisticsPacket">
        function <span class="apidocSignatureSpan">mysql.</span>StatisticsPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StatisticsPacket() {
  this.message      = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Timer" id="apidoc.element.mysql.Timer">
        function <span class="apidocSignatureSpan">mysql.</span>Timer
        <span class="apidocSignatureSpan">(object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Timer(object) {
  this._object  = object;
  this._timeout = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.UseOldPasswordPacket" id="apidoc.element.mysql.UseOldPasswordPacket">
        function <span class="apidocSignatureSpan">mysql.</span>UseOldPasswordPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UseOldPasswordPacket(options) {
  options = options || {};

  this.firstByte = options.firstByte || 0xfe;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.createConnection" id="apidoc.element.mysql.createConnection">
        function <span class="apidocSignatureSpan">mysql.</span>createConnection
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createConnection(config) {
  var Connection       = loadClass('Connection');
  var ConnectionConfig = loadClass('ConnectionConfig');

  return new Connection({config: new ConnectionConfig(config)});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The first thing you will run into is that the old `Client` class is gone and
has been replaced with a less ambitious `Connection` class. So instead of
`mysql.createClient()`, you now have to:

```js
var mysql      = require('mysql');
var connection = mysql.<span class="apidocCodeKeywordSpan">createConnection</span>({
host     : 'localhost',
user     : 'me',
password : 'secret',
});

connection.query('SELECT 1', function(err, rows) {
if (err) throw err;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.createPool" id="apidoc.element.mysql.createPool">
        function <span class="apidocSignatureSpan">mysql.</span>createPool
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPool(config) {
  var Pool       = loadClass('Pool');
  var PoolConfig = loadClass('PoolConfig');

  return new Pool({config: new PoolConfig(config)});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

Unlike `end()` the `destroy()` method does not take a callback argument.

## Pooling connections

Rather than creating and managing connections one-by-one, this module also
provides built-in connection pooling using `mysql.<span class="apidocCodeKeywordSpan">createPool</span>(config)`.
[Read more about connection pooling](https://en.wikipedia.org/wiki/Connection_pool).

Create a pool and use it directly:

```js
var mysql = require('mysql');
var pool  = mysql.createPool({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.createPoolCluster" id="apidoc.element.mysql.createPoolCluster">
        function <span class="apidocSignatureSpan">mysql.</span>createPoolCluster
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPoolCluster(config) {
  var PoolCluster = loadClass('PoolCluster');

  return new PoolCluster(config);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## PoolCluster

PoolCluster provides multiple hosts connection. (group &amp; retry &amp; selector)

```js
// create
var poolCluster = mysql.<span class="apidocCodeKeywordSpan">createPoolCluster</span>();

// add configurations (the config is a pool config object)
poolCluster.add(config); // add configuration with automatic name
poolCluster.add('MASTER', masterConfig); // add a named configuration
poolCluster.add('SLAVE1', slave1Config);
poolCluster.add('SLAVE2', slave2Config);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.createQuery" id="apidoc.element.mysql.createQuery">
        function <span class="apidocSignatureSpan">mysql.</span>createQuery
        <span class="apidocSignatureSpan">(sql, values, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createQuery(sql, values, callback) {
  var Connection = loadClass('Connection');

  return Connection.createQuery(sql, values, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {function} [callback] The callback to use when query is complete
* @return {Query} New query object
* @public
*/
exports.createQuery = function createQuery(sql, values, callback) {
 var Connection = loadClass('Connection');

 return Connection.<span class="apidocCodeKeywordSpan">createQuery</span>(sql, values, callback);
};

/**
* Escape a value for SQL.
* @param {*} value The value to escape
* @param {boolean} [stringifyObjects=false] Setting if objects should be stringified
* @param {string} [timeZone=local] Setting for time zone to use for Date conversion
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.escape" id="apidoc.element.mysql.escape">
        function <span class="apidocSignatureSpan">mysql.</span>escape
        <span class="apidocSignatureSpan">(value, stringifyObjects, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escape(value, stringifyObjects, timeZone) {
  var SqlString = loadClass('SqlString');

  return SqlString.escape(value, stringifyObjects, timeZone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v2.0.0-alpha5 (2012-12-03)

* Add mysql.escapeId to escape identifiers (closes #342)
* Allow custom escaping mode (config.queryFormat)
* Convert DATE columns to configured timezone instead of UTC (#332)
* Convert LONGLONG and NEWDECIMAL to numbers (#333)
* Fix Connection.<span class="apidocCodeKeywordSpan">escape</span>() (fixes #330)
* Changed Readme ambiguity about custom type cast fallback
* Change typeCast to receive Connection instead of Connection.config.timezone
* Fix drain event having useless err parameter
* Add Connection.statistics() back from v0.9
* Add Connection.ping() back from v0.9

## v2.0.0-alpha4 (2012-10-03)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.escapeId" id="apidoc.element.mysql.escapeId">
        function <span class="apidocSignatureSpan">mysql.</span>escapeId
        <span class="apidocSignatureSpan">(value, forbidQualified)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeId(value, forbidQualified) {
  var SqlString = loadClass('SqlString');

  return SqlString.escapeId(value, forbidQualified);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {boolean} [forbidQualified=false] Setting to treat '.' as part of identifier
* @return {string} Escaped string value
* @public
*/
exports.escapeId = function escapeId(value, forbidQualified) {
 var SqlString = loadClass('SqlString');

 return SqlString.<span class="apidocCodeKeywordSpan">escapeId</span>(value, forbidQualified);
};

/**
* Format SQL and replacement values into a SQL string.
* @param {string} sql The SQL for the query
* @param {array} [values] Any values to insert into placeholders in sql
* @param {boolean} [stringifyObjects=false] Setting if objects should be stringified
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.format" id="apidoc.element.mysql.format">
        function <span class="apidocSignatureSpan">mysql.</span>format
        <span class="apidocSignatureSpan">(sql, values, stringifyObjects, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function format(sql, values, stringifyObjects, timeZone) {
  var SqlString = loadClass('SqlString');

  return SqlString.format(sql, values, stringifyObjects, timeZone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

* Streaming LOAD DATA LOCAL INFILE #668
* Doc improvements

## v2.0.0-rc1 (2013-11-30)

* Transaction support
* Expose SqlString.format as mysql.<span class="apidocCodeKeywordSpan">format</span>()
* Many bug fixes
* Better support for dates in local time zone
* Doc improvements

## v2.0.0-alpha9 (2013-08-27)

* Add query to pool to execute queries directly using the pool
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.raw" id="apidoc.element.mysql.raw">
        function <span class="apidocSignatureSpan">mysql.</span>raw
        <span class="apidocSignatureSpan">(sql)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function raw(sql) {
  var SqlString = loadClass('SqlString');

  return SqlString.raw(sql);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Update `sqlstring` to 2.3.1
- Fix incorrectly replacing non-placeholders in SQL

## v2.15.0 (2017-10-05)

* Add new Amazon RDS ca-central-1 certificate CA to Amazon RDS SSL profile #1809
* Add new error codes up to MySQL 5.7.19
* Add `mysql.<span class="apidocCodeKeywordSpan">raw</span>()` to generate pre-escaped values #877 #1821
* Fix "changedRows" to work on non-English servers #1819
* Fix error when server sends RST on `QUIT` #1811
* Fix typo in insecure auth error message
* Support `mysql_native_password` auth switch request for Azure #1396 #1729 #1730
* Update `sqlstring` to 2.3.0
- Add `.toSqlString()` escape overriding
- Small performance improvement on `escapeId`
...</pre></li>
    </ul>
























































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Auth" id="apidoc.module.mysql.Auth">module mysql.Auth</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Auth.add32" id="apidoc.element.mysql.Auth.add32">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>add32
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(a, b){
  var w1 = a[1] + b[1];
  var w2 = a[0] + b[0] + ((w1 &amp; 0xFFFF0000) &gt;&gt; 16);

  return [w2 &amp; 0xFFFF, w1 &amp; 0xFFFF];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (c === 32 || c === 9) {
  // skip space in password
  continue;
}

// nr^= (((nr &amp; 63)+add)*c)+ (nr &lt;&lt; 8);
// nr = xor(nr, add(mul(add(and(nr, 63), add), c), shl(nr, 8)))
nr = this.xor32(nr, this.<span class="apidocCodeKeywordSpan">add32</span>(this.mul32(this.add32(this.and32(nr, [0, 63]), [0, add
]), [0, c]), this.shl32(nr, 8)));

// nr2+=(nr2 &lt;&lt; 8) ^ nr;
// nr2 = add(nr2, xor(shl(nr2, 8), nr))
nr2 = this.add32(nr2, this.xor32(this.shl32(nr2, 8), nr));

// add+=tmp;
add += c;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.and32" id="apidoc.element.mysql.Auth.and32">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>and32
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(a, b){
  return [a[0] &amp; b[0], a[1] &amp; b[1]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (c === 32 || c === 9) {
  // skip space in password
  continue;
}

// nr^= (((nr &amp; 63)+add)*c)+ (nr &lt;&lt; 8);
// nr = xor(nr, add(mul(add(and(nr, 63), add), c), shl(nr, 8)))
nr = this.xor32(nr, this.add32(this.mul32(this.add32(this.<span class="apidocCodeKeywordSpan">and32</span>(nr, [0, 63]), [0, add
]), [0, c]), this.shl32(nr, 8)));

// nr2+=(nr2 &lt;&lt; 8) ^ nr;
// nr2 = add(nr2, xor(shl(nr2, 8), nr))
nr2 = this.add32(nr2, this.xor32(this.shl32(nr2, 8), nr));

// add+=tmp;
add += c;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.hashPassword" id="apidoc.element.mysql.Auth.hashPassword">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>hashPassword
        <span class="apidocSignatureSpan">(password)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(password) {
  var nr     = [0x5030, 0x5735];
  var add    = 7;
  var nr2    = [0x1234, 0x5671];
  var result = Buffer.alloc(8);

  if (typeof password === 'string'){
    password = Buffer.from(password);
  }

  for (var i = 0; i &lt; password.length; i++) {
    var c = password[i];
    if (c === 32 || c === 9) {
      // skip space in password
      continue;
    }

    // nr^= (((nr &amp; 63)+add)*c)+ (nr &lt;&lt; 8);
    // nr = xor(nr, add(mul(add(and(nr, 63), add), c), shl(nr, 8)))
    nr = this.xor32(nr, this.add32(this.mul32(this.add32(this.and32(nr, [0, 63]), [0, add]), [0, c]), this.shl32(nr, 8)));

    // nr2+=(nr2 &lt;&lt; 8) ^ nr;
    // nr2 = add(nr2, xor(shl(nr2, 8), nr))
    nr2 = this.add32(nr2, this.xor32(this.shl32(nr2, 8), nr));

    // add+=tmp;
    add += c;
  }

  this.int31Write(result, nr, 0);
  this.int31Write(result, nr2, 4);

  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
r.seed2 = (r.seed1 + r.seed2 + 33) % r.max_value;

return r.seed1 / r.max_value_dbl;
};

Auth.scramble323 = function(message, password) {
var to          = Buffer.allocUnsafe(8);
var hashPass    = this.<span class="apidocCodeKeywordSpan">hashPassword</span>(password);
var hashMessage = this.hashPassword(message.slice(0, 8));
var seed1       = this.int32Read(hashPass, 0) ^ this.int32Read(hashMessage, 0);
var seed2       = this.int32Read(hashPass, 4) ^ this.int32Read(hashMessage, 4);
var r           = this.randomInit(seed1, seed2);

for (var i = 0; i &lt; 8; i++){
  to[i] = Math.floor(this.myRnd(r) * 31) + 64;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.int31Write" id="apidoc.element.mysql.Auth.int31Write">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>int31Write
        <span class="apidocSignatureSpan">(buffer, number, offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(buffer, number, offset) {
  buffer[offset] = (number[0] &gt;&gt; 8) &amp; 0x7F;
  buffer[offset + 1] = (number[0]) &amp; 0xFF;
  buffer[offset + 2] = (number[1] &gt;&gt; 8) &amp; 0xFF;
  buffer[offset + 3] = (number[1]) &amp; 0xFF;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // nr2 = add(nr2, xor(shl(nr2, 8), nr))
  nr2 = this.add32(nr2, this.xor32(this.shl32(nr2, 8), nr));

  // add+=tmp;
  add += c;
}

this.<span class="apidocCodeKeywordSpan">int31Write</span>(result, nr, 0);
this.int31Write(result, nr2, 4);

return result;
};

Auth.randomInit = function(seed1, seed2) {
return {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.int32Read" id="apidoc.element.mysql.Auth.int32Read">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>int32Read
        <span class="apidocSignatureSpan">(buffer, offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(buffer, offset){
  return (buffer[offset] &lt;&lt; 24)
       + (buffer[offset + 1] &lt;&lt; 16)
       + (buffer[offset + 2] &lt;&lt; 8)
       + (buffer[offset + 3]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return r.seed1 / r.max_value_dbl;
};

Auth.scramble323 = function(message, password) {
var to          = Buffer.allocUnsafe(8);
var hashPass    = this.hashPassword(password);
var hashMessage = this.hashPassword(message.slice(0, 8));
var seed1       = this.<span class="apidocCodeKeywordSpan">int32Read</span>(hashPass, 0) ^ this.int32Read(hashMessage, 0);
var seed2       = this.int32Read(hashPass, 4) ^ this.int32Read(hashMessage, 4);
var r           = this.randomInit(seed1, seed2);

for (var i = 0; i &lt; 8; i++){
  to[i] = Math.floor(this.myRnd(r) * 31) + 64;
}
var extra = (Math.floor(this.myRnd(r) * 31));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.mul32" id="apidoc.element.mysql.Auth.mul32">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>mul32
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(a, b){
  // based on this example of multiplying 32b ints using 16b
  // http://www.dsprelated.com/showmessage/89790/1.php
  var w1 = a[1] * b[1];
  var w2 = (((a[1] * b[1]) &gt;&gt; 16) &amp; 0xFFFF) + ((a[0] * b[1]) &amp; 0xFFFF) + (a[1] * b[0] &amp; 0xFFFF);

  return [w2 &amp; 0xFFFF, w1 &amp; 0xFFFF];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (c === 32 || c === 9) {
  // skip space in password
  continue;
}

// nr^= (((nr &amp; 63)+add)*c)+ (nr &lt;&lt; 8);
// nr = xor(nr, add(mul(add(and(nr, 63), add), c), shl(nr, 8)))
nr = this.xor32(nr, this.add32(this.<span class="apidocCodeKeywordSpan">mul32</span>(this.add32(this.and32(nr, [0, 63]), [0, add
]), [0, c]), this.shl32(nr, 8)));

// nr2+=(nr2 &lt;&lt; 8) ^ nr;
// nr2 = add(nr2, xor(shl(nr2, 8), nr))
nr2 = this.add32(nr2, this.xor32(this.shl32(nr2, 8), nr));

// add+=tmp;
add += c;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.myRnd" id="apidoc.element.mysql.Auth.myRnd">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>myRnd
        <span class="apidocSignatureSpan">(r)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(r){
  r.seed1 = (r.seed1 * 3 + r.seed2) % r.max_value;
  r.seed2 = (r.seed1 + r.seed2 + 33) % r.max_value;

  return r.seed1 / r.max_value_dbl;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var hashPass    = this.hashPassword(password);
var hashMessage = this.hashPassword(message.slice(0, 8));
var seed1       = this.int32Read(hashPass, 0) ^ this.int32Read(hashMessage, 0);
var seed2       = this.int32Read(hashPass, 4) ^ this.int32Read(hashMessage, 4);
var r           = this.randomInit(seed1, seed2);

for (var i = 0; i &lt; 8; i++){
  to[i] = Math.floor(this.<span class="apidocCodeKeywordSpan">myRnd</span>(r) * 31) + 64;
}
var extra = (Math.floor(this.myRnd(r) * 31));

for (var i = 0; i &lt; 8; i++){
  to[i] ^= extra;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.randomInit" id="apidoc.element.mysql.Auth.randomInit">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>randomInit
        <span class="apidocSignatureSpan">(seed1, seed2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(seed1, seed2) {
  return {
    max_value     : 0x3FFFFFFF,
    max_value_dbl : 0x3FFFFFFF,
    seed1         : seed1 % 0x3FFFFFFF,
    seed2         : seed2 % 0x3FFFFFFF
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Auth.scramble323 = function(message, password) {
var to          = Buffer.allocUnsafe(8);
var hashPass    = this.hashPassword(password);
var hashMessage = this.hashPassword(message.slice(0, 8));
var seed1       = this.int32Read(hashPass, 0) ^ this.int32Read(hashMessage, 0);
var seed2       = this.int32Read(hashPass, 4) ^ this.int32Read(hashMessage, 4);
var r           = this.<span class="apidocCodeKeywordSpan">randomInit</span>(seed1, seed2);

for (var i = 0; i &lt; 8; i++){
  to[i] = Math.floor(this.myRnd(r) * 31) + 64;
}
var extra = (Math.floor(this.myRnd(r) * 31));

for (var i = 0; i &lt; 8; i++){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.scramble323" id="apidoc.element.mysql.Auth.scramble323">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>scramble323
        <span class="apidocSignatureSpan">(message, password)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(message, password) {
  var to          = Buffer.allocUnsafe(8);
  var hashPass    = this.hashPassword(password);
  var hashMessage = this.hashPassword(message.slice(0, 8));
  var seed1       = this.int32Read(hashPass, 0) ^ this.int32Read(hashMessage, 0);
  var seed2       = this.int32Read(hashPass, 4) ^ this.int32Read(hashMessage, 4);
  var r           = this.randomInit(seed1, seed2);

  for (var i = 0; i &lt; 8; i++){
    to[i] = Math.floor(this.myRnd(r) * 31) + 64;
  }
  var extra = (Math.floor(this.myRnd(r) * 31));

  for (var i = 0; i &lt; 8; i++){
    to[i] ^= extra;
  }

  return to;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  maxPacketSize : this._config.maxPacketSize,
  charsetNumber : this._config.charsetNumber,
  user          : this._config.user,
  database      : this._config.database,
  protocol41    : packet.protocol41,
  scrambleBuff  : (packet.protocol41)
    ? Auth.token(this._config.password, packet.scrambleBuff())
    : Auth.<span class="apidocCodeKeywordSpan">scramble323</span>(packet.scrambleBuff(), this._config.password)
}));
};

Handshake.prototype['UseOldPasswordPacket'] = function() {
if (!this._config.insecureAuth) {
  var err = new Error(
    'MySQL server is requesting the old and insecure pre-4.1 auth mechanism. ' +
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.sha1" id="apidoc.element.mysql.Auth.sha1">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>sha1
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sha1(msg) {
  var hash = Crypto.createHash('sha1');
  hash.update(msg, 'binary');
  return hash.digest('binary');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.shl32" id="apidoc.element.mysql.Auth.shl32">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>shl32
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(a, b){
  // assume b is 16 or less
  var w1 = a[1] &lt;&lt; b;
  var w2 = (a[0] &lt;&lt; b) | ((w1 &amp; 0xFFFF0000) &gt;&gt; 16);

  return [w2 &amp; 0xFFFF, w1 &amp; 0xFFFF];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (c === 32 || c === 9) {
  // skip space in password
  continue;
}

// nr^= (((nr &amp; 63)+add)*c)+ (nr &lt;&lt; 8);
// nr = xor(nr, add(mul(add(and(nr, 63), add), c), shl(nr, 8)))
nr = this.xor32(nr, this.add32(this.mul32(this.add32(this.and32(nr, [0, 63]), [0, add]), [0, c]), this.<span class="apidocCodeKeywordSpan
">shl32</span>(nr, 8)));

// nr2+=(nr2 &lt;&lt; 8) ^ nr;
// nr2 = add(nr2, xor(shl(nr2, 8), nr))
nr2 = this.add32(nr2, this.xor32(this.shl32(nr2, 8), nr));

// add+=tmp;
add += c;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.token" id="apidoc.element.mysql.Auth.token">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>token
        <span class="apidocSignatureSpan">(password, scramble)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(password, scramble) {
  if (!password) {
    return Buffer.alloc(0);
  }

  // password must be in binary format, not utf8
  var stage1 = sha1((Buffer.from(password, 'utf8')).toString('binary'));
  var stage2 = sha1(stage1);
  var stage3 = sha1(scramble.toString('binary') + stage2);
  return xor(stage3, stage1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Add stream method to Query Wraps events from the query object into a node v0.10.x Readable stream
* DECIMAL should also be treated as big number
* Removed slow unnecessary stack access
* Added charsets
* Added bigNumberStrings option for forcing BIGINT columns as strings
* Changes date parsing to return String if not a valid JS Date
* Adds support for ?? escape sequence to escape identifiers
* Changes Auth.<span class="apidocCodeKeywordSpan">token</span>() to force password to be in binary, not utf8 (#378)
* Restrict debugging by packet types
* Add 'multipleStatements' option tracking to ConnectionConfig. Fixes GH-408
* Changes Pool to handle 'error' events and dispose connection
* Allows db.query({ sql: "..." }, [ val1, ... ], cb); (#390)
* Improved documentation
* Bug fixes
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.xor" id="apidoc.element.mysql.Auth.xor">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>xor
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function xor(a, b) {
  a = Buffer.from(a, 'binary');
  b = Buffer.from(b, 'binary');
  var result = Buffer.allocUnsafe(a.length);
  for (var i = 0; i &lt; a.length; i++) {
    result[i] = (a[i] ^ b[i]);
  }
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Auth.xor32" id="apidoc.element.mysql.Auth.xor32">
        function <span class="apidocSignatureSpan">mysql.Auth.</span>xor32
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(a, b){
  return [a[0] ^ b[0], a[1] ^ b[1]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (c === 32 || c === 9) {
  // skip space in password
  continue;
}

// nr^= (((nr &amp; 63)+add)*c)+ (nr &lt;&lt; 8);
// nr = xor(nr, add(mul(add(and(nr, 63), add), c), shl(nr, 8)))
nr = this.<span class="apidocCodeKeywordSpan">xor32</span>(nr, this.add32(this.mul32(this.add32(this.and32(nr, [0, 63]), [0, add
]), [0, c]), this.shl32(nr, 8)));

// nr2+=(nr2 &lt;&lt; 8) ^ nr;
// nr2 = add(nr2, xor(shl(nr2, 8), nr))
nr2 = this.add32(nr2, this.xor32(this.shl32(nr2, 8), nr));

// add+=tmp;
add += c;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.AuthSwitchRequestPacket" id="apidoc.module.mysql.AuthSwitchRequestPacket">module mysql.AuthSwitchRequestPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.AuthSwitchRequestPacket.AuthSwitchRequestPacket" id="apidoc.element.mysql.AuthSwitchRequestPacket.AuthSwitchRequestPacket">
        function <span class="apidocSignatureSpan">mysql.</span>AuthSwitchRequestPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AuthSwitchRequestPacket(options) {
  options = options || {};

  this.status         = 0xfe;
  this.authMethodName = options.authMethodName;
  this.authMethodData = options.authMethodData;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.AuthSwitchRequestPacket.prototype" id="apidoc.module.mysql.AuthSwitchRequestPacket.prototype">module mysql.AuthSwitchRequestPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.AuthSwitchRequestPacket.prototype.parse" id="apidoc.element.mysql.AuthSwitchRequestPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.AuthSwitchRequestPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parse(parser) {
  this.status         = parser.parseUnsignedNumber(1);
  this.authMethodName = parser.parseNullTerminatedString();
  this.authMethodData = parser.parsePacketTerminatedBuffer();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.AuthSwitchRequestPacket.prototype.write" id="apidoc.element.mysql.AuthSwitchRequestPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.AuthSwitchRequestPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(writer) {
  writer.writeUnsignedNumber(1, this.status);
  writer.writeNullTerminatedString(this.authMethodName);
  writer.writeBuffer(this.authMethodData);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.AuthSwitchResponsePacket" id="apidoc.module.mysql.AuthSwitchResponsePacket">module mysql.AuthSwitchResponsePacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.AuthSwitchResponsePacket.AuthSwitchResponsePacket" id="apidoc.element.mysql.AuthSwitchResponsePacket.AuthSwitchResponsePacket">
        function <span class="apidocSignatureSpan">mysql.</span>AuthSwitchResponsePacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AuthSwitchResponsePacket(options) {
  options = options || {};

  this.data = options.data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return undefined;
};

Handshake.prototype['AuthSwitchRequestPacket'] = function (packet) {
if (packet.authMethodName === 'mysql_native_password') {
  var challenge = packet.authMethodData.slice(0, 20);

  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">AuthSwitchResponsePacket</span>({
    data: Auth.token(this._config.password, challenge)
  }));
} else {
  var err = new Error(
    'MySQL is requesting the ' + packet.authMethodName + ' authentication method, which is not supported.'
  );
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.AuthSwitchResponsePacket.prototype" id="apidoc.module.mysql.AuthSwitchResponsePacket.prototype">module mysql.AuthSwitchResponsePacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.AuthSwitchResponsePacket.prototype.parse" id="apidoc.element.mysql.AuthSwitchResponsePacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.AuthSwitchResponsePacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parse(parser) {
  this.data = parser.parsePacketTerminatedBuffer();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.AuthSwitchResponsePacket.prototype.write" id="apidoc.element.mysql.AuthSwitchResponsePacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.AuthSwitchResponsePacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(writer) {
  writer.writeBuffer(this.data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.BufferList" id="apidoc.module.mysql.BufferList">module mysql.BufferList</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.BufferList.BufferList" id="apidoc.element.mysql.BufferList.BufferList">
        function <span class="apidocSignatureSpan">mysql.</span>BufferList
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BufferList() {
  this.bufs = [];
  this.size = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.BufferList.prototype" id="apidoc.module.mysql.BufferList.prototype">module mysql.BufferList.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.BufferList.prototype.push" id="apidoc.element.mysql.BufferList.prototype.push">
        function <span class="apidocSignatureSpan">mysql.BufferList.prototype.</span>push
        <span class="apidocSignatureSpan">(buf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function push(buf) {
  if (!buf || !buf.length) {
    return;
  }

  this.bufs.push(buf);
  this.size += buf.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  '+RESERVED',          // Unused
  '+SECURE_CONNECTION', // Supports Authentication::Native41
  '+TRANSACTIONS'       // Expects status flags
];

if (options &amp;&amp; options.multipleStatements) {
  // May send multiple statements per COM_QUERY and COM_STMT_PREPARE
  defaultFlags.<span class="apidocCodeKeywordSpan">push</span>('+MULTI_STATEMENTS');
}

return defaultFlags;
};

ConnectionConfig.getSSLProfile = function getSSLProfile(name) {
if (!SSLProfiles) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.BufferList.prototype.shift" id="apidoc.element.mysql.BufferList.prototype.shift">
        function <span class="apidocSignatureSpan">mysql.BufferList.prototype.</span>shift
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function shift() {
  var buf = this.bufs.shift();

  if (buf) {
    this.size -= buf.length;
  }

  return buf;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  host     : url.hostname,
  port     : url.port,
  database : url.pathname.substr(1)
};

if (url.auth) {
  var auth = url.auth.split(':');
  options.user     = auth.<span class="apidocCodeKeywordSpan">shift</span>();
  options.password = auth.join(':');
}

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ChangeUser" id="apidoc.module.mysql.ChangeUser">module mysql.ChangeUser</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ChangeUser.ChangeUser" id="apidoc.element.mysql.ChangeUser.ChangeUser">
        function <span class="apidocSignatureSpan">mysql.</span>ChangeUser
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ChangeUser(options, callback) {
  Sequence.call(this, options, callback);

  this._user          = options.user;
  this._password      = options.password;
  this._database      = options.database;
  this._charsetNumber = options.charsetNumber;
  this._currentConfig = options.currentConfig;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Protocol.prototype.query = function query(options, callback) {
return this._enqueue(new Sequences.Query(options, callback));
};

Protocol.prototype.changeUser = function changeUser(options, callback) {
return this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">ChangeUser</span>(options, callback));
};

Protocol.prototype.ping = function ping(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ChangeUser.super_" id="apidoc.element.mysql.ChangeUser.super_">
        function <span class="apidocSignatureSpan">mysql.ChangeUser.</span>super_
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Sequence(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  EventEmitter.call(this);

  options = options || {};

  this._callback = callback;
  this._callSite = null;
  this._ended    = false;
  this._timeout  = options.timeout;
  this._timer    = new Timer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ChangeUser.prototype" id="apidoc.module.mysql.ChangeUser.prototype">module mysql.ChangeUser.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ChangeUser.prototype.ErrorPacket" id="apidoc.element.mysql.ChangeUser.prototype.ErrorPacket">
        function <span class="apidocSignatureSpan">mysql.ChangeUser.prototype.</span>ErrorPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  var err = this._packetToError(packet);
  err.fatal = true;
  this.end(err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ChangeUser.prototype.start" id="apidoc.element.mysql.ChangeUser.prototype.start">
        function <span class="apidocSignatureSpan">mysql.ChangeUser.prototype.</span>start
        <span class="apidocSignatureSpan">(handshakeInitializationPacket)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(handshakeInitializationPacket) {
  var scrambleBuff = handshakeInitializationPacket.scrambleBuff();
  scrambleBuff     = Auth.token(this._password, scrambleBuff);

  var packet = new Packets.ComChangeUserPacket({
    user          : this._user,
    scrambleBuff  : scrambleBuff,
    database      : this._database,
    charsetNumber : this._charsetNumber
  });

  this._currentConfig.user          = this._user;
  this._currentConfig.password      = this._password;
  this._currentConfig.database      = this._database;
  this._currentConfig.charsetNumber = this._charsetNumber;

  this.emit('packet', packet);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._parser.resetPacketNumber();

this._startSequence(sequence);
};

Protocol.prototype._startSequence = function(sequence) {
if (sequence._timeout &gt; 0 &amp;&amp; isFinite(sequence._timeout)) {
  sequence._timer.<span class="apidocCodeKeywordSpan">start</span>(sequence._timeout);
}

if (sequence.constructor === Sequences.ChangeUser) {
  sequence.start(this._handshakeInitializationPacket);
} else {
  sequence.start();
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ClientAuthenticationPacket" id="apidoc.module.mysql.ClientAuthenticationPacket">module mysql.ClientAuthenticationPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ClientAuthenticationPacket.ClientAuthenticationPacket" id="apidoc.element.mysql.ClientAuthenticationPacket.ClientAuthenticationPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ClientAuthenticationPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ClientAuthenticationPacket(options) {
  options = options || {};

  this.clientFlags   = options.clientFlags;
  this.maxPacketSize = options.maxPacketSize;
  this.charsetNumber = options.charsetNumber;
  this.filler        = undefined;
  this.user          = options.user;
  this.scrambleBuff  = options.scrambleBuff;
  this.database      = options.database;
  this.protocol41    = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Handshake.prototype._tlsUpgradeCompleteHandler = function() {
this._sendCredentials();
};

Handshake.prototype._sendCredentials = function() {
var packet = this._handshakeInitializationPacket;
this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ClientAuthenticationPacket</span>({
  clientFlags   : this._config.clientFlags,
  maxPacketSize : this._config.maxPacketSize,
  charsetNumber : this._config.charsetNumber,
  user          : this._config.user,
  database      : this._config.database,
  protocol41    : packet.protocol41,
  scrambleBuff  : (packet.protocol41)
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ClientAuthenticationPacket.prototype" id="apidoc.module.mysql.ClientAuthenticationPacket.prototype">module mysql.ClientAuthenticationPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ClientAuthenticationPacket.prototype.parse" id="apidoc.element.mysql.ClientAuthenticationPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.ClientAuthenticationPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  if (this.protocol41) {
    this.clientFlags   = parser.parseUnsignedNumber(4);
    this.maxPacketSize = parser.parseUnsignedNumber(4);
    this.charsetNumber = parser.parseUnsignedNumber(1);
    this.filler        = parser.parseFiller(23);
    this.user          = parser.parseNullTerminatedString();
    this.scrambleBuff  = parser.parseLengthCodedBuffer();
    this.database      = parser.parseNullTerminatedString();
  } else {
    this.clientFlags   = parser.parseUnsignedNumber(2);
    this.maxPacketSize = parser.parseUnsignedNumber(3);
    this.user          = parser.parseNullTerminatedString();
    this.scrambleBuff  = parser.parseBuffer(8);
    this.database      = parser.parseLengthCodedBuffer();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ClientAuthenticationPacket.prototype.write" id="apidoc.element.mysql.ClientAuthenticationPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.ClientAuthenticationPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  if (this.protocol41) {
    writer.writeUnsignedNumber(4, this.clientFlags);
    writer.writeUnsignedNumber(4, this.maxPacketSize);
    writer.writeUnsignedNumber(1, this.charsetNumber);
    writer.writeFiller(23);
    writer.writeNullTerminatedString(this.user);
    writer.writeLengthCodedBuffer(this.scrambleBuff);
    writer.writeNullTerminatedString(this.database);
  } else {
    writer.writeUnsignedNumber(2, this.clientFlags);
    writer.writeUnsignedNumber(3, this.maxPacketSize);
    writer.writeNullTerminatedString(this.user);
    writer.writeBuffer(this.scrambleBuff);
    if (this.database &amp;&amp; this.database.length) {
      writer.writeFiller(1);
      writer.writeBuffer(Buffer.from(this.database));
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComChangeUserPacket" id="apidoc.module.mysql.ComChangeUserPacket">module mysql.ComChangeUserPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComChangeUserPacket.ComChangeUserPacket" id="apidoc.element.mysql.ComChangeUserPacket.ComChangeUserPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComChangeUserPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComChangeUserPacket(options) {
  options = options || {};

  this.command       = 0x11;
  this.user          = options.user;
  this.scrambleBuff  = options.scrambleBuff;
  this.database      = options.database;
  this.charsetNumber = options.charsetNumber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._currentConfig = options.currentConfig;
}

ChangeUser.prototype.start = function(handshakeInitializationPacket) {
var scrambleBuff = handshakeInitializationPacket.scrambleBuff();
scrambleBuff     = Auth.token(this._password, scrambleBuff);

var packet = new Packets.<span class="apidocCodeKeywordSpan">ComChangeUserPacket</span>({
  user          : this._user,
  scrambleBuff  : scrambleBuff,
  database      : this._database,
  charsetNumber : this._charsetNumber
});

this._currentConfig.user          = this._user;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComChangeUserPacket.prototype" id="apidoc.module.mysql.ComChangeUserPacket.prototype">module mysql.ComChangeUserPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComChangeUserPacket.prototype.parse" id="apidoc.element.mysql.ComChangeUserPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.ComChangeUserPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.command       = parser.parseUnsignedNumber(1);
  this.user          = parser.parseNullTerminatedString();
  this.scrambleBuff  = parser.parseLengthCodedBuffer();
  this.database      = parser.parseNullTerminatedString();
  this.charsetNumber = parser.parseUnsignedNumber(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComChangeUserPacket.prototype.write" id="apidoc.element.mysql.ComChangeUserPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.ComChangeUserPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, this.command);
  writer.writeNullTerminatedString(this.user);
  writer.writeLengthCodedBuffer(this.scrambleBuff);
  writer.writeNullTerminatedString(this.database);
  writer.writeUnsignedNumber(2, this.charsetNumber);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComPingPacket" id="apidoc.module.mysql.ComPingPacket">module mysql.ComPingPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComPingPacket.ComPingPacket" id="apidoc.element.mysql.ComPingPacket.ComPingPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComPingPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComPingPacket() {
  this.command = 0x0e;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    options = {};
  }

  Sequence.call(this, options, callback);
}

Ping.prototype.start = function() {
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComPingPacket</span>());
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComPingPacket.prototype" id="apidoc.module.mysql.ComPingPacket.prototype">module mysql.ComPingPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComPingPacket.prototype.parse" id="apidoc.element.mysql.ComPingPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.ComPingPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.command = parser.parseUnsignedNumber(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComPingPacket.prototype.write" id="apidoc.element.mysql.ComPingPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.ComPingPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, this.command);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComQueryPacket" id="apidoc.module.mysql.ComQueryPacket">module mysql.ComQueryPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComQueryPacket.ComQueryPacket" id="apidoc.element.mysql.ComQueryPacket.ComQueryPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComQueryPacket
        <span class="apidocSignatureSpan">(sql)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComQueryPacket(sql) {
  this.command = 0x03;
  this.sql     = sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._results   = [];
this._fields    = [];
this._index     = 0;
this._loadError = null;
}

Query.prototype.start = function() {
this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComQueryPacket</span>(this.sql));
};

Query.prototype.determinePacket = function determinePacket(byte, parser) {
var resultSet = this._resultSet;

if (!resultSet) {
  switch (byte) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComQueryPacket.prototype" id="apidoc.module.mysql.ComQueryPacket.prototype">module mysql.ComQueryPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComQueryPacket.prototype.parse" id="apidoc.element.mysql.ComQueryPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.ComQueryPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.command = parser.parseUnsignedNumber(1);
  this.sql     = parser.parsePacketTerminatedString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComQueryPacket.prototype.write" id="apidoc.element.mysql.ComQueryPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.ComQueryPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, this.command);
  writer.writeString(this.sql);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComQuitPacket" id="apidoc.module.mysql.ComQuitPacket">module mysql.ComQuitPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComQuitPacket.ComQuitPacket" id="apidoc.element.mysql.ComQuitPacket.ComQuitPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComQuitPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComQuitPacket() {
  this.command = 0x01;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  Sequence.prototype.end.call(this, err);
};

Quit.prototype.start = function() {
  this._started = true;
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComQuitPacket</span>());
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComQuitPacket.prototype" id="apidoc.module.mysql.ComQuitPacket.prototype">module mysql.ComQuitPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComQuitPacket.prototype.parse" id="apidoc.element.mysql.ComQuitPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.ComQuitPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parse(parser) {
  this.command = parser.parseUnsignedNumber(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComQuitPacket.prototype.write" id="apidoc.element.mysql.ComQuitPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.ComQuitPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(writer) {
  writer.writeUnsignedNumber(1, this.command);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComStatisticsPacket" id="apidoc.module.mysql.ComStatisticsPacket">module mysql.ComStatisticsPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComStatisticsPacket.ComStatisticsPacket" id="apidoc.element.mysql.ComStatisticsPacket.ComStatisticsPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ComStatisticsPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComStatisticsPacket() {
  this.command = 0x09;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    options = {};
  }

  Sequence.call(this, options, callback);
}

Statistics.prototype.start = function() {
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComStatisticsPacket</span>());
};

Statistics.prototype['StatisticsPacket'] = function (packet) {
  this.end(null, packet);
};

Statistics.prototype.determinePacket = function determinePacket(firstByte) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ComStatisticsPacket.prototype" id="apidoc.module.mysql.ComStatisticsPacket.prototype">module mysql.ComStatisticsPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ComStatisticsPacket.prototype.parse" id="apidoc.element.mysql.ComStatisticsPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.ComStatisticsPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.command = parser.parseUnsignedNumber(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ComStatisticsPacket.prototype.write" id="apidoc.element.mysql.ComStatisticsPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.ComStatisticsPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, this.command);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Connection" id="apidoc.module.mysql.Connection">module mysql.Connection</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Connection.Connection" id="apidoc.element.mysql.Connection.Connection">
        function <span class="apidocSignatureSpan">mysql.</span>Connection
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Connection(options) {
  Events.EventEmitter.call(this);

  this.config = options.config;

  this._socket        = options.socket;
  this._protocol      = new Protocol({config: this.config, connection: this});
  this._connectCalled = false;
  this.state          = 'disconnected';
  this.threadId       = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.createQuery" id="apidoc.element.mysql.Connection.createQuery">
        function <span class="apidocSignatureSpan">mysql.Connection.</span>createQuery
        <span class="apidocSignatureSpan">(sql, values, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createQuery(sql, values, callback) {
  if (sql instanceof Query) {
    return sql;
  }

  var cb      = wrapCallbackInDomain(null, callback);
  var options = {};

  if (typeof sql === 'function') {
    cb = wrapCallbackInDomain(null, sql);
    return new Query(options, cb);
  }

  if (typeof sql === 'object') {
    for (var prop in sql) {
      options[prop] = sql[prop];
    }

    if (typeof values === 'function') {
      cb = wrapCallbackInDomain(null, values);
    } else if (values !== undefined) {
      options.values = values;
    }

    return new Query(options, cb);
  }

  options.sql    = sql;
  options.values = values;

  if (typeof values === 'function') {
    cb = wrapCallbackInDomain(null, values);
    options.values = undefined;
  }

  if (cb === undefined &amp;&amp; callback !== undefined) {
    throw new TypeError('argument callback must be a function when provided');
  }

  return new Query(options, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {function} [callback] The callback to use when query is complete
* @return {Query} New query object
* @public
*/
exports.createQuery = function createQuery(sql, values, callback) {
 var Connection = loadClass('Connection');

 return Connection.<span class="apidocCodeKeywordSpan">createQuery</span>(sql, values, callback);
};

/**
* Escape a value for SQL.
* @param {*} value The value to escape
* @param {boolean} [stringifyObjects=false] Setting if objects should be stringified
* @param {string} [timeZone=local] Setting for time zone to use for Date conversion
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.super_" id="apidoc.element.mysql.Connection.super_">
        function <span class="apidocSignatureSpan">mysql.Connection.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Connection.prototype" id="apidoc.module.mysql.Connection.prototype">module mysql.Connection.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleConnectTimeout" id="apidoc.element.mysql.Connection.prototype._handleConnectTimeout">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleConnectTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  if (this._socket) {
    this._socket.setTimeout(0);
    this._socket.destroy();
  }

  var err = new Error('connect ETIMEDOUT');
  err.errorno = 'ETIMEDOUT';
  err.code = 'ETIMEDOUT';
  err.syscall = 'connect';

  this._handleNetworkError(err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleNetworkError" id="apidoc.element.mysql.Connection.prototype._handleNetworkError">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleNetworkError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(err) {
  this._protocol.handleNetworkError(err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  secureContext      : secureContext,
  isServer           : false
});

// error handler for secure socket
secureSocket.on('_tlsError', function(err) {
  if (secureEstablished) {
    connection.<span class="apidocCodeKeywordSpan">_handleNetworkError</span>(err);
  } else {
    onSecure(err);
  }
});

// cleartext &lt;-&gt; protocol
secureSocket.pipe(this._protocol);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolConnect" id="apidoc.element.mysql.Connection.prototype._handleProtocolConnect">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolConnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this.state = 'connected';
  this.emit('connect');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolDrain" id="apidoc.element.mysql.Connection.prototype._handleProtocolDrain">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolDrain
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this.emit('drain');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolEnd" id="apidoc.element.mysql.Connection.prototype._handleProtocolEnd">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolEnd
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(err) {
  this.state = 'disconnected';
  this.emit('end', err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolEnqueue" id="apidoc.element.mysql.Connection.prototype._handleProtocolEnqueue">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolEnqueue
        <span class="apidocSignatureSpan">(sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _handleProtocolEnqueue(sequence) {
  this.emit('enqueue', sequence);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolError" id="apidoc.element.mysql.Connection.prototype._handleProtocolError">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(err) {
  this.state = 'protocol_error';
  this.emit('error', err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._handleProtocolHandshake" id="apidoc.element.mysql.Connection.prototype._handleProtocolHandshake">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_handleProtocolHandshake
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _handleProtocolHandshake(packet) {
  this.state    = 'authenticated';
  this.threadId = packet.threadId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._implyConnect" id="apidoc.element.mysql.Connection.prototype._implyConnect">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_implyConnect
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  if (!this._connectCalled) {
    this.connect();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Connection.prototype.changeUser = function changeUser(options, callback) {
if (!callback &amp;&amp; typeof options === 'function') {
  callback = options;
  options = {};
}

this.<span class="apidocCodeKeywordSpan">_implyConnect</span>();

var charsetNumber = (options.charset)
  ? ConnectionConfig.getCharsetNumber(options.charset)
  : this.config.charsetNumber;

return this._protocol.changeUser({
  user          : options.user || this.config.user,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype._startTLS" id="apidoc.element.mysql.Connection.prototype._startTLS">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>_startTLS
        <span class="apidocSignatureSpan">(onSecure)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _startTLS(onSecure) {
  var connection    = this;
  var secureContext = tls.createSecureContext({
    ca         : this.config.ssl.ca,
    cert       : this.config.ssl.cert,
    ciphers    : this.config.ssl.ciphers,
    key        : this.config.ssl.key,
    passphrase : this.config.ssl.passphrase
  });

  // "unpipe"
  this._socket.removeAllListeners('data');
  this._protocol.removeAllListeners('data');

  // socket &lt;-&gt; encrypted
  var rejectUnauthorized = this.config.ssl.rejectUnauthorized;
  var secureEstablished  = false;
  var secureSocket       = new tls.TLSSocket(this._socket, {
    rejectUnauthorized : rejectUnauthorized,
    requestCert        : true,
    secureContext      : secureContext,
    isServer           : false
  });

  // error handler for secure socket
  secureSocket.on('_tlsError', function(err) {
    if (secureEstablished) {
      connection._handleNetworkError(err);
    } else {
      onSecure(err);
    }
  });

  // cleartext &lt;-&gt; protocol
  secureSocket.pipe(this._protocol);
  this._protocol.on('data', function(data) {
    secureSocket.write(data);
  });

  secureSocket.on('secure', function() {
    secureEstablished = true;

    onSecure(rejectUnauthorized ? this.ssl.verifyError() : null);
  });

  // start TLS communications
  secureSocket._start();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  err.fatal   = true;
  err.timeout = sequence._timeout;

  self._delegateError(err, sequence);
})
.on('start-tls', function() {
  sequence._timer.active();
  self._connection.<span class="apidocCodeKeywordSpan">_startTLS</span>(function(err) {
    if (err) {
      // SSL negotiation error are fatal
      err.code  = 'HANDSHAKE_SSL_ERROR';
      err.fatal = true;
      sequence.end(err);
      return;
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.beginTransaction" id="apidoc.element.mysql.Connection.prototype.beginTransaction">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>beginTransaction
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function beginTransaction(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  options = options || {};
  options.sql = 'START TRANSACTION';
  options.values = null;

  return this.query(options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

## Transactions

Simple transaction support is available at the connection level:

```js
connection.<span class="apidocCodeKeywordSpan">beginTransaction</span>(function(err) {
if (err) { throw err; }
connection.query('INSERT INTO posts SET title=?', title, function (error, results, fields) {
  if (error) {
    return connection.rollback(function() {
      throw error;
    });
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.changeUser" id="apidoc.element.mysql.Connection.prototype.changeUser">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>changeUser
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function changeUser(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  this._implyConnect();

  var charsetNumber = (options.charset)
    ? ConnectionConfig.getCharsetNumber(options.charset)
    : this.config.charsetNumber;

  return this._protocol.changeUser({
    user          : options.user || this.config.user,
    password      : options.password || this.config.password,
    database      : options.database || this.config.database,
    timeout       : options.timeout,
    charsetNumber : charsetNumber,
    currentConfig : this.config
  }, wrapCallbackInDomain(this, callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Switching users and altering connection state

MySQL offers a changeUser command that allows you to alter the current user and
other aspects of the connection without shutting down the underlying socket:

```js
connection.<span class="apidocCodeKeywordSpan">changeUser</span>({user : 'john'}, function(err) {
  if (err) throw err;
});
```

The available options for this feature are:

* `user`: The name of the new user (defaults to the previous one).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.commit" id="apidoc.element.mysql.Connection.prototype.commit">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>commit
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function commit(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  options = options || {};
  options.sql = 'COMMIT';
  options.values = null;

  return this.query(options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    connection.query('INSERT INTO log SET data=?', log, function (error, results, fields) {
if (error) {
  return connection.rollback(function() {
    throw error;
  });
}
connection.<span class="apidocCodeKeywordSpan">commit</span>(function(err) {
  if (err) {
    return connection.rollback(function() {
      throw err;
    });
  }
  console.log('success!');
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.connect" id="apidoc.element.mysql.Connection.prototype.connect">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>connect
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function connect(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  if (!this._connectCalled) {
    this._connectCalled = true;

    // Connect either via a UNIX domain socket or a TCP socket.
    this._socket = (this.config.socketPath)
      ? Net.createConnection(this.config.socketPath)
      : Net.createConnection(this.config.port, this.config.host);

    // Connect socket to connection domain
    if (Events.usingDomains) {
      this._socket.domain = this.domain;
    }

    var connection = this;
    this._protocol.on('data', function(data) {
      connection._socket.write(data);
    });
    this._socket.on('data', wrapToDomain(connection, function (data) {
      connection._protocol.write(data);
    }));
    this._protocol.on('end', function() {
      connection._socket.end();
    });
    this._socket.on('end', wrapToDomain(connection, function () {
      connection._protocol.end();
    }));

    this._socket.on('error', this._handleNetworkError.bind(this));
    this._socket.on('connect', this._handleProtocolConnect.bind(this));
    this._protocol.on('handshake', this._handleProtocolHandshake.bind(this));
    this._protocol.on('unhandledError', this._handleProtocolError.bind(this));
    this._protocol.on('drain', this._handleProtocolDrain.bind(this));
    this._protocol.on('end', this._handleProtocolEnd.bind(this));
    this._protocol.on('enqueue', this._handleProtocolEnqueue.bind(this));

    if (this.config.connectTimeout) {
      var handleConnectTimeout = this._handleConnectTimeout.bind(this);

      this._socket.setTimeout(this.config.connectTimeout, handleConnectTimeout);
      this._socket.once('connect', function() {
        this.setTimeout(0, handleConnectTimeout);
      });
    }
  }

  this._protocol.handshake(options, wrapCallbackInDomain(this, callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var connection = mysql.createConnection({
  host     : 'localhost',
  user     : 'me',
  password : 'secret',
  database : 'my_db'
});

connection.<span class="apidocCodeKeywordSpan">connect</span>();

connection.query('SELECT 1 + 1 AS solution', function (error, results, fields) {
  if (error) throw error;
  console.log('The solution is: ', results[0].solution);
});

connection.end();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.destroy" id="apidoc.element.mysql.Connection.prototype.destroy">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this.state = 'disconnected';
  this._implyConnect();
  this._socket.destroy();
  this._protocol.destroy();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Add new Amazon RDS ap-northeast-2 certificate CA to Amazon RDS SSL profile #1329

## v2.10.0 (2015-12-15)

* Add new error codes up to MySQL 5.7.9 #1294
* Add new JSON type constant #1295
* Add types for fractional seconds support
* Fix `connection.<span class="apidocCodeKeywordSpan">destroy</span>()` on pool connection creating sequences #1291
* Fix error code 139 `HA_ERR_TO_BIG_ROW` to be `HA_ERR_TOO_BIG_ROW`
* Fix error when call site error is missing stack #1179
* Fix reading password from MySQL URL that has bare colon #1278
* Handle MySQL servers not closing TCP connection after QUIT -&gt; OK exchange #1277
* Minor SqlString Date to string performance improvement #1233
* Support Node.js 4.x
* Support Node.js 5.x
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.end" id="apidoc.element.mysql.Connection.prototype.end">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>end
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function end(options, callback) {
  var cb   = callback;
  var opts = options;

  if (!callback &amp;&amp; typeof options === 'function') {
    cb   = options;
    opts = null;
  }

  // create custom options reference
  opts = Object.create(opts || null);

  if (opts.timeout === undefined) {
    // default timeout of 30 seconds
    opts.timeout = 30000;
  }

  this._implyConnect();
  this._protocol.quit(opts, wrapCallbackInDomain(this, cb));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

connection.query('SELECT 1', function(err, rows) {
  if (err) throw err;

  console.log('Query result: ', rows);
});

connection.<span class="apidocCodeKeywordSpan">end</span>();
```

The new `Connection` class does not try to handle re-connects, please study the
`Server disconnects` section in the new Readme.

Other than that, the interface has stayed very similar. Here are a few things
to check out so:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.escape" id="apidoc.element.mysql.Connection.prototype.escape">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>escape
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value) {
  return SqlString.escape(value, false, this.config.timezone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v2.0.0-alpha5 (2012-12-03)

* Add mysql.escapeId to escape identifiers (closes #342)
* Allow custom escaping mode (config.queryFormat)
* Convert DATE columns to configured timezone instead of UTC (#332)
* Convert LONGLONG and NEWDECIMAL to numbers (#333)
* Fix Connection.<span class="apidocCodeKeywordSpan">escape</span>() (fixes #330)
* Changed Readme ambiguity about custom type cast fallback
* Change typeCast to receive Connection instead of Connection.config.timezone
* Fix drain event having useless err parameter
* Add Connection.statistics() back from v0.9
* Add Connection.ping() back from v0.9

## v2.0.0-alpha4 (2012-10-03)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.escapeId" id="apidoc.element.mysql.Connection.prototype.escapeId">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>escapeId
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeId(value) {
  return SqlString.escapeId(value, false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {boolean} [forbidQualified=false] Setting to treat '.' as part of identifier
* @return {string} Escaped string value
* @public
*/
exports.escapeId = function escapeId(value, forbidQualified) {
 var SqlString = loadClass('SqlString');

 return SqlString.<span class="apidocCodeKeywordSpan">escapeId</span>(value, forbidQualified);
};

/**
* Format SQL and replacement values into a SQL string.
* @param {string} sql The SQL for the query
* @param {array} [values] Any values to insert into placeholders in sql
* @param {boolean} [stringifyObjects=false] Setting if objects should be stringified
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.format" id="apidoc.element.mysql.Connection.prototype.format">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>format
        <span class="apidocSignatureSpan">(sql, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(sql, values) {
  if (typeof this.config.queryFormat === 'function') {
    return this.config.queryFormat.call(this, sql, values, this.config.timezone);
  }
  return SqlString.format(sql, values, this.config.stringifyObjects, this.config.timezone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

* Streaming LOAD DATA LOCAL INFILE #668
* Doc improvements

## v2.0.0-rc1 (2013-11-30)

* Transaction support
* Expose SqlString.format as mysql.<span class="apidocCodeKeywordSpan">format</span>()
* Many bug fixes
* Better support for dates in local time zone
* Doc improvements

## v2.0.0-alpha9 (2013-08-27)

* Add query to pool to execute queries directly using the pool
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.pause" id="apidoc.element.mysql.Connection.prototype.pause">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>pause
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._socket.pause();
  this._protocol.pause();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Handle error, an 'end' event will be emitted after this as well
})
.on('fields', function(fields) {
  // the field packets for the rows to follow
})
.on('result', function(row) {
  // Pausing the connnection is useful if your processing involves I/O
  connection.<span class="apidocCodeKeywordSpan">pause</span>();

  processRow(row, function() {
    connection.resume();
  });
})
.on('end', function() {
  // all rows have been received
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.ping" id="apidoc.element.mysql.Connection.prototype.ping">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>ping
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ping(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  this._implyConnect();
  this._protocol.ping(options, wrapCallbackInDomain(this, callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Convert DATE columns to configured timezone instead of UTC (#332)
* Convert LONGLONG and NEWDECIMAL to numbers (#333)
* Fix Connection.escape() (fixes #330)
* Changed Readme ambiguity about custom type cast fallback
* Change typeCast to receive Connection instead of Connection.config.timezone
* Fix drain event having useless err parameter
* Add Connection.statistics() back from v0.9
* Add Connection.<span class="apidocCodeKeywordSpan">ping</span>() back from v0.9

## v2.0.0-alpha4 (2012-10-03)

* Fix some OOB errors on resume()
* Fix quick pause() / resume() usage
* Properly parse host denied / similar errors
* Add Connection.ChangeUser functionality
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.query" id="apidoc.element.mysql.Connection.prototype.query">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>query
        <span class="apidocSignatureSpan">(sql, values, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function query(sql, values, cb) {
  var query = Connection.createQuery(sql, values, cb);
  query._connection = this;

  if (!(typeof sql === 'object' &amp;&amp; 'typeCast' in sql)) {
    query.typeCast = this.config.typeCast;
  }

  if (query.sql) {
    query.sql = this.format(query.sql, query.values);
  }

  if (query._callback) {
    query._callback = wrapCallbackInDomain(this, query._callback);
  }

  this._implyConnect();

  return this._protocol._enqueue(query);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Update `bignumber.js` to 3.1.2
* Use a simple buffer list to improve performance #566 #1590

## v2.12.0 (2016-11-02)

* Accept array of type names to `dateStrings` option #605 #1481
* Add `query` method to `PoolNamespace` #1256 #1505 #1506
- Used as `cluster.of(...).<span class="apidocCodeKeywordSpan">query</span>(...)`
* Add new error codes up to MySQL 5.7.16
* Fix edge cases writing certain length coded values
* Fix typo in `HANDSHAKE_NO_SSL_SUPPORT` error message #1534
* Support Node.js 7.x
* Update `bignumber.js` to 2.4.0
* Update `sqlstring` to 2.2.0
- Accept numbers and other value types in `escapeId`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.resume" id="apidoc.element.mysql.Connection.prototype.resume">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>resume
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._socket.resume();
  this._protocol.resume();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // the field packets for the rows to follow
  })
  .on('result', function(row) {
    // Pausing the connnection is useful if your processing involves I/O
    connection.pause();

    processRow(row, function() {
      connection.<span class="apidocCodeKeywordSpan">resume</span>();
    });
  })
  .on('end', function() {
    // all rows have been received
  });
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.rollback" id="apidoc.element.mysql.Connection.prototype.rollback">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>rollback
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rollback(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  options = options || {};
  options.sql = 'ROLLBACK';
  options.values = null;

  return this.query(options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Simple transaction support is available at the connection level:

```js
connection.beginTransaction(function(err) {
  if (err) { throw err; }
  connection.query('INSERT INTO posts SET title=?', title, function (error, results, fields) {
if (error) {
  return connection.<span class="apidocCodeKeywordSpan">rollback</span>(function() {
    throw error;
  });
}

var log = 'Post ' + results.insertId + ' added';

connection.query('INSERT INTO log SET data=?', log, function (error, results, fields) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Connection.prototype.statistics" id="apidoc.element.mysql.Connection.prototype.statistics">
        function <span class="apidocSignatureSpan">mysql.Connection.prototype.</span>statistics
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function statistics(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  this._implyConnect();
  this._protocol.stats(options, wrapCallbackInDomain(this, callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Allow custom escaping mode (config.queryFormat)
* Convert DATE columns to configured timezone instead of UTC (#332)
* Convert LONGLONG and NEWDECIMAL to numbers (#333)
* Fix Connection.escape() (fixes #330)
* Changed Readme ambiguity about custom type cast fallback
* Change typeCast to receive Connection instead of Connection.config.timezone
* Fix drain event having useless err parameter
* Add Connection.<span class="apidocCodeKeywordSpan">statistics</span>() back from v0.9
* Add Connection.ping() back from v0.9

## v2.0.0-alpha4 (2012-10-03)

* Fix some OOB errors on resume()
* Fix quick pause() / resume() usage
* Properly parse host denied / similar errors
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ConnectionConfig" id="apidoc.module.mysql.ConnectionConfig">module mysql.ConnectionConfig</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ConnectionConfig.ConnectionConfig" id="apidoc.element.mysql.ConnectionConfig.ConnectionConfig">
        function <span class="apidocSignatureSpan">mysql.</span>ConnectionConfig
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ConnectionConfig(options) {
  if (typeof options === 'string') {
    options = ConnectionConfig.parseUrl(options);
  }

  this.host               = options.host || 'localhost';
  this.port               = options.port || 3306;
  this.localAddress       = options.localAddress;
  this.socketPath         = options.socketPath;
  this.user               = options.user || undefined;
  this.password           = options.password || undefined;
  this.database           = options.database;
  this.connectTimeout     = (options.connectTimeout === undefined)
    ? (10 * 1000)
    : options.connectTimeout;
  this.insecureAuth       = options.insecureAuth || false;
  this.supportBigNumbers  = options.supportBigNumbers || false;
  this.bigNumberStrings   = options.bigNumberStrings || false;
  this.dateStrings        = options.dateStrings || false;
  this.debug              = options.debug;
  this.trace              = options.trace !== false;
  this.stringifyObjects   = options.stringifyObjects || false;
  this.timezone           = options.timezone || 'local';
  this.flags              = options.flags || '';
  this.queryFormat        = options.queryFormat;
  this.pool               = options.pool || undefined;
  this.ssl                = (typeof options.ssl === 'string')
    ? ConnectionConfig.getSSLProfile(options.ssl)
    : (options.ssl || false);
  this.multipleStatements = options.multipleStatements || false;
  this.typeCast           = (options.typeCast === undefined)
    ? true
    : options.typeCast;

  if (this.timezone[0] === ' ') {
    // "+" is a url encoded char for space so it
    // gets translated to space when giving a
    // connection string..
    this.timezone = '+' + this.timezone.substr(1);
  }

  if (this.ssl) {
    // Default rejectUnauthorized to true
    this.ssl.rejectUnauthorized = this.ssl.rejectUnauthorized !== false;
  }

  this.maxPacketSize = 0;
  this.charsetNumber = (options.charset)
    ? ConnectionConfig.getCharsetNumber(options.charset)
    : options.charsetNumber || Charsets.UTF8_GENERAL_CI;

  // Set the client flags
  var defaultFlags = ConnectionConfig.getDefaultFlags(options);
  this.clientFlags = ConnectionConfig.mergeFlags(defaultFlags, options.flags);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ConnectionConfig.getCharsetNumber" id="apidoc.element.mysql.ConnectionConfig.getCharsetNumber">
        function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>getCharsetNumber
        <span class="apidocSignatureSpan">(charset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getCharsetNumber(charset) {
  var num = Charsets[charset.toUpperCase()];

  if (num === undefined) {
    throw new TypeError('Unknown charset \'' + charset + '\'');
  }

  return num;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this.ssl) {
    // Default rejectUnauthorized to true
    this.ssl.rejectUnauthorized = this.ssl.rejectUnauthorized !== false;
  }

  this.maxPacketSize = 0;
  this.charsetNumber = (options.charset)
    ? ConnectionConfig.<span class="apidocCodeKeywordSpan">getCharsetNumber</span>(options.charset)
    : options.charsetNumber || Charsets.UTF8_GENERAL_CI;

  // Set the client flags
  var defaultFlags = ConnectionConfig.getDefaultFlags(options);
  this.clientFlags = ConnectionConfig.mergeFlags(defaultFlags, options.flags);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ConnectionConfig.getDefaultFlags" id="apidoc.element.mysql.ConnectionConfig.getDefaultFlags">
        function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>getDefaultFlags
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getDefaultFlags(options) {
  var defaultFlags = [
    '-COMPRESS',          // Compression protocol *NOT* supported
    '-CONNECT_ATTRS',     // Does *NOT* send connection attributes in Protocol::HandshakeResponse41
    '+CONNECT_WITH_DB',   // One can specify db on connect in Handshake Response Packet
    '+FOUND_ROWS',        // Send found rows instead of affected rows
    '+IGNORE_SIGPIPE',    // Don't issue SIGPIPE if network failures
    '+IGNORE_SPACE',      // Let the parser ignore spaces before '('
    '+LOCAL_FILES',       // Can use LOAD DATA LOCAL
    '+LONG_FLAG',         // Longer flags in Protocol::ColumnDefinition320
    '+LONG_PASSWORD',     // Use the improved version of Old Password Authentication
    '+MULTI_RESULTS',     // Can handle multiple resultsets for COM_QUERY
    '+ODBC',              // Special handling of ODBC behaviour
    '-PLUGIN_AUTH',       // Does *NOT* support auth plugins
    '+PROTOCOL_41',       // Uses the 4.1 protocol
    '+PS_MULTI_RESULTS',  // Can handle multiple resultsets for COM_STMT_EXECUTE
    '+RESERVED',          // Unused
    '+SECURE_CONNECTION', // Supports Authentication::Native41
    '+TRANSACTIONS'       // Expects status flags
  ];

  if (options &amp;&amp; options.multipleStatements) {
    // May send multiple statements per COM_QUERY and COM_STMT_PREPARE
    defaultFlags.push('+MULTI_STATEMENTS');
  }

  return defaultFlags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this.maxPacketSize = 0;
this.charsetNumber = (options.charset)
  ? ConnectionConfig.getCharsetNumber(options.charset)
  : options.charsetNumber || Charsets.UTF8_GENERAL_CI;

// Set the client flags
var defaultFlags = ConnectionConfig.<span class="apidocCodeKeywordSpan">getDefaultFlags</span>(options);
this.clientFlags = ConnectionConfig.mergeFlags(defaultFlags, options.flags);
}

ConnectionConfig.mergeFlags = function mergeFlags(defaultFlags, userFlags) {
var allFlags = ConnectionConfig.parseFlagList(defaultFlags);
var newFlags = ConnectionConfig.parseFlagList(userFlags);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ConnectionConfig.getSSLProfile" id="apidoc.element.mysql.ConnectionConfig.getSSLProfile">
        function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>getSSLProfile
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getSSLProfile(name) {
  if (!SSLProfiles) {
    SSLProfiles = require('./protocol/constants/ssl_profiles');
  }

  var ssl = SSLProfiles[name];

  if (ssl === undefined) {
    throw new TypeError('Unknown SSL profile \'' + name + '\'');
  }

  return ssl;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.trace              = options.trace !== false;
this.stringifyObjects   = options.stringifyObjects || false;
this.timezone           = options.timezone || 'local';
this.flags              = options.flags || '';
this.queryFormat        = options.queryFormat;
this.pool               = options.pool || undefined;
this.ssl                = (typeof options.ssl === 'string')
  ? ConnectionConfig.<span class="apidocCodeKeywordSpan">getSSLProfile</span>(options.ssl)
  : (options.ssl || false);
this.multipleStatements = options.multipleStatements || false;
this.typeCast           = (options.typeCast === undefined)
  ? true
  : options.typeCast;

if (this.timezone[0] === ' ') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ConnectionConfig.mergeFlags" id="apidoc.element.mysql.ConnectionConfig.mergeFlags">
        function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>mergeFlags
        <span class="apidocSignatureSpan">(defaultFlags, userFlags)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function mergeFlags(defaultFlags, userFlags) {
  var allFlags = ConnectionConfig.parseFlagList(defaultFlags);
  var newFlags = ConnectionConfig.parseFlagList(userFlags);

  // Merge the new flags
  for (var flag in newFlags) {
    if (allFlags[flag] !== false) {
      allFlags[flag] = newFlags[flag];
    }
  }

  // Build flags
  var flags = 0x0;
  for (var flag in allFlags) {
    if (allFlags[flag]) {
      // TODO: Throw here on some future release
      flags |= ClientConstants['CLIENT_' + flag] || 0x0;
    }
  }

  return flags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.maxPacketSize = 0;
this.charsetNumber = (options.charset)
  ? ConnectionConfig.getCharsetNumber(options.charset)
  : options.charsetNumber || Charsets.UTF8_GENERAL_CI;

// Set the client flags
var defaultFlags = ConnectionConfig.getDefaultFlags(options);
this.clientFlags = ConnectionConfig.<span class="apidocCodeKeywordSpan">mergeFlags</span>(defaultFlags, options.flags);
}

ConnectionConfig.mergeFlags = function mergeFlags(defaultFlags, userFlags) {
var allFlags = ConnectionConfig.parseFlagList(defaultFlags);
var newFlags = ConnectionConfig.parseFlagList(userFlags);

// Merge the new flags
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ConnectionConfig.parseFlagList" id="apidoc.element.mysql.ConnectionConfig.parseFlagList">
        function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>parseFlagList
        <span class="apidocSignatureSpan">(flagList)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseFlagList(flagList) {
  var allFlags = Object.create(null);

  if (!flagList) {
    return allFlags;
  }

  var flags = !Array.isArray(flagList)
    ? String(flagList || '').toUpperCase().split(/\s*,+\s*/)
    : flagList;

  for (var i = 0; i &lt; flags.length; i++) {
    var flag   = flags[i];
    var offset = 1;
    var state  = flag[0];

    if (state === undefined) {
      // TODO: throw here on some future release
      continue;
    }

    if (state !== '-' &amp;&amp; state !== '+') {
      offset = 0;
      state  = '+';
    }

    allFlags[flag.substr(offset)] = state === '+';
  }

  return allFlags;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Set the client flags
var defaultFlags = ConnectionConfig.getDefaultFlags(options);
this.clientFlags = ConnectionConfig.mergeFlags(defaultFlags, options.flags);
}

ConnectionConfig.mergeFlags = function mergeFlags(defaultFlags, userFlags) {
var allFlags = ConnectionConfig.<span class="apidocCodeKeywordSpan">parseFlagList</span>(defaultFlags);
var newFlags = ConnectionConfig.parseFlagList(userFlags);

// Merge the new flags
for (var flag in newFlags) {
  if (allFlags[flag] !== false) {
    allFlags[flag] = newFlags[flag];
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ConnectionConfig.parseUrl" id="apidoc.element.mysql.ConnectionConfig.parseUrl">
        function <span class="apidocSignatureSpan">mysql.ConnectionConfig.</span>parseUrl
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(url) {
  url = urlParse(url, true);

  var options = {
    host     : url.hostname,
    port     : url.port,
    database : url.pathname.substr(1)
  };

  if (url.auth) {
    var auth = url.auth.split(':');
    options.user     = auth.shift();
    options.password = auth.join(':');
  }

  if (url.query) {
    for (var key in url.query) {
      var value = url.query[key];

      try {
        // Try to parse this as a JSON expression first
        options[key] = JSON.parse(value);
      } catch (err) {
        // Otherwise assume it is a plain string
        options[key] = value;
      }
    }
  }

  return options;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var ClientConstants = require('./protocol/constants/client');
var Charsets        = require('./protocol/constants/charsets');
var SSLProfiles     = null;

module.exports = ConnectionConfig;
function ConnectionConfig(options) {
if (typeof options === 'string') {
  options = ConnectionConfig.<span class="apidocCodeKeywordSpan">parseUrl</span>(options);
}

this.host               = options.host || 'localhost';
this.port               = options.port || 3306;
this.localAddress       = options.localAddress;
this.socketPath         = options.socketPath;
this.user               = options.user || undefined;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.EmptyPacket" id="apidoc.module.mysql.EmptyPacket">module mysql.EmptyPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.EmptyPacket.EmptyPacket" id="apidoc.element.mysql.EmptyPacket.EmptyPacket">
        function <span class="apidocSignatureSpan">mysql.</span>EmptyPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EmptyPacket() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

localStream.on('error', function (err) {
  self._loadError = err;
  localStream.emit('end');
});

localStream.on('end', function () {
  self.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">EmptyPacket</span>());
});
};

Query.prototype.stream = function(options) {
var self = this;

options = options || {};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.EmptyPacket.prototype" id="apidoc.module.mysql.EmptyPacket.prototype">module mysql.EmptyPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.EmptyPacket.prototype.write" id="apidoc.element.mysql.EmptyPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.EmptyPacket.prototype.</span>write
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.EofPacket" id="apidoc.module.mysql.EofPacket">module mysql.EofPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.EofPacket.EofPacket" id="apidoc.element.mysql.EofPacket.EofPacket">
        function <span class="apidocSignatureSpan">mysql.</span>EofPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EofPacket(options) {
  options = options || {};

  this.fieldCount   = undefined;
  this.warningCount = options.warningCount;
  this.serverStatus = options.serverStatus;
  this.protocol41   = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.EofPacket.prototype" id="apidoc.module.mysql.EofPacket.prototype">module mysql.EofPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.EofPacket.prototype.parse" id="apidoc.element.mysql.EofPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.EofPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.fieldCount   = parser.parseUnsignedNumber(1);
  if (this.protocol41) {
    this.warningCount = parser.parseUnsignedNumber(2);
    this.serverStatus = parser.parseUnsignedNumber(2);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.EofPacket.prototype.write" id="apidoc.element.mysql.EofPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.EofPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, 0xfe);
  if (this.protocol41) {
    writer.writeUnsignedNumber(2, this.warningCount);
    writer.writeUnsignedNumber(2, this.serverStatus);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ErrorPacket" id="apidoc.module.mysql.ErrorPacket">module mysql.ErrorPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ErrorPacket.ErrorPacket" id="apidoc.element.mysql.ErrorPacket.ErrorPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ErrorPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ErrorPacket(options) {
  options = options || {};

  this.fieldCount     = options.fieldCount;
  this.errno          = options.errno;
  this.sqlStateMarker = options.sqlStateMarker;
  this.sqlState       = options.sqlState;
  this.message        = options.message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ErrorPacket.prototype" id="apidoc.module.mysql.ErrorPacket.prototype">module mysql.ErrorPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ErrorPacket.prototype.parse" id="apidoc.element.mysql.ErrorPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.ErrorPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.fieldCount = parser.parseUnsignedNumber(1);
  this.errno      = parser.parseUnsignedNumber(2);

  // sqlStateMarker ('#' = 0x23) indicates error packet format
  if (parser.peak() === 0x23) {
    this.sqlStateMarker = parser.parseString(1);
    this.sqlState       = parser.parseString(5);
  }

  this.message = parser.parsePacketTerminatedString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ErrorPacket.prototype.write" id="apidoc.element.mysql.ErrorPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.ErrorPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, 0xff);
  writer.writeUnsignedNumber(2, this.errno);

  if (this.sqlStateMarker) {
    writer.writeString(this.sqlStateMarker);
    writer.writeString(this.sqlState);
  }

  writer.writeString(this.message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Field" id="apidoc.module.mysql.Field">module mysql.Field</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Field.Field" id="apidoc.element.mysql.Field.Field">
        function <span class="apidocSignatureSpan">mysql.</span>Field
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Field(options) {
  options = options || {};

  this.parser = options.parser;
  this.packet = options.packet;
  this.db     = options.packet.db;
  this.table  = options.packet.table;
  this.name   = options.packet.name;
  this.type   = typeToString(options.packet.type);
  this.length = options.packet.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Field.prototype" id="apidoc.module.mysql.Field.prototype">module mysql.Field.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Field.prototype.buffer" id="apidoc.element.mysql.Field.prototype.buffer">
        function <span class="apidocSignatureSpan">mysql.Field.prototype.</span>buffer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">buffer = function () {
  return this.parser.parseLengthCodedBuffer();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
});
```
__WARNING: YOU MUST INVOKE the parser using one of these three field functions in your custom typeCast callback. They can only be
 called once. (see [#539](https://github.com/mysqljs/mysql/issues/539) for discussion)__

```
field.string()
field.<span class="apidocCodeKeywordSpan">buffer</span>()
field.geometry()
```
are aliases for
```
parser.parseLengthCodedString()
parser.parseLengthCodedBuffer()
parser.parseGeometryValue()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Field.prototype.geometry" id="apidoc.element.mysql.Field.prototype.geometry">
        function <span class="apidocSignatureSpan">mysql.Field.prototype.</span>geometry
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">geometry = function () {
  return this.parser.parseGeometryValue();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
```
__WARNING: YOU MUST INVOKE the parser using one of these three field functions in your custom typeCast callback. They can only be
 called once. (see [#539](https://github.com/mysqljs/mysql/issues/539) for discussion)__

```
field.string()
field.buffer()
field.<span class="apidocCodeKeywordSpan">geometry</span>()
```
are aliases for
```
parser.parseLengthCodedString()
parser.parseLengthCodedBuffer()
parser.parseGeometryValue()
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Field.prototype.string" id="apidoc.element.mysql.Field.prototype.string">
        function <span class="apidocSignatureSpan">mysql.Field.prototype.</span>string
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">string = function () {
  return this.parser.parseLengthCodedString();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
fallback to the default. Here's an example of converting `TINYINT(1)` to boolean:

```js
connection.query({
  sql: '...',
  typeCast: function (field, next) {
    if (field.type == 'TINY' &amp;&amp; field.length == 1) {
      return (field.<span class="apidocCodeKeywordSpan">string</span>() == '1'); // 1 = true, 0 = false
    }
    return next();
  }
});
```
__WARNING: YOU MUST INVOKE the parser using one of these three field functions in your custom typeCast callback. They can only be
 called once. (see [#539](https://github.com/mysqljs/mysql/issues/539) for discussion)__
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.FieldPacket" id="apidoc.module.mysql.FieldPacket">module mysql.FieldPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.FieldPacket.FieldPacket" id="apidoc.element.mysql.FieldPacket.FieldPacket">
        function <span class="apidocSignatureSpan">mysql.</span>FieldPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FieldPacket(options) {
  options = options || {};

  this.catalog    = options.catalog;
  this.db         = options.db;
  this.table      = options.table;
  this.orgTable   = options.orgTable;
  this.name       = options.name;
  this.orgName    = options.orgName;
  this.charsetNr  = options.charsetNr;
  this.length     = options.length;
  this.type       = options.type;
  this.flags      = options.flags;
  this.decimals   = options.decimals;
  this.default    = options.default;
  this.zeroFill   = options.zeroFill;
  this.protocol41 = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.FieldPacket.prototype" id="apidoc.module.mysql.FieldPacket.prototype">module mysql.FieldPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.FieldPacket.prototype.parse" id="apidoc.element.mysql.FieldPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.FieldPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  if (this.protocol41) {
    this.catalog     = parser.parseLengthCodedString();
    this.db          = parser.parseLengthCodedString();
    this.table       = parser.parseLengthCodedString();
    this.orgTable    = parser.parseLengthCodedString();
    this.name        = parser.parseLengthCodedString();
    this.orgName     = parser.parseLengthCodedString();

    if (parser.parseLengthCodedNumber() !== 0x0c) {
      var err  = new TypeError('Received invalid field length');
      err.code = 'PARSER_INVALID_FIELD_LENGTH';
      throw err;
    }

    this.charsetNr   = parser.parseUnsignedNumber(2);
    this.length      = parser.parseUnsignedNumber(4);
    this.type        = parser.parseUnsignedNumber(1);
    this.flags       = parser.parseUnsignedNumber(2);
    this.decimals    = parser.parseUnsignedNumber(1);

    var filler       = parser.parseBuffer(2);
    if (filler[0] !== 0x0 || filler[1] !== 0x0) {
      var err  = new TypeError('Received invalid filler');
      err.code = 'PARSER_INVALID_FILLER';
      throw err;
    }

    // parsed flags
    this.zeroFill    = (this.flags &amp; 0x0040 ? true : false);

    if (parser.reachedPacketEnd()) {
      return;
    }

    this.default     = parser.parseLengthCodedString();
  } else {
    this.table       = parser.parseLengthCodedString();
    this.name        = parser.parseLengthCodedString();
    this.length      = parser.parseUnsignedNumber(parser.parseUnsignedNumber(1));
    this.type        = parser.parseUnsignedNumber(parser.parseUnsignedNumber(1));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.FieldPacket.prototype.write" id="apidoc.element.mysql.FieldPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.FieldPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  if (this.protocol41) {
    writer.writeLengthCodedString(this.catalog);
    writer.writeLengthCodedString(this.db);
    writer.writeLengthCodedString(this.table);
    writer.writeLengthCodedString(this.orgTable);
    writer.writeLengthCodedString(this.name);
    writer.writeLengthCodedString(this.orgName);

    writer.writeLengthCodedNumber(0x0c);
    writer.writeUnsignedNumber(2, this.charsetNr || 0);
    writer.writeUnsignedNumber(4, this.length || 0);
    writer.writeUnsignedNumber(1, this.type || 0);
    writer.writeUnsignedNumber(2, this.flags || 0);
    writer.writeUnsignedNumber(1, this.decimals || 0);
    writer.writeFiller(2);

    if (this.default !== undefined) {
      writer.writeLengthCodedString(this.default);
    }
  } else {
    writer.writeLengthCodedString(this.table);
    writer.writeLengthCodedString(this.name);
    writer.writeUnsignedNumber(1, 0x01);
    writer.writeUnsignedNumber(1, this.length);
    writer.writeUnsignedNumber(1, 0x01);
    writer.writeUnsignedNumber(1, this.type);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Handshake" id="apidoc.module.mysql.Handshake">module mysql.Handshake</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Handshake.Handshake" id="apidoc.element.mysql.Handshake.Handshake">
        function <span class="apidocSignatureSpan">mysql.</span>Handshake
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Handshake(options, callback) {
  Sequence.call(this, options, callback);

  options = options || {};

  this._config                        = options.config;
  this._handshakeInitializationPacket = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    callback = options;
    options = {};
  }

  options = options || {};
  options.config = this._config;

  var sequence = this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Handshake</span>(options, callback));

  this._handshake = true;

  return sequence;
};

Protocol.prototype.query = function query(options, callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Handshake.super_" id="apidoc.element.mysql.Handshake.super_">
        function <span class="apidocSignatureSpan">mysql.Handshake.</span>super_
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Sequence(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  EventEmitter.call(this);

  options = options || {};

  this._callback = callback;
  this._callSite = null;
  this._ended    = false;
  this._timeout  = options.timeout;
  this._timer    = new Timer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Handshake.prototype" id="apidoc.module.mysql.Handshake.prototype">module mysql.Handshake.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Handshake.prototype.AuthSwitchRequestPacket" id="apidoc.element.mysql.Handshake.prototype.AuthSwitchRequestPacket">
        function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>AuthSwitchRequestPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">AuthSwitchRequestPacket = function (packet) {
  if (packet.authMethodName === 'mysql_native_password') {
    var challenge = packet.authMethodData.slice(0, 20);

    this.emit('packet', new Packets.AuthSwitchResponsePacket({
      data: Auth.token(this._config.password, challenge)
    }));
  } else {
    var err = new Error(
      'MySQL is requesting the ' + packet.authMethodName + ' authentication method, which is not supported.'
    );

    err.code = 'UNSUPPORTED_AUTH_METHOD';
    err.fatal = true;

    this.end(err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Handshake.prototype.ErrorPacket" id="apidoc.element.mysql.Handshake.prototype.ErrorPacket">
        function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>ErrorPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  var err = this._packetToError(packet, true);
  err.fatal = true;
  this.end(err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Handshake.prototype.HandshakeInitializationPacket" id="apidoc.element.mysql.Handshake.prototype.HandshakeInitializationPacket">
        function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>HandshakeInitializationPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  this._handshakeInitializationPacket = packet;

  this._config.protocol41 = packet.protocol41;

  var serverSSLSupport = packet.serverCapabilities1 &amp; ClientConstants.CLIENT_SSL;

  if (this._config.ssl) {
    if (!serverSSLSupport) {
      var err = new Error('Server does not support secure connection');

      err.code = 'HANDSHAKE_NO_SSL_SUPPORT';
      err.fatal = true;

      this.end(err);
      return;
    }

    this._config.clientFlags |= ClientConstants.CLIENT_SSL;
    this.emit('packet', new Packets.SSLRequestPacket({
      clientFlags   : this._config.clientFlags,
      maxPacketSize : this._config.maxPacketSize,
      charsetNumber : this._config.charsetNumber
    }));
    this.emit('start-tls');
  } else {
    this._sendCredentials();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Handshake.prototype.UseOldPasswordPacket" id="apidoc.element.mysql.Handshake.prototype.UseOldPasswordPacket">
        function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>UseOldPasswordPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  if (!this._config.insecureAuth) {
    var err = new Error(
      'MySQL server is requesting the old and insecure pre-4.1 auth mechanism. ' +
      'Upgrade the user password or use the {insecureAuth: true} option.'
    );

    err.code = 'HANDSHAKE_INSECURE_AUTH';
    err.fatal = true;

    this.end(err);
    return;
  }

  this.emit('packet', new Packets.OldPasswordPacket({
    scrambleBuff: Auth.scramble323(this._handshakeInitializationPacket.scrambleBuff(), this._config.password)
  }));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Handshake.prototype._sendCredentials" id="apidoc.element.mysql.Handshake.prototype._sendCredentials">
        function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>_sendCredentials
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var packet = this._handshakeInitializationPacket;
  this.emit('packet', new Packets.ClientAuthenticationPacket({
    clientFlags   : this._config.clientFlags,
    maxPacketSize : this._config.maxPacketSize,
    charsetNumber : this._config.charsetNumber,
    user          : this._config.user,
    database      : this._config.database,
    protocol41    : packet.protocol41,
    scrambleBuff  : (packet.protocol41)
      ? Auth.token(this._config.password, packet.scrambleBuff())
      : Auth.scramble323(packet.scrambleBuff(), this._config.password)
  }));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.emit('packet', new Packets.SSLRequestPacket({
      clientFlags   : this._config.clientFlags,
      maxPacketSize : this._config.maxPacketSize,
      charsetNumber : this._config.charsetNumber
    }));
    this.emit('start-tls');
  } else {
    this.<span class="apidocCodeKeywordSpan">_sendCredentials</span>();
  }
};

Handshake.prototype._tlsUpgradeCompleteHandler = function() {
  this._sendCredentials();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Handshake.prototype._tlsUpgradeCompleteHandler" id="apidoc.element.mysql.Handshake.prototype._tlsUpgradeCompleteHandler">
        function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>_tlsUpgradeCompleteHandler
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._sendCredentials();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        err.code  = 'HANDSHAKE_SSL_ERROR';
        err.fatal = true;
        sequence.end(err);
        return;
      }

      sequence._timer.active();
      sequence.<span class="apidocCodeKeywordSpan">_tlsUpgradeCompleteHandler</span>();
    });
  });

if (this._queue.length === 1) {
  this._parser.resetPacketNumber();
  this._startSequence(sequence);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Handshake.prototype.determinePacket" id="apidoc.element.mysql.Handshake.prototype.determinePacket">
        function <span class="apidocSignatureSpan">mysql.Handshake.prototype.</span>determinePacket
        <span class="apidocSignatureSpan">(firstByte, parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function determinePacket(firstByte, parser) {
  if (firstByte === 0xff) {
    return Packets.ErrorPacket;
  }

  if (!this._handshakeInitializationPacket) {
    return Packets.HandshakeInitializationPacket;
  }

  if (firstByte === 0xfe) {
    return (parser.packetLength() === 1)
      ? Packets.UseOldPasswordPacket
      : Packets.AuthSwitchRequestPacket;
  }

  return undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
};

Protocol.prototype._determinePacket = function(sequence) {
var firstByte = this._parser.peak();

if (sequence.determinePacket) {
  var Packet = sequence.<span class="apidocCodeKeywordSpan">determinePacket</span>(firstByte, this._parser);
  if (Packet) {
    return Packet;
  }
}

switch (firstByte) {
  case 0x00:
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.HandshakeInitializationPacket" id="apidoc.module.mysql.HandshakeInitializationPacket">module mysql.HandshakeInitializationPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.HandshakeInitializationPacket.HandshakeInitializationPacket" id="apidoc.element.mysql.HandshakeInitializationPacket.HandshakeInitializationPacket">
        function <span class="apidocSignatureSpan">mysql.</span>HandshakeInitializationPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HandshakeInitializationPacket(options) {
  options = options || {};

  this.protocolVersion     = options.protocolVersion;
  this.serverVersion       = options.serverVersion;
  this.threadId            = options.threadId;
  this.scrambleBuff1       = options.scrambleBuff1;
  this.filler1             = options.filler1;
  this.serverCapabilities1 = options.serverCapabilities1;
  this.serverLanguage      = options.serverLanguage;
  this.serverStatus        = options.serverStatus;
  this.serverCapabilities2 = options.serverCapabilities2;
  this.scrambleLength      = options.scrambleLength;
  this.filler2             = options.filler2;
  this.scrambleBuff2       = options.scrambleBuff2;
  this.filler3             = options.filler3;
  this.pluginData          = options.pluginData;
  this.protocol41          = options.protocol41;

  if (this.protocol41) {
    // force set the bit in serverCapabilities1
    this.serverCapabilities1 |= Client.CLIENT_PROTOCOL_41;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.HandshakeInitializationPacket.prototype" id="apidoc.module.mysql.HandshakeInitializationPacket.prototype">module mysql.HandshakeInitializationPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.HandshakeInitializationPacket.prototype.parse" id="apidoc.element.mysql.HandshakeInitializationPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.HandshakeInitializationPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.protocolVersion     = parser.parseUnsignedNumber(1);
  this.serverVersion       = parser.parseNullTerminatedString();
  this.threadId            = parser.parseUnsignedNumber(4);
  this.scrambleBuff1       = parser.parseBuffer(8);
  this.filler1             = parser.parseFiller(1);
  this.serverCapabilities1 = parser.parseUnsignedNumber(2);
  this.serverLanguage      = parser.parseUnsignedNumber(1);
  this.serverStatus        = parser.parseUnsignedNumber(2);

  this.protocol41          = (this.serverCapabilities1 &amp; (1 &lt;&lt; 9)) &gt; 0;

  if (this.protocol41) {
    this.serverCapabilities2 = parser.parseUnsignedNumber(2);
    this.scrambleLength      = parser.parseUnsignedNumber(1);
    this.filler2             = parser.parseFiller(10);
    // scrambleBuff2 should be 0x00 terminated, but sphinx does not do this
    // so we assume scrambleBuff2 to be 12 byte and treat the next byte as a
    // filler byte.
    this.scrambleBuff2       = parser.parseBuffer(12);
    this.filler3             = parser.parseFiller(1);
  } else {
    this.filler2             = parser.parseFiller(13);
  }

  if (parser.reachedPacketEnd()) {
    return;
  }

  // According to the docs this should be 0x00 terminated, but MariaDB does
  // not do this, so we assume this string to be packet terminated.
  this.pluginData = parser.parsePacketTerminatedString();

  // However, if there is a trailing '\0', strip it
  var lastChar = this.pluginData.length - 1;
  if (this.pluginData[lastChar] === '\0') {
    this.pluginData = this.pluginData.substr(0, lastChar);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.HandshakeInitializationPacket.prototype.scrambleBuff" id="apidoc.element.mysql.HandshakeInitializationPacket.prototype.scrambleBuff">
        function <span class="apidocSignatureSpan">mysql.HandshakeInitializationPacket.prototype.</span>scrambleBuff
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var buffer = null;

  if (typeof this.scrambleBuff2 === 'undefined') {
    buffer = Buffer.from(this.scrambleBuff1);
  } else {
    buffer = Buffer.allocUnsafe(this.scrambleBuff1.length + this.scrambleBuff2.length);
    this.scrambleBuff1.copy(buffer, 0);
    this.scrambleBuff2.copy(buffer, this.scrambleBuff1.length);
  }

  return buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._password      = options.password;
this._database      = options.database;
this._charsetNumber = options.charsetNumber;
this._currentConfig = options.currentConfig;
}

ChangeUser.prototype.start = function(handshakeInitializationPacket) {
var scrambleBuff = handshakeInitializationPacket.<span class="apidocCodeKeywordSpan">scrambleBuff</span>();
scrambleBuff     = Auth.token(this._password, scrambleBuff);

var packet = new Packets.ComChangeUserPacket({
  user          : this._user,
  scrambleBuff  : scrambleBuff,
  database      : this._database,
  charsetNumber : this._charsetNumber
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.HandshakeInitializationPacket.prototype.write" id="apidoc.element.mysql.HandshakeInitializationPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.HandshakeInitializationPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, this.protocolVersion);
  writer.writeNullTerminatedString(this.serverVersion);
  writer.writeUnsignedNumber(4, this.threadId);
  writer.writeBuffer(this.scrambleBuff1);
  writer.writeFiller(1);
  writer.writeUnsignedNumber(2, this.serverCapabilities1);
  writer.writeUnsignedNumber(1, this.serverLanguage);
  writer.writeUnsignedNumber(2, this.serverStatus);
  if (this.protocol41) {
    writer.writeUnsignedNumber(2, this.serverCapabilities2);
    writer.writeUnsignedNumber(1, this.scrambleLength);
    writer.writeFiller(10);
  }
  writer.writeNullTerminatedBuffer(this.scrambleBuff2);

  if (this.pluginData !== undefined) {
    writer.writeNullTerminatedString(this.pluginData);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.LocalDataFilePacket" id="apidoc.module.mysql.LocalDataFilePacket">module mysql.LocalDataFilePacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.LocalDataFilePacket.LocalDataFilePacket" id="apidoc.element.mysql.LocalDataFilePacket.LocalDataFilePacket">
        function <span class="apidocSignatureSpan">mysql.</span>LocalDataFilePacket
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LocalDataFilePacket(data) {
  this.data = data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

this.on('resume', function () {
  localStream.resume();
});

localStream.on('data', function (data) {
  self.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">LocalDataFilePacket</span>(data));
});

localStream.on('error', function (err) {
  self._loadError = err;
  localStream.emit('end');
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.LocalDataFilePacket.prototype" id="apidoc.module.mysql.LocalDataFilePacket.prototype">module mysql.LocalDataFilePacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.LocalDataFilePacket.prototype.write" id="apidoc.element.mysql.LocalDataFilePacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.LocalDataFilePacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeBuffer(this.data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.OkPacket" id="apidoc.module.mysql.OkPacket">module mysql.OkPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.OkPacket.OkPacket" id="apidoc.element.mysql.OkPacket.OkPacket">
        function <span class="apidocSignatureSpan">mysql.</span>OkPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OkPacket(options) {
  options = options || {};

  this.fieldCount   = undefined;
  this.affectedRows = undefined;
  this.insertId     = undefined;
  this.serverStatus = undefined;
  this.warningCount = undefined;
  this.message      = undefined;
  this.protocol41   = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.OkPacket.prototype" id="apidoc.module.mysql.OkPacket.prototype">module mysql.OkPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.OkPacket.prototype.parse" id="apidoc.element.mysql.OkPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.OkPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.fieldCount   = parser.parseUnsignedNumber(1);
  this.affectedRows = parser.parseLengthCodedNumber();
  this.insertId     = parser.parseLengthCodedNumber();
  if (this.protocol41) {
    this.serverStatus = parser.parseUnsignedNumber(2);
    this.warningCount = parser.parseUnsignedNumber(2);
  }
  this.message      = parser.parsePacketTerminatedString();
  this.changedRows  = 0;

  var m = ER_UPDATE_INFO_REGEXP.exec(this.message);
  if (m !== null) {
    this.changedRows = parseInt(m[1], 10);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.OkPacket.prototype.write" id="apidoc.element.mysql.OkPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.OkPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, 0x00);
  writer.writeLengthCodedNumber(this.affectedRows || 0);
  writer.writeLengthCodedNumber(this.insertId || 0);
  if (this.protocol41) {
    writer.writeUnsignedNumber(2, this.serverStatus || 0);
    writer.writeUnsignedNumber(2, this.warningCount || 0);
  }
  writer.writeString(this.message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.OldPasswordPacket" id="apidoc.module.mysql.OldPasswordPacket">module mysql.OldPasswordPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.OldPasswordPacket.OldPasswordPacket" id="apidoc.element.mysql.OldPasswordPacket.OldPasswordPacket">
        function <span class="apidocSignatureSpan">mysql.</span>OldPasswordPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OldPasswordPacket(options) {
  options = options || {};

  this.scrambleBuff = options.scrambleBuff;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  err.code = 'HANDSHAKE_INSECURE_AUTH';
  err.fatal = true;

  this.end(err);
  return;
}

this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">OldPasswordPacket</span>({
  scrambleBuff: Auth.scramble323(this._handshakeInitializationPacket.scrambleBuff(), this._config.password)
}));
};

Handshake.prototype['ErrorPacket'] = function(packet) {
var err = this._packetToError(packet, true);
err.fatal = true;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.OldPasswordPacket.prototype" id="apidoc.module.mysql.OldPasswordPacket.prototype">module mysql.OldPasswordPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.OldPasswordPacket.prototype.parse" id="apidoc.element.mysql.OldPasswordPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.OldPasswordPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.scrambleBuff = parser.parseNullTerminatedBuffer();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.OldPasswordPacket.prototype.write" id="apidoc.element.mysql.OldPasswordPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.OldPasswordPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeBuffer(this.scrambleBuff);
  writer.writeFiller(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PacketWriter" id="apidoc.module.mysql.PacketWriter">module mysql.PacketWriter</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.PacketWriter" id="apidoc.element.mysql.PacketWriter.PacketWriter">
        function <span class="apidocSignatureSpan">mysql.</span>PacketWriter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PacketWriter() {
  this._buffer = null;
  this._offset = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PacketWriter.prototype" id="apidoc.module.mysql.PacketWriter.prototype">module mysql.PacketWriter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype._allocate" id="apidoc.element.mysql.PacketWriter.prototype._allocate">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>_allocate
        <span class="apidocSignatureSpan">(bytes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _allocate(bytes) {
  if (!this._buffer) {
    this._buffer = Buffer.alloc(Math.max(BUFFER_ALLOC_SIZE, bytes));
    this._offset = 0;
    return;
  }

  var bytesRemaining = this._buffer.length - this._offset;
  if (bytesRemaining &gt;= bytes) {
    return;
  }

  var newSize   = this._buffer.length + Math.max(BUFFER_ALLOC_SIZE, bytes);
  var oldBuffer = this._buffer;

  this._buffer = Buffer.alloc(newSize);
  oldBuffer.copy(this._buffer);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.writeBuffer(buffer.slice(start, end));
  }

  return this._buffer;
};

PacketWriter.prototype.writeUnsignedNumber = function(bytes, value) {
  this.<span class="apidocCodeKeywordSpan">_allocate</span>(bytes);

  for (var i = 0; i &lt; bytes; i++) {
    this._buffer[this._offset++] = (value &gt;&gt; (i * 8)) &amp; 0xff;
  }
};

PacketWriter.prototype.writeFiller = function(bytes) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.toBuffer" id="apidoc.element.mysql.PacketWriter.prototype.toBuffer">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>toBuffer
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toBuffer(parser) {
  if (!this._buffer) {
    this._buffer = Buffer.alloc(0);
    this._offset = 0;
  }

  var buffer  = this._buffer;
  var length  = this._offset;
  var packets = Math.floor(length / MAX_PACKET_LENGTH) + 1;

  this._buffer = Buffer.allocUnsafe(length + packets * 4);
  this._offset = 0;

  for (var packet = 0; packet &lt; packets; packet++) {
    var isLast = (packet + 1 === packets);
    var packetLength = (isLast)
      ? length % MAX_PACKET_LENGTH
      : MAX_PACKET_LENGTH;

    var packetNumber = parser.incrementPacketNumber();

    this.writeUnsignedNumber(3, packetLength);
    this.writeUnsignedNumber(1, packetNumber);

    var start = packet * MAX_PACKET_LENGTH;
    var end   = start + packetLength;

    this.writeBuffer(buffer.slice(start, end));
  }

  return this._buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._debugPacket(true, packet);
  }
};

Protocol.prototype._emitPacket = function(packet) {
  var packetWriter = new PacketWriter();
  packet.write(packetWriter);
  this.emit('data', packetWriter.<span class="apidocCodeKeywordSpan">toBuffer</span>(this._parser));

  if (this._config.debug) {
    this._debugPacket(false, packet);
  }
};

Protocol.prototype._determinePacket = function(sequence) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeBuffer" id="apidoc.element.mysql.PacketWriter.prototype.writeBuffer">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeBuffer
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value) {
  var bytes = value.length;

  this._allocate(bytes);
  value.copy(this._buffer, this._offset);
  this._offset += bytes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this.writeUnsignedNumber(3, packetLength);
  this.writeUnsignedNumber(1, packetNumber);

  var start = packet * MAX_PACKET_LENGTH;
  var end   = start + packetLength;

  this.<span class="apidocCodeKeywordSpan">writeBuffer</span>(buffer.slice(start, end));
}

return this._buffer;
};

PacketWriter.prototype.writeUnsignedNumber = function(bytes, value) {
this._allocate(bytes);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeFiller" id="apidoc.element.mysql.PacketWriter.prototype.writeFiller">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeFiller
        <span class="apidocSignatureSpan">(bytes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(bytes) {
  this._allocate(bytes);

  for (var i = 0; i &lt; bytes; i++) {
    this._buffer[this._offset++] = 0x00;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var bytes = value.length;
this.writeLengthCodedNumber(bytes);
this.writeBuffer(value);
};

PacketWriter.prototype.writeNullTerminatedBuffer = function(value) {
this.writeBuffer(value);
this.<span class="apidocCodeKeywordSpan">writeFiller</span>(1); // 0x00 terminator
};

PacketWriter.prototype.writeLengthCodedString = function(value) {
if (value === null) {
  this.writeLengthCodedNumber(null);
  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedBuffer" id="apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedBuffer">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeLengthCodedBuffer
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value) {
  var bytes = value.length;
  this.writeLengthCodedNumber(bytes);
  this.writeBuffer(value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ClientAuthenticationPacket.prototype.write = function(writer) {
if (this.protocol41) {
  writer.writeUnsignedNumber(4, this.clientFlags);
  writer.writeUnsignedNumber(4, this.maxPacketSize);
  writer.writeUnsignedNumber(1, this.charsetNumber);
  writer.writeFiller(23);
  writer.writeNullTerminatedString(this.user);
  writer.<span class="apidocCodeKeywordSpan">writeLengthCodedBuffer</span>(this.scrambleBuff);
  writer.writeNullTerminatedString(this.database);
} else {
  writer.writeUnsignedNumber(2, this.clientFlags);
  writer.writeUnsignedNumber(3, this.maxPacketSize);
  writer.writeNullTerminatedString(this.user);
  writer.writeBuffer(this.scrambleBuff);
  if (this.database &amp;&amp; this.database.length) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedNumber" id="apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedNumber">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeLengthCodedNumber
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value) {
  if (value === null) {
    this._allocate(1);
    this._buffer[this._offset++] = 251;
    return;
  }

  if (value &lt;= 250) {
    this._allocate(1);
    this._buffer[this._offset++] = value;
    return;
  }

  if (value &gt; IEEE_754_BINARY_64_PRECISION) {
    throw new Error(
      'writeLengthCodedNumber: JS precision range exceeded, your ' +
      'number is &gt; 53 bit: "' + value + '"'
    );
  }

  if (value &lt; BIT_16) {
    this._allocate(3);
    this._buffer[this._offset++] = 252;
  } else if (value &lt; BIT_24) {
    this._allocate(4);
    this._buffer[this._offset++] = 253;
  } else {
    this._allocate(9);
    this._buffer[this._offset++] = 254;
  }

  // 16 Bit
  this._buffer[this._offset++] = value &amp; 0xff;
  this._buffer[this._offset++] = (value &gt;&gt; 8) &amp; 0xff;

  if (value &lt; BIT_16) {
    return;
  }

  // 24 Bit
  this._buffer[this._offset++] = (value &gt;&gt; 16) &amp; 0xff;

  if (value &lt; BIT_24) {
    return;
  }

  this._buffer[this._offset++] = (value &gt;&gt; 24) &amp; 0xff;

  // Hack: Get the most significant 32 bit (JS bitwise operators are 32 bit)
  value = value.toString(2);
  value = value.substr(0, value.length - 32);
  value = parseInt(value, 2);

  this._buffer[this._offset++] = value &amp; 0xff;
  this._buffer[this._offset++] = (value &gt;&gt; 8) &amp; 0xff;
  this._buffer[this._offset++] = (value &gt;&gt; 16) &amp; 0xff;

  // Set last byte to 0, as we can only support 53 bits in JS (see above)
  this._buffer[this._offset++] = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // Set last byte to 0, as we can only support 53 bits in JS (see above)
  this._buffer[this._offset++] = 0;
};

PacketWriter.prototype.writeLengthCodedBuffer = function(value) {
  var bytes = value.length;
  this.<span class="apidocCodeKeywordSpan">writeLengthCodedNumber</span>(bytes);
  this.writeBuffer(value);
};

PacketWriter.prototype.writeNullTerminatedBuffer = function(value) {
  this.writeBuffer(value);
  this.writeFiller(1); // 0x00 terminator
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedString" id="apidoc.element.mysql.PacketWriter.prototype.writeLengthCodedString">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeLengthCodedString
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value) {
  if (value === null) {
    this.writeLengthCodedNumber(null);
    return;
  }

  value = (value === undefined)
    ? ''
    : String(value);

  var bytes = Buffer.byteLength(value, 'utf-8');
  this.writeLengthCodedNumber(bytes);

  if (!bytes) {
    return;
  }

  this._allocate(bytes);
  this._buffer.write(value, this._offset, 'utf-8');
  this._offset += bytes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.length      = parser.parseUnsignedNumber(parser.parseUnsignedNumber(1));
this.type        = parser.parseUnsignedNumber(parser.parseUnsignedNumber(1));
  }
};

FieldPacket.prototype.write = function(writer) {
  if (this.protocol41) {
writer.<span class="apidocCodeKeywordSpan">writeLengthCodedString</span>(this.catalog);
writer.writeLengthCodedString(this.db);
writer.writeLengthCodedString(this.table);
writer.writeLengthCodedString(this.orgTable);
writer.writeLengthCodedString(this.name);
writer.writeLengthCodedString(this.orgName);

writer.writeLengthCodedNumber(0x0c);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeNullTerminatedBuffer" id="apidoc.element.mysql.PacketWriter.prototype.writeNullTerminatedBuffer">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeNullTerminatedBuffer
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value) {
  this.writeBuffer(value);
  this.writeFiller(1); // 0x00 terminator
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  writer.writeUnsignedNumber(1, this.serverLanguage);
  writer.writeUnsignedNumber(2, this.serverStatus);
  if (this.protocol41) {
    writer.writeUnsignedNumber(2, this.serverCapabilities2);
    writer.writeUnsignedNumber(1, this.scrambleLength);
    writer.writeFiller(10);
  }
  writer.<span class="apidocCodeKeywordSpan">writeNullTerminatedBuffer</span>(this.scrambleBuff2);

  if (this.pluginData !== undefined) {
    writer.writeNullTerminatedString(this.pluginData);
  }
};

HandshakeInitializationPacket.prototype.scrambleBuff = function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeNullTerminatedString" id="apidoc.element.mysql.PacketWriter.prototype.writeNullTerminatedString">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeNullTerminatedString
        <span class="apidocSignatureSpan">(value, encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value, encoding) {
  // Typecast undefined into '' and numbers into strings
  value = value || '';
  value = value + '';

  var bytes = Buffer.byteLength(value, encoding || 'utf-8') + 1;
  this._allocate(bytes);

  this._buffer.write(value, this._offset, encoding);
  this._buffer[this._offset + bytes - 1] = 0x00;

  this._offset += bytes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.status         = parser.parseUnsignedNumber(1);
  this.authMethodName = parser.parseNullTerminatedString();
  this.authMethodData = parser.parsePacketTerminatedBuffer();
};

AuthSwitchRequestPacket.prototype.write = function write(writer) {
  writer.writeUnsignedNumber(1, this.status);
  writer.<span class="apidocCodeKeywordSpan">writeNullTerminatedString</span>(this.authMethodName);
  writer.writeBuffer(this.authMethodData);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeString" id="apidoc.element.mysql.PacketWriter.prototype.writeString">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeString
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value) {
  // Typecast undefined into '' and numbers into strings
  value = value || '';
  value = value + '';

  var bytes = Buffer.byteLength(value, 'utf-8');
  this._allocate(bytes);

  this._buffer.write(value, this._offset, 'utf-8');

  this._offset += bytes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function ComQueryPacket(sql) {
  this.command = 0x03;
  this.sql     = sql;
}

ComQueryPacket.prototype.write = function(writer) {
  writer.writeUnsignedNumber(1, this.command);
  writer.<span class="apidocCodeKeywordSpan">writeString</span>(this.sql);
};

ComQueryPacket.prototype.parse = function(parser) {
  this.command = parser.parseUnsignedNumber(1);
  this.sql     = parser.parsePacketTerminatedString();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PacketWriter.prototype.writeUnsignedNumber" id="apidoc.element.mysql.PacketWriter.prototype.writeUnsignedNumber">
        function <span class="apidocSignatureSpan">mysql.PacketWriter.prototype.</span>writeUnsignedNumber
        <span class="apidocSignatureSpan">(bytes, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(bytes, value) {
  this._allocate(bytes);

  for (var i = 0; i &lt; bytes; i++) {
    this._buffer[this._offset++] = (value &gt;&gt; (i * 8)) &amp; 0xff;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var isLast = (packet + 1 === packets);
  var packetLength = (isLast)
    ? length % MAX_PACKET_LENGTH
    : MAX_PACKET_LENGTH;

  var packetNumber = parser.incrementPacketNumber();

  this.<span class="apidocCodeKeywordSpan">writeUnsignedNumber</span>(3, packetLength);
  this.writeUnsignedNumber(1, packetNumber);

  var start = packet * MAX_PACKET_LENGTH;
  var end   = start + packetLength;

  this.writeBuffer(buffer.slice(start, end));
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Parser" id="apidoc.module.mysql.Parser">module mysql.Parser</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Parser.Parser" id="apidoc.element.mysql.Parser.Parser">
        function <span class="apidocSignatureSpan">mysql.</span>Parser
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(options) {
  options = options || {};

  this._supportBigNumbers = options.config &amp;&amp; options.config.supportBigNumbers;
  this._buffer            = Buffer.alloc(0);
  this._nextBuffers       = new BufferList();
  this._longPacketBuffers = new BufferList();
  this._offset            = 0;
  this._packetEnd         = null;
  this._packetHeader      = null;
  this._packetOffset      = null;
  this._onError           = options.onError || function(err) { throw err; };
  this._onPacket          = options.onPacket || function() {};
  this._nextPacketNumber  = 0;
  this._encoding          = 'utf-8';
  this._paused            = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Parser.prototype" id="apidoc.module.mysql.Parser.prototype">module mysql.Parser.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype._advanceToNextPacket" id="apidoc.element.mysql.Parser.prototype._advanceToNextPacket">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>_advanceToNextPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._offset       = this._packetEnd;
  this._packetHeader = null;
  this._packetEnd    = null;
  this._packetOffset = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this._packetEnd    = this._offset + this._packetHeader.length;
this._packetOffset = this._offset;

if (this._packetHeader.length === MAX_PACKET_LENGTH) {
  this._longPacketBuffers.push(this._buffer.slice(this._packetOffset, this._packetEnd));

  this.<span class="apidocCodeKeywordSpan">_advanceToNextPacket</span>();
  continue;
}

this._combineLongPacketBuffers();

// Try...finally to ensure exception safety. Unfortunately this is costing
// us up to ~10% performance in some benchmarks.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype._combineLongPacketBuffers" id="apidoc.element.mysql.Parser.prototype._combineLongPacketBuffers">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>_combineLongPacketBuffers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _combineLongPacketBuffers() {
  if (!this._longPacketBuffers.size) {
    return;
  }

  // Calculate bytes
  var remainingBytes      = this._buffer.length - this._offset;
  var trailingPacketBytes = this._buffer.length - this._packetEnd;

  // Create buffer
  var buf    = null;
  var buffer = Buffer.allocUnsafe(remainingBytes + this._longPacketBuffers.size);
  var offset = 0;

  // Copy long buffers
  while ((buf = this._longPacketBuffers.shift())) {
    offset += buf.copy(buffer, offset);
  }

  // Copy remaining bytes
  this._buffer.copy(buffer, offset, this._offset);

  this._buffer       = buffer;
  this._offset       = 0;
  this._packetEnd    = this._buffer.length - trailingPacketBytes;
  this._packetOffset = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (this._packetHeader.length === MAX_PACKET_LENGTH) {
  this._longPacketBuffers.push(this._buffer.slice(this._packetOffset, this._packetEnd));

  this._advanceToNextPacket();
  continue;
}

this.<span class="apidocCodeKeywordSpan">_combineLongPacketBuffers</span>();

// Try...finally to ensure exception safety. Unfortunately this is costing
// us up to ~10% performance in some benchmarks.
var hadException = true;
try {
  this._onPacket(this._packetHeader);
  hadException = false;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype._combineNextBuffers" id="apidoc.element.mysql.Parser.prototype._combineNextBuffers">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>_combineNextBuffers
        <span class="apidocSignatureSpan">(bytes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _combineNextBuffers(bytes) {
  var length = this._buffer.length - this._offset;

  if (length &gt;= bytes) {
    return true;
  }

  if ((length + this._nextBuffers.size) &lt; bytes) {
    return false;
  }

  var buffers     = [];
  var bytesNeeded = bytes - length;

  while (bytesNeeded &gt; 0) {
    var buffer = this._nextBuffers.shift();
    buffers.push(buffer);
    bytesNeeded -= buffer.length;
  }

  this.append(buffers);
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

Parser.prototype.write = function write(chunk) {
  this._nextBuffers.push(chunk);

  while (!this._paused) {
    if (!this._packetHeader) {
if (!this.<span class="apidocCodeKeywordSpan">_combineNextBuffers</span>(4)) {
  break;
}

this._packetHeader = new PacketHeader(
  this.parseUnsignedNumber(3),
  this.parseUnsignedNumber(1)
);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype._nullByteOffset" id="apidoc.element.mysql.Parser.prototype._nullByteOffset">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>_nullByteOffset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var offset = this._offset;

  while (this._buffer[offset] !== 0x00) {
    offset++;

    if (offset &gt;= this._buffer.length) {
      var err    = new Error('Offset of null terminated string not found.');
      err.offset = (this._offset - this._packetOffset);
      err.code   = 'PARSER_MISSING_NULL_BYTE';
      throw err;
    }
  }

  return offset;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Parser.prototype.parseFiller = function(length) {
  return this.parseBuffer(length);
};

Parser.prototype.parseNullTerminatedBuffer = function() {
  var end      = this.<span class="apidocCodeKeywordSpan">_nullByteOffset</span>();
  var value    = this._buffer.slice(this._offset, end);
  this._offset = end + 1;

  return value;
};

Parser.prototype.parseNullTerminatedString = function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.append" id="apidoc.element.mysql.Parser.prototype.append">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>append
        <span class="apidocSignatureSpan">(chunk)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function append(chunk) {
  if (!chunk || chunk.length === 0) {
    return;
  }

  // Calculate slice ranges
  var sliceEnd    = this._buffer.length;
  var sliceStart  = this._packetOffset === null
    ? this._offset
    : this._packetOffset;
  var sliceLength = sliceEnd - sliceStart;

  // Get chunk data
  var buffer = null;
  var chunks = !(chunk instanceof Array || Array.isArray(chunk)) ? [chunk] : chunk;
  var length = 0;
  var offset = 0;

  for (var i = 0; i &lt; chunks.length; i++) {
    length += chunks[i].length;
  }

  if (sliceLength !== 0) {
    // Create a new Buffer
    buffer = Buffer.allocUnsafe(sliceLength + length);
    offset = 0;

    // Copy data slice
    offset += this._buffer.copy(buffer, 0, sliceStart, sliceEnd);

    // Copy chunks
    for (var i = 0; i &lt; chunks.length; i++) {
      offset += chunks[i].copy(buffer, offset);
    }
  } else if (chunks.length &gt; 1) {
    // Create a new Buffer
    buffer = Buffer.allocUnsafe(length);
    offset = 0;

    // Copy chunks
    for (var i = 0; i &lt; chunks.length; i++) {
      offset += chunks[i].copy(buffer, offset);
    }
  } else {
    // Buffer is the only chunk
    buffer = chunks[0];
  }

  // Adjust data-tracking pointers
  this._buffer       = buffer;
  this._offset       = this._offset - sliceStart;
  this._packetEnd    = this._packetEnd !== null
    ? this._packetEnd - sliceStart
    : null;
  this._packetOffset = this._packetOffset !== null
    ? this._packetOffset - sliceStart
    : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

while (bytesNeeded &gt; 0) {
  var buffer = this._nextBuffers.shift();
  buffers.push(buffer);
  bytesNeeded -= buffer.length;
}

this.<span class="apidocCodeKeywordSpan">append</span>(buffers);
return true;
};

Parser.prototype._combineLongPacketBuffers = function _combineLongPacketBuffers() {
if (!this._longPacketBuffers.size) {
  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.incrementPacketNumber" id="apidoc.element.mysql.Parser.prototype.incrementPacketNumber">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>incrementPacketNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var currentPacketNumber = this._nextPacketNumber;
  this._nextPacketNumber = (this._nextPacketNumber + 1) % 256;

  return currentPacketNumber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  for (var packet = 0; packet &lt; packets; packet++) {
var isLast = (packet + 1 === packets);
var packetLength = (isLast)
  ? length % MAX_PACKET_LENGTH
  : MAX_PACKET_LENGTH;

var packetNumber = parser.<span class="apidocCodeKeywordSpan">incrementPacketNumber</span>();

this.writeUnsignedNumber(3, packetLength);
this.writeUnsignedNumber(1, packetNumber);

var start = packet * MAX_PACKET_LENGTH;
var end   = start + packetLength;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.packetLength" id="apidoc.element.mysql.Parser.prototype.packetLength">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>packetLength
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function packetLength() {
  if (!this._packetHeader) {
    return null;
  }

  return this._packetHeader.length + this._longPacketBuffers.size;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  if (!this._handshakeInitializationPacket) {
    return Packets.HandshakeInitializationPacket;
  }

  if (firstByte === 0xfe) {
    return (parser.<span class="apidocCodeKeywordSpan">packetLength</span>() === 1)
      ? Packets.UseOldPasswordPacket
      : Packets.AuthSwitchRequestPacket;
  }

  return undefined;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseBuffer" id="apidoc.element.mysql.Parser.prototype.parseBuffer">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseBuffer
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(length) {
  var response = Buffer.alloc(length);
  this._buffer.copy(response, 0, this._offset, this._offset + length);

  this._offset += length;
  return response;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype.parseLengthCodedBuffer = function() {
var length = this.parseLengthCodedNumber();

if (length === null) {
  return null;
}

return this.<span class="apidocCodeKeywordSpan">parseBuffer</span>(length);
};

Parser.prototype.parseLengthCodedNumber = function parseLengthCodedNumber() {
if (this._offset &gt;= this._buffer.length) {
  var err    = new Error('Parser: read past end');
  err.offset = (this._offset - this._packetOffset);
  err.code   = 'PARSER_READ_PAST_END';
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseFiller" id="apidoc.element.mysql.Parser.prototype.parseFiller">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseFiller
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(length) {
  return this.parseBuffer(length);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

ClientAuthenticationPacket.prototype.parse = function(parser) {
if (this.protocol41) {
  this.clientFlags   = parser.parseUnsignedNumber(4);
  this.maxPacketSize = parser.parseUnsignedNumber(4);
  this.charsetNumber = parser.parseUnsignedNumber(1);
  this.filler        = parser.<span class="apidocCodeKeywordSpan">parseFiller</span>(23);
  this.user          = parser.parseNullTerminatedString();
  this.scrambleBuff  = parser.parseLengthCodedBuffer();
  this.database      = parser.parseNullTerminatedString();
} else {
  this.clientFlags   = parser.parseUnsignedNumber(2);
  this.maxPacketSize = parser.parseUnsignedNumber(3);
  this.user          = parser.parseNullTerminatedString();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseGeometryValue" id="apidoc.element.mysql.Parser.prototype.parseGeometryValue">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseGeometryValue
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var buffer = this.parseLengthCodedBuffer();
  var offset = 4;

  if (buffer === null || !buffer.length) {
    return null;
  }

  function parseGeometry() {
    var result = null;
    var byteOrder = buffer.readUInt8(offset); offset += 1;
    var wkbType = byteOrder ? buffer.readUInt32LE(offset) : buffer.readUInt32BE(offset); offset += 4;
    switch (wkbType) {
      case 1: // WKBPoint
        var x = byteOrder ? buffer.readDoubleLE(offset) : buffer.readDoubleBE(offset); offset += 8;
        var y = byteOrder ? buffer.readDoubleLE(offset) : buffer.readDoubleBE(offset); offset += 8;
        result = {x: x, y: y};
        break;
      case 2: // WKBLineString
        var numPoints = byteOrder ? buffer.readUInt32LE(offset) : buffer.readUInt32BE(offset); offset += 4;
        result = [];
        for (var i = numPoints; i &gt; 0; i--) {
          var x = byteOrder ? buffer.readDoubleLE(offset) : buffer.readDoubleBE(offset); offset += 8;
          var y = byteOrder ? buffer.readDoubleLE(offset) : buffer.readDoubleBE(offset); offset += 8;
          result.push({x: x, y: y});
        }
        break;
      case 3: // WKBPolygon
        var numRings = byteOrder ? buffer.readUInt32LE(offset) : buffer.readUInt32BE(offset); offset += 4;
        result = [];
        for (var i = numRings; i &gt; 0; i--) {
          var numPoints = byteOrder ? buffer.readUInt32LE(offset) : buffer.readUInt32BE(offset); offset += 4;
          var line = [];
          for (var j = numPoints; j &gt; 0; j--) {
            var x = byteOrder ? buffer.readDoubleLE(offset) : buffer.readDoubleBE(offset); offset += 8;
            var y = byteOrder ? buffer.readDoubleLE(offset) : buffer.readDoubleBE(offset); offset += 8;
            line.push({x: x, y: y});
          }
          result.push(line);
        }
        break;
      case 4: // WKBMultiPoint
      case 5: // WKBMultiLineString
      case 6: // WKBMultiPolygon
      case 7: // WKBGeometryCollection
        var num = byteOrder ? buffer.readUInt32LE(offset) : buffer.readUInt32BE(offset); offset += 4;
        var result = [];
        for (var i = num; i &gt; 0; i--) {
          result.push(parseGeometry());
        }
        break;
    }
    return result;
  }
  return parseGeometry();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
field.buffer()
field.geometry()
```
are aliases for
```
parser.parseLengthCodedString()
parser.parseLengthCodedBuffer()
parser.<span class="apidocCodeKeywordSpan">parseGeometryValue</span>()
```
__You can find which field function you need to use by looking at: [RowDataPacket.prototype._typeCast](https://github.com/mysqljs
/mysql/blob/master/lib/protocol/packets/RowDataPacket.js#L41)__


## Connection Flags

If, for any reason, you would like to change the default connection flags, you
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseLengthCodedBuffer" id="apidoc.element.mysql.Parser.prototype.parseLengthCodedBuffer">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseLengthCodedBuffer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var length = this.parseLengthCodedNumber();

  if (length === null) {
    return null;
  }

  return this.parseBuffer(length);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
field.string()
field.buffer()
field.geometry()
```
are aliases for
```
parser.parseLengthCodedString()
parser.<span class="apidocCodeKeywordSpan">parseLengthCodedBuffer</span>()
parser.parseGeometryValue()
```
__You can find which field function you need to use by looking at: [RowDataPacket.prototype._typeCast](https://github.com/mysqljs
/mysql/blob/master/lib/protocol/packets/RowDataPacket.js#L41)__


## Connection Flags
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseLengthCodedNumber" id="apidoc.element.mysql.Parser.prototype.parseLengthCodedNumber">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseLengthCodedNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseLengthCodedNumber() {
  if (this._offset &gt;= this._buffer.length) {
    var err    = new Error('Parser: read past end');
    err.offset = (this._offset - this._packetOffset);
    err.code   = 'PARSER_READ_PAST_END';
    throw err;
  }

  var bits = this._buffer[this._offset++];

  if (bits &lt;= 250) {
    return bits;
  }

  switch (bits) {
    case 251:
      return null;
    case 252:
      return this.parseUnsignedNumber(2);
    case 253:
      return this.parseUnsignedNumber(3);
    case 254:
      break;
    default:
      var err    = new Error('Unexpected first byte' + (bits ? ': 0x' + bits.toString(16) : ''));
      err.offset = (this._offset - this._packetOffset - 1);
      err.code   = 'PARSER_BAD_LENGTH_BYTE';
      throw err;
  }

  var low = this.parseUnsignedNumber(4);
  var high = this.parseUnsignedNumber(4);
  var value;

  if (high &gt;&gt;&gt; 21) {
    value = (new BigNumber(low)).plus((new BigNumber(MUL_32BIT)).times(high)).toString();

    if (this._supportBigNumbers) {
      return value;
    }

    var err    = new Error(
      'parseLengthCodedNumber: JS precision range exceeded, ' +
      'number is &gt;= 53 bit: "' + value + '"'
    );
    err.offset = (this._offset - this._packetOffset - 8);
    err.code   = 'PARSER_JS_PRECISION_RANGE_EXCEEDED';
    throw err;
  }

  value = low + (MUL_32BIT * high);

  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this._offset += bytes;

  return value;
};

Parser.prototype.parseLengthCodedString = function() {
  var length = this.<span class="apidocCodeKeywordSpan">parseLengthCodedNumber</span>();

  if (length === null) {
    return null;
  }

  return this.parseString(length);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseLengthCodedString" id="apidoc.element.mysql.Parser.prototype.parseLengthCodedString">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseLengthCodedString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var length = this.parseLengthCodedNumber();

  if (length === null) {
    return null;
  }

  return this.parseString(length);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```
field.string()
field.buffer()
field.geometry()
```
are aliases for
```
parser.<span class="apidocCodeKeywordSpan">parseLengthCodedString</span>()
parser.parseLengthCodedBuffer()
parser.parseGeometryValue()
```
__You can find which field function you need to use by looking at: [RowDataPacket.prototype._typeCast](https://github.com/mysqljs
/mysql/blob/master/lib/protocol/packets/RowDataPacket.js#L41)__


## Connection Flags
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseNullTerminatedBuffer" id="apidoc.element.mysql.Parser.prototype.parseNullTerminatedBuffer">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseNullTerminatedBuffer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var end      = this._nullByteOffset();
  var value    = this._buffer.slice(this._offset, end);
  this._offset = end + 1;

  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function OldPasswordPacket(options) {
  options = options || {};

  this.scrambleBuff = options.scrambleBuff;
}

OldPasswordPacket.prototype.parse = function(parser) {
  this.scrambleBuff = parser.<span class="apidocCodeKeywordSpan">parseNullTerminatedBuffer</span>();
};

OldPasswordPacket.prototype.write = function(writer) {
  writer.writeBuffer(this.scrambleBuff);
  writer.writeFiller(1);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseNullTerminatedString" id="apidoc.element.mysql.Parser.prototype.parseNullTerminatedString">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseNullTerminatedString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var end      = this._nullByteOffset();
  var value    = this._buffer.toString(this._encoding, this._offset, end);
  this._offset = end + 1;

  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.status         = 0xfe;
this.authMethodName = options.authMethodName;
this.authMethodData = options.authMethodData;
}

AuthSwitchRequestPacket.prototype.parse = function parse(parser) {
this.status         = parser.parseUnsignedNumber(1);
this.authMethodName = parser.<span class="apidocCodeKeywordSpan">parseNullTerminatedString</span>();
this.authMethodData = parser.parsePacketTerminatedBuffer();
};

AuthSwitchRequestPacket.prototype.write = function write(writer) {
writer.writeUnsignedNumber(1, this.status);
writer.writeNullTerminatedString(this.authMethodName);
writer.writeBuffer(this.authMethodData);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parsePacketTerminatedBuffer" id="apidoc.element.mysql.Parser.prototype.parsePacketTerminatedBuffer">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parsePacketTerminatedBuffer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parsePacketTerminatedBuffer() {
  var length = this._packetEnd - this._offset;
  return this.parseBuffer(length);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.authMethodName = options.authMethodName;
  this.authMethodData = options.authMethodData;
}

AuthSwitchRequestPacket.prototype.parse = function parse(parser) {
  this.status         = parser.parseUnsignedNumber(1);
  this.authMethodName = parser.parseNullTerminatedString();
  this.authMethodData = parser.<span class="apidocCodeKeywordSpan">parsePacketTerminatedBuffer</span>();
};

AuthSwitchRequestPacket.prototype.write = function write(writer) {
  writer.writeUnsignedNumber(1, this.status);
  writer.writeNullTerminatedString(this.authMethodName);
  writer.writeBuffer(this.authMethodData);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parsePacketTerminatedString" id="apidoc.element.mysql.Parser.prototype.parsePacketTerminatedString">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parsePacketTerminatedString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var length = this._packetEnd - this._offset;
  return this.parseString(length);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
ComQueryPacket.prototype.write = function(writer) {
  writer.writeUnsignedNumber(1, this.command);
  writer.writeString(this.sql);
};

ComQueryPacket.prototype.parse = function(parser) {
  this.command = parser.parseUnsignedNumber(1);
  this.sql     = parser.<span class="apidocCodeKeywordSpan">parsePacketTerminatedString</span>();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseString" id="apidoc.element.mysql.Parser.prototype.parseString">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseString
        <span class="apidocSignatureSpan">(length)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(length) {
  var offset = this._offset;
  var end = offset + length;
  var value = this._buffer.toString(this._encoding, offset, end);

  this._offset = end;
  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Parser.prototype.parseLengthCodedString = function() {
var length = this.parseLengthCodedNumber();

if (length === null) {
  return null;
}

return this.<span class="apidocCodeKeywordSpan">parseString</span>(length);
};

Parser.prototype.parseLengthCodedBuffer = function() {
var length = this.parseLengthCodedNumber();

if (length === null) {
  return null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.parseUnsignedNumber" id="apidoc.element.mysql.Parser.prototype.parseUnsignedNumber">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>parseUnsignedNumber
        <span class="apidocSignatureSpan">(bytes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseUnsignedNumber(bytes) {
  if (bytes === 1) {
    return this._buffer[this._offset++];
  }

  var buffer = this._buffer;
  var offset = this._offset + bytes - 1;
  var value  = 0;

  if (bytes &gt; 4) {
    var err    = new Error('parseUnsignedNumber: Supports only up to 4 bytes');
    err.offset = (this._offset - this._packetOffset - 1);
    err.code   = 'PARSER_UNSIGNED_TOO_LONG';
    throw err;
  }

  while (offset &gt;= this._offset) {
    value = ((value &lt;&lt; 8) | buffer[offset]) &gt;&gt;&gt; 0;
    offset--;
  }

  this._offset += bytes;

  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  while (!this._paused) {
    if (!this._packetHeader) {
if (!this._combineNextBuffers(4)) {
  break;
}

this._packetHeader = new PacketHeader(
  this.<span class="apidocCodeKeywordSpan">parseUnsignedNumber</span>(3),
  this.parseUnsignedNumber(1)
);

if (this._packetHeader.number !== this._nextPacketNumber) {
  var err = new Error(
    'Packets out of order. Got: ' + this._packetHeader.number + ' ' +
    'Expected: ' + this._nextPacketNumber
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.pause" id="apidoc.element.mysql.Parser.prototype.pause">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>pause
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._paused = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Handle error, an 'end' event will be emitted after this as well
})
.on('fields', function(fields) {
  // the field packets for the rows to follow
})
.on('result', function(row) {
  // Pausing the connnection is useful if your processing involves I/O
  connection.<span class="apidocCodeKeywordSpan">pause</span>();

  processRow(row, function() {
    connection.resume();
  });
})
.on('end', function() {
  // all rows have been received
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.peak" id="apidoc.element.mysql.Parser.prototype.peak">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>peak
        <span class="apidocSignatureSpan">(offset)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function peak(offset) {
  return this._buffer[this._offset + (offset &gt;&gt;&gt; 0)];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (this._config.debug) {
  this._debugPacket(false, packet);
}
};

Protocol.prototype._determinePacket = function(sequence) {
var firstByte = this._parser.<span class="apidocCodeKeywordSpan">peak</span>();

if (sequence.determinePacket) {
  var Packet = sequence.determinePacket(firstByte, this._parser);
  if (Packet) {
    return Packet;
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.reachedPacketEnd" id="apidoc.element.mysql.Parser.prototype.reachedPacketEnd">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>reachedPacketEnd
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  return this._offset === this._packetEnd;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    err.code = 'PARSER_INVALID_FILLER';
    throw err;
  }

  // parsed flags
  this.zeroFill    = (this.flags &amp; 0x0040 ? true : false);

  if (parser.<span class="apidocCodeKeywordSpan">reachedPacketEnd</span>()) {
    return;
  }

  this.default     = parser.parseLengthCodedString();
} else {
  this.table       = parser.parseLengthCodedString();
  this.name        = parser.parseLengthCodedString();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.resetPacketNumber" id="apidoc.element.mysql.Parser.prototype.resetPacketNumber">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>resetPacketNumber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._nextPacketNumber = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

        sequence._timer.active();
        sequence._tlsUpgradeCompleteHandler();
      });
    });

  if (this._queue.length === 1) {
    this._parser.<span class="apidocCodeKeywordSpan">resetPacketNumber</span>();
    this._startSequence(sequence);
  }

  return sequence;
};

Protocol.prototype._validateEnqueue = function _validateEnqueue(sequence) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.resume" id="apidoc.element.mysql.Parser.prototype.resume">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>resume
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._paused = false;

  // nextTick() to avoid entering write() multiple times within the same stack
  // which would cause problems as write manipulates the state of the object.
  process.nextTick(this.write.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // the field packets for the rows to follow
  })
  .on('result', function(row) {
    // Pausing the connnection is useful if your processing involves I/O
    connection.pause();

    processRow(row, function() {
      connection.<span class="apidocCodeKeywordSpan">resume</span>();
    });
  })
  .on('end', function() {
    // all rows have been received
  });
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Parser.prototype.write" id="apidoc.element.mysql.Parser.prototype.write">
        function <span class="apidocSignatureSpan">mysql.Parser.prototype.</span>write
        <span class="apidocSignatureSpan">(chunk)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function write(chunk) {
  this._nextBuffers.push(chunk);

  while (!this._paused) {
    if (!this._packetHeader) {
      if (!this._combineNextBuffers(4)) {
        break;
      }

      this._packetHeader = new PacketHeader(
        this.parseUnsignedNumber(3),
        this.parseUnsignedNumber(1)
      );

      if (this._packetHeader.number !== this._nextPacketNumber) {
        var err = new Error(
          'Packets out of order. Got: ' + this._packetHeader.number + ' ' +
          'Expected: ' + this._nextPacketNumber
        );

        err.code  = 'PROTOCOL_PACKETS_OUT_OF_ORDER';
        err.fatal = true;

        this._onError(err);
      }

      this.incrementPacketNumber();
    }

    if (!this._combineNextBuffers(this._packetHeader.length)) {
      break;
    }

    this._packetEnd    = this._offset + this._packetHeader.length;
    this._packetOffset = this._offset;

    if (this._packetHeader.length === MAX_PACKET_LENGTH) {
      this._longPacketBuffers.push(this._buffer.slice(this._packetOffset, this._packetEnd));

      this._advanceToNextPacket();
      continue;
    }

    this._combineLongPacketBuffers();

    // Try...finally to ensure exception safety. Unfortunately this is costing
    // us up to ~10% performance in some benchmarks.
    var hadException = true;
    try {
      this._onPacket(this._packetHeader);
      hadException = false;
    } catch (err) {
      if (!err || typeof err.code !== 'string' || err.code.substr(0, 7) !== 'PARSER_') {
        throw err; // Rethrow non-MySQL errors
      }

      // Pass down parser errors
      this._onError(err);
      hadException = false;
    } finally {
      this._advanceToNextPacket();

      // If we had an exception, the parser while loop will be broken out
      // of after the finally block. So we need to make sure to re-enter it
      // to continue parsing any bytes that may already have been received.
      if (hadException) {
        process.nextTick(this.write.bind(this));
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Ping" id="apidoc.module.mysql.Ping">module mysql.Ping</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Ping.Ping" id="apidoc.element.mysql.Ping.Ping">
        function <span class="apidocSignatureSpan">mysql.</span>Ping
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Ping(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  Sequence.call(this, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Protocol.prototype.ping = function ping(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}

return this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Ping</span>(options, callback));
};

Protocol.prototype.stats = function stats(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Ping.super_" id="apidoc.element.mysql.Ping.super_">
        function <span class="apidocSignatureSpan">mysql.Ping.</span>super_
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Sequence(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  EventEmitter.call(this);

  options = options || {};

  this._callback = callback;
  this._callSite = null;
  this._ended    = false;
  this._timeout  = options.timeout;
  this._timer    = new Timer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Ping.prototype" id="apidoc.module.mysql.Ping.prototype">module mysql.Ping.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Ping.prototype.start" id="apidoc.element.mysql.Ping.prototype.start">
        function <span class="apidocSignatureSpan">mysql.Ping.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this.emit('packet', new Packets.ComPingPacket());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._parser.resetPacketNumber();

this._startSequence(sequence);
};

Protocol.prototype._startSequence = function(sequence) {
if (sequence._timeout &gt; 0 &amp;&amp; isFinite(sequence._timeout)) {
  sequence._timer.<span class="apidocCodeKeywordSpan">start</span>(sequence._timeout);
}

if (sequence.constructor === Sequences.ChangeUser) {
  sequence.start(this._handshakeInitializationPacket);
} else {
  sequence.start();
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Pool" id="apidoc.module.mysql.Pool">module mysql.Pool</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Pool.Pool" id="apidoc.element.mysql.Pool.Pool">
        function <span class="apidocSignatureSpan">mysql.</span>Pool
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Pool(options) {
  EventEmitter.call(this);
  this.config = options.config;
  this.config.connectionConfig.pool = this;

  this._acquiringConnections = [];
  this._allConnections       = [];
  this._freeConnections      = [];
  this._connectionQueue      = [];
  this._closed               = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.super_" id="apidoc.element.mysql.Pool.super_">
        function <span class="apidocSignatureSpan">mysql.Pool.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Pool.prototype" id="apidoc.module.mysql.Pool.prototype">module mysql.Pool.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype._enqueueCallback" id="apidoc.element.mysql.Pool.prototype._enqueueCallback">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>_enqueueCallback
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _enqueueCallback(callback) {

  if (this.config.queueLimit &amp;&amp; this._connectionQueue.length &gt;= this.config.queueLimit) {
    process.nextTick(function () {
      var err = new Error('Queue limit reached.');
      err.code = 'POOL_ENQUEUELIMIT';
      callback(err);
    });
    return;
  }

  // Bind to domain, as dequeue will likely occur in a different domain
  var cb = process.domain
    ? process.domain.bind(callback)
    : callback;

  this._connectionQueue.push(cb);
  this.emit('enqueue');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var err = new Error('No connections available.');
    err.code = 'POOL_CONNLIMIT';
    cb(err);
  });
  return;
}

this.<span class="apidocCodeKeywordSpan">_enqueueCallback</span>(cb);
};

Pool.prototype.acquireConnection = function acquireConnection(connection, cb) {
if (connection._pool !== this) {
  throw new Error('Connection acquired from wrong pool.');
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype._needsChangeUser" id="apidoc.element.mysql.Pool.prototype._needsChangeUser">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>_needsChangeUser
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _needsChangeUser(connection) {
  var connConfig = connection.config;
  var poolConfig = this.config.connectionConfig;

  // check if changeUser values are different
  return connConfig.user !== poolConfig.user
    || connConfig.database !== poolConfig.database
    || connConfig.password !== poolConfig.password
    || connConfig.charsetNumber !== poolConfig.charsetNumber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Pool.prototype.acquireConnection = function acquireConnection(connection, cb) {
if (connection._pool !== this) {
  throw new Error('Connection acquired from wrong pool.');
}

var changeUser = this.<span class="apidocCodeKeywordSpan">_needsChangeUser</span>(connection);
var pool       = this;

this._acquiringConnections.push(connection);

function onOperationComplete(err) {
  spliceConnection(pool._acquiringConnections, connection);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype._purgeConnection" id="apidoc.element.mysql.Pool.prototype._purgeConnection">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>_purgeConnection
        <span class="apidocSignatureSpan">(connection, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _purgeConnection(connection, callback) {
  var cb = callback || function () {};

  if (connection.state === 'disconnected') {
    connection.destroy();
  }

  this._removeConnection(connection);

  if (connection.state !== 'disconnected' &amp;&amp; !connection._protocol._quitSequence) {
    connection._realEnd(cb);
    return;
  }

  process.nextTick(cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (!this._pool || this._pool._closed) {
    return;
  }

  var pool = this._pool;
  this._pool = null;

  pool.<span class="apidocCodeKeywordSpan">_purgeConnection</span>(this);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype._removeConnection" id="apidoc.element.mysql.Pool.prototype._removeConnection">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>_removeConnection
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(connection) {
  connection._pool = null;

  // Remove connection from all connections
  spliceConnection(this._allConnections, connection);

  // Remove connection from free connections
  spliceConnection(this._freeConnections, connection);

  this.releaseConnection(connection);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Pool.prototype._purgeConnection = function _purgeConnection(connection, callback) {
var cb = callback || function () {};

if (connection.state === 'disconnected') {
  connection.destroy();
}

this.<span class="apidocCodeKeywordSpan">_removeConnection</span>(connection);

if (connection.state !== 'disconnected' &amp;&amp; !connection._protocol._quitSequence) {
  connection._realEnd(cb);
  return;
}

process.nextTick(cb);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype.acquireConnection" id="apidoc.element.mysql.Pool.prototype.acquireConnection">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>acquireConnection
        <span class="apidocSignatureSpan">(connection, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function acquireConnection(connection, cb) {
  if (connection._pool !== this) {
    throw new Error('Connection acquired from wrong pool.');
  }

  var changeUser = this._needsChangeUser(connection);
  var pool       = this;

  this._acquiringConnections.push(connection);

  function onOperationComplete(err) {
    spliceConnection(pool._acquiringConnections, connection);

    if (pool._closed) {
      err = new Error('Pool is closed.');
      err.code = 'POOL_CLOSED';
    }

    if (err) {
      pool._connectionQueue.unshift(cb);
      pool._purgeConnection(connection);
      return;
    }

    if (changeUser) {
      pool.emit('connection', connection);
    }

    pool.emit('acquire', connection);
    cb(null, connection);
  }

  if (changeUser) {
    // restore user back to pool configuration
    connection.config = this.config.newConnectionConfig();
    connection.changeUser({timeout: this.config.acquireTimeout}, onOperationComplete);
  } else {
    // ping connection
    connection.ping({timeout: this.config.acquireTimeout}, onOperationComplete);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  var connection;
  var pool = this;

  if (this._freeConnections.length &gt; 0) {
connection = this._freeConnections.shift();
this.<span class="apidocCodeKeywordSpan">acquireConnection</span>(connection, cb);
return;
  }

  if (this.config.connectionLimit === 0 || this._allConnections.length &lt; this.config.connectionLimit) {
connection = new PoolConnection(this, { config: this.config.newConnectionConfig() });

this._acquiringConnections.push(connection);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype.end" id="apidoc.element.mysql.Pool.prototype.end">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>end
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (cb) {
  this._closed = true;

  if (typeof cb !== 'function') {
    cb = function (err) {
      if (err) throw err;
    };
  }

  var calledBack   = false;
  var waitingClose = 0;

  function onEnd(err) {
    if (!calledBack &amp;&amp; (err || --waitingClose &lt;= 0)) {
      calledBack = true;
      cb(err);
    }
  }

  while (this._allConnections.length !== 0) {
    waitingClose++;
    this._purgeConnection(this._allConnections[0], onEnd);
  }

  if (waitingClose === 0) {
    process.nextTick(onEnd);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

connection.query('SELECT 1', function(err, rows) {
  if (err) throw err;

  console.log('Query result: ', rows);
});

connection.<span class="apidocCodeKeywordSpan">end</span>();
```

The new `Connection` class does not try to handle re-connects, please study the
`Server disconnects` section in the new Readme.

Other than that, the interface has stayed very similar. Here are a few things
to check out so:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype.escape" id="apidoc.element.mysql.Pool.prototype.escape">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>escape
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(value) {
  return mysql.escape(value, this.config.connectionConfig.stringifyObjects, this.config.connectionConfig.timezone);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v2.0.0-alpha5 (2012-12-03)

* Add mysql.escapeId to escape identifiers (closes #342)
* Allow custom escaping mode (config.queryFormat)
* Convert DATE columns to configured timezone instead of UTC (#332)
* Convert LONGLONG and NEWDECIMAL to numbers (#333)
* Fix Connection.<span class="apidocCodeKeywordSpan">escape</span>() (fixes #330)
* Changed Readme ambiguity about custom type cast fallback
* Change typeCast to receive Connection instead of Connection.config.timezone
* Fix drain event having useless err parameter
* Add Connection.statistics() back from v0.9
* Add Connection.ping() back from v0.9

## v2.0.0-alpha4 (2012-10-03)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype.escapeId" id="apidoc.element.mysql.Pool.prototype.escapeId">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>escapeId
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeId(value) {
  return mysql.escapeId(value, false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {boolean} [forbidQualified=false] Setting to treat '.' as part of identifier
* @return {string} Escaped string value
* @public
*/
exports.escapeId = function escapeId(value, forbidQualified) {
 var SqlString = loadClass('SqlString');

 return SqlString.<span class="apidocCodeKeywordSpan">escapeId</span>(value, forbidQualified);
};

/**
* Format SQL and replacement values into a SQL string.
* @param {string} sql The SQL for the query
* @param {array} [values] Any values to insert into placeholders in sql
* @param {boolean} [stringifyObjects=false] Setting if objects should be stringified
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype.getConnection" id="apidoc.element.mysql.Pool.prototype.getConnection">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>getConnection
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getConnection = function (cb) {

  if (this._closed) {
    var err = new Error('Pool is closed.');
    err.code = 'POOL_CLOSED';
    process.nextTick(function () {
      cb(err);
    });
    return;
  }

  var connection;
  var pool = this;

  if (this._freeConnections.length &gt; 0) {
    connection = this._freeConnections.shift();
    this.acquireConnection(connection, cb);
    return;
  }

  if (this.config.connectionLimit === 0 || this._allConnections.length &lt; this.config.connectionLimit) {
    connection = new PoolConnection(this, { config: this.config.newConnectionConfig() });

    this._acquiringConnections.push(connection);
    this._allConnections.push(connection);

    connection.connect({timeout: this.config.acquireTimeout}, function onConnect(err) {
      spliceConnection(pool._acquiringConnections, connection);

      if (pool._closed) {
        err = new Error('Pool is closed.');
        err.code = 'POOL_CLOSED';
      }

      if (err) {
        pool._purgeConnection(connection);
        cb(err);
        return;
      }

      pool.emit('connection', connection);
      pool.emit('acquire', connection);
      cb(null, connection);
    });
    return;
  }

  if (!this.config.waitForConnections) {
    process.nextTick(function(){
      var err = new Error('No connections available.');
      err.code = 'POOL_CONNLIMIT';
      cb(err);
    });
    return;
  }

  this._enqueueCallback(cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

pool.query('SELECT 1 + 1 AS solution', function (error, results, fields) {
  if (error) throw error;
  console.log('The solution is: ', results[0].solution);
});
```

This is a shortcut for the `pool.<span class="apidocCodeKeywordSpan">getConnection</span>()` -&gt; `connection.query()` -&gt;
`connection.release()` code flow. Using `pool.getConnection()` is useful to
share connection state for subsequent queries. This is because two calls to
`pool.query()` may use two different connections and run in parallel. This is
the basic structure:

```js
var mysql = require('mysql');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype.query" id="apidoc.element.mysql.Pool.prototype.query">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>query
        <span class="apidocSignatureSpan">(sql, values, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">query = function (sql, values, cb) {
  var query = Connection.createQuery(sql, values, cb);

  if (!(typeof sql === 'object' &amp;&amp; 'typeCast' in sql)) {
    query.typeCast = this.config.connectionConfig.typeCast;
  }

  if (this.config.connectionConfig.trace) {
    // Long stack trace support
    query._callSite = new Error();
  }

  this.getConnection(function (err, conn) {
    if (err) {
      query.on('error', function () {});
      query.end(err);
      return;
    }

    // Release connection based off event
    query.once('end', function() {
      conn.release();
    });

    conn.query(query);
  });

  return query;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Update `bignumber.js` to 3.1.2
* Use a simple buffer list to improve performance #566 #1590

## v2.12.0 (2016-11-02)

* Accept array of type names to `dateStrings` option #605 #1481
* Add `query` method to `PoolNamespace` #1256 #1505 #1506
- Used as `cluster.of(...).<span class="apidocCodeKeywordSpan">query</span>(...)`
* Add new error codes up to MySQL 5.7.16
* Fix edge cases writing certain length coded values
* Fix typo in `HANDSHAKE_NO_SSL_SUPPORT` error message #1534
* Support Node.js 7.x
* Update `bignumber.js` to 2.4.0
* Update `sqlstring` to 2.2.0
- Accept numbers and other value types in `escapeId`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Pool.prototype.releaseConnection" id="apidoc.element.mysql.Pool.prototype.releaseConnection">
        function <span class="apidocSignatureSpan">mysql.Pool.prototype.</span>releaseConnection
        <span class="apidocSignatureSpan">(connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function releaseConnection(connection) {

  if (this._acquiringConnections.indexOf(connection) !== -1) {
    // connection is being acquired
    return;
  }

  if (connection._pool) {
    if (connection._pool !== this) {
      throw new Error('Connection released to wrong pool');
    }

    if (this._freeConnections.indexOf(connection) !== -1) {
      // connection already in free connection pool
      // this won't catch all double-release cases
      throw new Error('Connection already released');
    } else {
      // add connection to end of free queue
      this._freeConnections.push(connection);
      this.emit('release', connection);
    }
  }

  if (this._closed) {
    // empty the connection queue
    this._connectionQueue.splice(0).forEach(function (cb) {
      var err = new Error('Pool is closed.');
      err.code = 'POOL_CLOSED';
      process.nextTick(function () {
        cb(err);
      });
    });
  } else if (this._connectionQueue.length) {
    // get connection with next waiting callback
    this.getConnection(this._connectionQueue.shift());
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
PoolConnection.prototype.release = function release() {
var pool = this._pool;

if (!pool || pool._closed) {
  return undefined;
}

return pool.<span class="apidocCodeKeywordSpan">releaseConnection</span>(this);
};

// TODO: Remove this when we are removing PoolConnection#end
PoolConnection.prototype._realEnd = Connection.prototype.end;

PoolConnection.prototype.end = function () {
console.warn(
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolCluster" id="apidoc.module.mysql.PoolCluster">module mysql.PoolCluster</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.PoolCluster" id="apidoc.element.mysql.PoolCluster.PoolCluster">
        function <span class="apidocSignatureSpan">mysql.</span>PoolCluster
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolCluster(config) {
  EventEmitter.call(this);

  config = config || {};
  this._canRetry = typeof config.canRetry === 'undefined' ? true : config.canRetry;
  this._defaultSelector = config.defaultSelector || 'RR';
  this._removeNodeErrorCount = config.removeNodeErrorCount || 5;
  this._restoreNodeTimeout = config.restoreNodeTimeout || 0;

  this._closed = false;
  this._findCaches = Object.create(null);
  this._lastId = 0;
  this._namespaces = Object.create(null);
  this._nodes = Object.create(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.super_" id="apidoc.element.mysql.PoolCluster.super_">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolCluster.prototype" id="apidoc.module.mysql.PoolCluster.prototype">module mysql.PoolCluster.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype._clearFindCaches" id="apidoc.element.mysql.PoolCluster.prototype._clearFindCaches">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_clearFindCaches
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _clearFindCaches() {
  this._findCaches = Object.create(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._nodes[nodeId] = {
  id            : nodeId,
  errorCount    : 0,
  pool          : new Pool({config: poolConfig}),
  _offlineUntil : 0
};

this.<span class="apidocCodeKeywordSpan">_clearFindCaches</span>();
};

PoolCluster.prototype.end = function end(callback) {
var cb = callback !== undefined
  ? callback
  : _cb;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype._decreaseErrorCount" id="apidoc.element.mysql.PoolCluster.prototype._decreaseErrorCount">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_decreaseErrorCount
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _decreaseErrorCount(node) {
  var errorCount = node.errorCount;

  if (errorCount &gt; this._removeNodeErrorCount) {
    errorCount = this._removeNodeErrorCount;
  }

  if (errorCount &lt; 1) {
    errorCount = 1;
  }

  node.errorCount = errorCount - 1;

  if (node._offlineUntil) {
    node._offlineUntil = 0;
    this.emit('online', node.id);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  node.pool.getConnection(function (err, connection) {
    if (err) {
      self._increaseErrorCount(node);
      cb(err);
      return;
    } else {
      self.<span class="apidocCodeKeywordSpan">_decreaseErrorCount</span>(node);
    }

    connection._clusterId = node.id;

    cb(null, connection);
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype._findNodeIds" id="apidoc.element.mysql.PoolCluster.prototype._findNodeIds">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_findNodeIds
        <span class="apidocSignatureSpan">(pattern, includeOffline)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _findNodeIds(pattern, includeOffline) {
  var currentTime  = 0;
  var foundNodeIds = this._findCaches[pattern];

  if (foundNodeIds === undefined) {
    var expression = patternRegExp(pattern);
    var nodeIds    = Object.keys(this._nodes);

    foundNodeIds = nodeIds.filter(function (id) {
      return id.match(expression);
    });

    this._findCaches[pattern] = foundNodeIds;
  }

  if (includeOffline) {
    return foundNodeIds;
  }

  return foundNodeIds.filter(function (nodeId) {
    var node = this._getNode(nodeId);

    if (!node._offlineUntil) {
      return true;
    }

    if (!currentTime) {
      currentTime = getMonotonicMilliseconds();
    }

    return node._offlineUntil &lt;= currentTime;
  }, this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._namespaces[key] = new PoolNamespace(this, pattern, selector);
  }

  return this._namespaces[key];
};

PoolCluster.prototype.remove = function remove(pattern) {
  var foundNodeIds = this.<span class="apidocCodeKeywordSpan">_findNodeIds</span>(pattern, true);

  for (var i = 0; i &lt; foundNodeIds.length; i++) {
var node = this._getNode(foundNodeIds[i]);

if (node) {
  this._removeNode(node);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype._getConnection" id="apidoc.element.mysql.PoolCluster.prototype._getConnection">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_getConnection
        <span class="apidocSignatureSpan">(node, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(node, cb) {
  var self = this;

  node.pool.getConnection(function (err, connection) {
    if (err) {
      self._increaseErrorCount(node);
      cb(err);
      return;
    } else {
      self._decreaseErrorCount(node);
    }

    connection._clusterId = node.id;

    cb(null, connection);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  err.code = 'POOL_NOEXIST';
}

cb(err);
return;
  }

  cluster.<span class="apidocCodeKeywordSpan">_getConnection</span>(clusterNode, function(err, connection) {
var retry = err &amp;&amp; cluster._canRetry
  &amp;&amp; cluster._findNodeIds(namespace._pattern).length !== 0;

if (retry) {
  namespace.getConnection(cb);
  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype._getNode" id="apidoc.element.mysql.PoolCluster.prototype._getNode">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_getNode
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _getNode(id) {
  return this._nodes[id] || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return this._namespaces[key];
};

PoolCluster.prototype.remove = function remove(pattern) {
  var foundNodeIds = this._findNodeIds(pattern, true);

  for (var i = 0; i &lt; foundNodeIds.length; i++) {
    var node = this.<span class="apidocCodeKeywordSpan">_getNode</span>(foundNodeIds[i]);

    if (node) {
      this._removeNode(node);
    }
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype._increaseErrorCount" id="apidoc.element.mysql.PoolCluster.prototype._increaseErrorCount">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_increaseErrorCount
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _increaseErrorCount(node) {
  var errorCount = ++node.errorCount;

  if (this._removeNodeErrorCount &gt; errorCount) {
    return;
  }

  if (this._restoreNodeTimeout &gt; 0) {
    node._offlineUntil = getMonotonicMilliseconds() + this._restoreNodeTimeout;
    this.emit('offline', node.id);
    return;
  }

  this._removeNode(node);
  this.emit('remove', node.id);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

PoolCluster.prototype._getConnection = function(node, cb) {
  var self = this;

  node.pool.getConnection(function (err, connection) {
if (err) {
  self.<span class="apidocCodeKeywordSpan">_increaseErrorCount</span>(node);
  cb(err);
  return;
} else {
  self._decreaseErrorCount(node);
}

connection._clusterId = node.id;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype._removeNode" id="apidoc.element.mysql.PoolCluster.prototype._removeNode">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>_removeNode
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _removeNode(node) {
  delete this._nodes[node.id];

  this._clearFindCaches();

  node.pool.end(_noop);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
PoolCluster.prototype.remove = function remove(pattern) {
var foundNodeIds = this._findNodeIds(pattern, true);

for (var i = 0; i &lt; foundNodeIds.length; i++) {
  var node = this._getNode(foundNodeIds[i]);

  if (node) {
    this.<span class="apidocCodeKeywordSpan">_removeNode</span>(node);
  }
}
};

PoolCluster.prototype.getConnection = function(pattern, selector, cb) {
var namespace;
if (typeof pattern === 'function') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype.add" id="apidoc.element.mysql.PoolCluster.prototype.add">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>add
        <span class="apidocSignatureSpan">(id, config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function add(id, config) {
  if (this._closed) {
    throw new Error('PoolCluster is closed.');
  }

  var nodeId = typeof id === 'object'
    ? 'CLUSTER::' + (++this._lastId)
    : String(id);

  if (this._nodes[nodeId] !== undefined) {
    throw new Error('Node ID "' + nodeId + '" is already defined in PoolCluster.');
  }

  var poolConfig = typeof id !== 'object'
    ? new PoolConfig(config)
    : new PoolConfig(id);

  this._nodes[nodeId] = {
    id            : nodeId,
    errorCount    : 0,
    pool          : new Pool({config: poolConfig}),
    _offlineUntil : 0
  };

  this._clearFindCaches();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
PoolCluster provides multiple hosts connection. (group &amp; retry &amp; selector)

```js
// create
var poolCluster = mysql.createPoolCluster();

// add configurations (the config is a pool config object)
poolCluster.<span class="apidocCodeKeywordSpan">add</span>(config); // add configuration with automatic name
poolCluster.add('MASTER', masterConfig); // add a named configuration
poolCluster.add('SLAVE1', slave1Config);
poolCluster.add('SLAVE2', slave2Config);

// remove configurations
poolCluster.remove('SLAVE2'); // By nodeId
poolCluster.remove('SLAVE*'); // By target group : SLAVE1-2
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype.end" id="apidoc.element.mysql.PoolCluster.prototype.end">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>end
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function end(callback) {
  var cb = callback !== undefined
    ? callback
    : _cb;

  if (typeof cb !== 'function') {
    throw TypeError('callback argument must be a function');
  }

  if (this._closed) {
    process.nextTick(cb);
    return;
  }

  this._closed = true;

  var calledBack   = false;
  var nodeIds      = Object.keys(this._nodes);
  var waitingClose = 0;

  function onEnd(err) {
    if (!calledBack &amp;&amp; (err || --waitingClose &lt;= 0)) {
      calledBack = true;
      cb(err);
    }
  }

  for (var i = 0; i &lt; nodeIds.length; i++) {
    var nodeId = nodeIds[i];
    var node = this._nodes[nodeId];

    waitingClose++;
    node.pool.end(onEnd);
  }

  if (waitingClose === 0) {
    process.nextTick(onEnd);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

connection.query('SELECT 1', function(err, rows) {
  if (err) throw err;

  console.log('Query result: ', rows);
});

connection.<span class="apidocCodeKeywordSpan">end</span>();
```

The new `Connection` class does not try to handle re-connects, please study the
`Server disconnects` section in the new Readme.

Other than that, the interface has stayed very similar. Here are a few things
to check out so:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype.getConnection" id="apidoc.element.mysql.PoolCluster.prototype.getConnection">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>getConnection
        <span class="apidocSignatureSpan">(pattern, selector, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(pattern, selector, cb) {
  var namespace;
  if (typeof pattern === 'function') {
    cb = pattern;
    namespace = this.of();
  } else {
    if (typeof selector === 'function') {
      cb = selector;
      selector = this._defaultSelector;
    }

    namespace = this.of(pattern, selector);
  }

  namespace.getConnection(cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

pool.query('SELECT 1 + 1 AS solution', function (error, results, fields) {
  if (error) throw error;
  console.log('The solution is: ', results[0].solution);
});
```

This is a shortcut for the `pool.<span class="apidocCodeKeywordSpan">getConnection</span>()` -&gt; `connection.query()` -&gt;
`connection.release()` code flow. Using `pool.getConnection()` is useful to
share connection state for subsequent queries. This is because two calls to
`pool.query()` may use two different connections and run in parallel. This is
the basic structure:

```js
var mysql = require('mysql');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype.of" id="apidoc.element.mysql.PoolCluster.prototype.of">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>of
        <span class="apidocSignatureSpan">(pattern, selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(pattern, selector) {
  pattern = pattern || '*';

  selector = selector || this._defaultSelector;
  selector = selector.toUpperCase();
  if (typeof PoolSelector[selector] === 'undefined') {
    selector = this._defaultSelector;
  }

  var key = pattern + selector;

  if (typeof this._namespaces[key] === 'undefined') {
    this._namespaces[key] = new PoolNamespace(this, pattern, selector);
  }

  return this._namespaces[key];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Update `bignumber.js` to 3.1.2
* Use a simple buffer list to improve performance #566 #1590

## v2.12.0 (2016-11-02)

* Accept array of type names to `dateStrings` option #605 #1481
* Add `query` method to `PoolNamespace` #1256 #1505 #1506
- Used as `cluster.<span class="apidocCodeKeywordSpan">of</span>(...).query(...)`
* Add new error codes up to MySQL 5.7.16
* Fix edge cases writing certain length coded values
* Fix typo in `HANDSHAKE_NO_SSL_SUPPORT` error message #1534
* Support Node.js 7.x
* Update `bignumber.js` to 2.4.0
* Update `sqlstring` to 2.2.0
- Accept numbers and other value types in `escapeId`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolCluster.prototype.remove" id="apidoc.element.mysql.PoolCluster.prototype.remove">
        function <span class="apidocSignatureSpan">mysql.PoolCluster.prototype.</span>remove
        <span class="apidocSignatureSpan">(pattern)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(pattern) {
  var foundNodeIds = this._findNodeIds(pattern, true);

  for (var i = 0; i &lt; foundNodeIds.length; i++) {
    var node = this._getNode(foundNodeIds[i]);

    if (node) {
      this._removeNode(node);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// add configurations (the config is a pool config object)
poolCluster.add(config); // add configuration with automatic name
poolCluster.add('MASTER', masterConfig); // add a named configuration
poolCluster.add('SLAVE1', slave1Config);
poolCluster.add('SLAVE2', slave2Config);

// remove configurations
poolCluster.<span class="apidocCodeKeywordSpan">remove</span>('SLAVE2'); // By nodeId
poolCluster.remove('SLAVE*'); // By target group : SLAVE1-2

// Target Group : ALL(anonymous, MASTER, SLAVE1-2), Selector : round-robin(default)
poolCluster.getConnection(function (err, connection) {});

// Target Group : MASTER, Selector : round-robin
poolCluster.getConnection('MASTER', function (err, connection) {});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolConfig" id="apidoc.module.mysql.PoolConfig">module mysql.PoolConfig</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolConfig.PoolConfig" id="apidoc.element.mysql.PoolConfig.PoolConfig">
        function <span class="apidocSignatureSpan">mysql.</span>PoolConfig
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolConfig(options) {
  if (typeof options === 'string') {
    options = ConnectionConfig.parseUrl(options);
  }

  this.acquireTimeout     = (options.acquireTimeout === undefined)
    ? 10 * 1000
    : Number(options.acquireTimeout);
  this.connectionConfig   = new ConnectionConfig(options);
  this.waitForConnections = (options.waitForConnections === undefined)
    ? true
    : Boolean(options.waitForConnections);
  this.connectionLimit    = (options.connectionLimit === undefined)
    ? 10
    : Number(options.connectionLimit);
  this.queueLimit         = (options.queueLimit === undefined)
    ? 0
    : Number(options.queueLimit);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolConfig.prototype" id="apidoc.module.mysql.PoolConfig.prototype">module mysql.PoolConfig.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolConfig.prototype.newConnectionConfig" id="apidoc.element.mysql.PoolConfig.prototype.newConnectionConfig">
        function <span class="apidocSignatureSpan">mysql.PoolConfig.prototype.</span>newConnectionConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function newConnectionConfig() {
  var connectionConfig = new ConnectionConfig(this.connectionConfig);

  connectionConfig.clientFlags   = this.connectionConfig.clientFlags;
  connectionConfig.maxPacketSize = this.connectionConfig.maxPacketSize;

  return connectionConfig;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this._freeConnections.length &gt; 0) {
connection = this._freeConnections.shift();
this.acquireConnection(connection, cb);
return;
  }

  if (this.config.connectionLimit === 0 || this._allConnections.length &lt; this.config.connectionLimit) {
connection = new PoolConnection(this, { config: this.config.<span class="apidocCodeKeywordSpan">newConnectionConfig</span>() });

this._acquiringConnections.push(connection);
this._allConnections.push(connection);

connection.connect({timeout: this.config.acquireTimeout}, function onConnect(err) {
  spliceConnection(pool._acquiringConnections, connection);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolConnection" id="apidoc.module.mysql.PoolConnection">module mysql.PoolConnection</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolConnection.PoolConnection" id="apidoc.element.mysql.PoolConnection.PoolConnection">
        function <span class="apidocSignatureSpan">mysql.</span>PoolConnection
        <span class="apidocSignatureSpan">(pool, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolConnection(pool, options) {
  Connection.call(this, options);
  this._pool  = pool;

  // Bind connection to pool domain
  if (Events.usingDomains) {
    this.domain = pool.domain;
  }

  // When a fatal error occurs the connection's protocol ends, which will cause
  // the connection to end as well, thus we only need to watch for the end event
  // and we will be notified of disconnects.
  this.on('end', this._removeFromPool);
  this.on('error', function (err) {
    if (err.fatal) {
      this._removeFromPool();
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolConnection.super_" id="apidoc.element.mysql.PoolConnection.super_">
        function <span class="apidocSignatureSpan">mysql.PoolConnection.</span>super_
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Connection(options) {
  Events.EventEmitter.call(this);

  this.config = options.config;

  this._socket        = options.socket;
  this._protocol      = new Protocol({config: this.config, connection: this});
  this._connectCalled = false;
  this.state          = 'disconnected';
  this.threadId       = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolConnection.prototype" id="apidoc.module.mysql.PoolConnection.prototype">module mysql.PoolConnection.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolConnection.prototype._realEnd" id="apidoc.element.mysql.PoolConnection.prototype._realEnd">
        function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>_realEnd
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function end(options, callback) {
  var cb   = callback;
  var opts = options;

  if (!callback &amp;&amp; typeof options === 'function') {
    cb   = options;
    opts = null;
  }

  // create custom options reference
  opts = Object.create(opts || null);

  if (opts.timeout === undefined) {
    // default timeout of 30 seconds
    opts.timeout = 30000;
  }

  this._implyConnect();
  this._protocol.quit(opts, wrapCallbackInDomain(this, cb));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (connection.state === 'disconnected') {
    connection.destroy();
  }

  this._removeConnection(connection);

  if (connection.state !== 'disconnected' &amp;&amp; !connection._protocol._quitSequence) {
    connection.<span class="apidocCodeKeywordSpan">_realEnd</span>(cb);
    return;
  }

  process.nextTick(cb);
};

Pool.prototype._removeConnection = function(connection) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolConnection.prototype._removeFromPool" id="apidoc.element.mysql.PoolConnection.prototype._removeFromPool">
        function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>_removeFromPool
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _removeFromPool() {
  if (!this._pool || this._pool._closed) {
    return;
  }

  var pool = this._pool;
  this._pool = null;

  pool._purgeConnection(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// When a fatal error occurs the connection's protocol ends, which will cause
// the connection to end as well, thus we only need to watch for the end event
// and we will be notified of disconnects.
this.on('end', this._removeFromPool);
this.on('error', function (err) {
  if (err.fatal) {
    this.<span class="apidocCodeKeywordSpan">_removeFromPool</span>();
  }
});
}

PoolConnection.prototype.release = function release() {
var pool = this._pool;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolConnection.prototype.destroy" id="apidoc.element.mysql.PoolConnection.prototype.destroy">
        function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  Connection.prototype.destroy.apply(this, arguments);
  this._removeFromPool(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Add new Amazon RDS ap-northeast-2 certificate CA to Amazon RDS SSL profile #1329

## v2.10.0 (2015-12-15)

* Add new error codes up to MySQL 5.7.9 #1294
* Add new JSON type constant #1295
* Add types for fractional seconds support
* Fix `connection.<span class="apidocCodeKeywordSpan">destroy</span>()` on pool connection creating sequences #1291
* Fix error code 139 `HA_ERR_TO_BIG_ROW` to be `HA_ERR_TOO_BIG_ROW`
* Fix error when call site error is missing stack #1179
* Fix reading password from MySQL URL that has bare colon #1278
* Handle MySQL servers not closing TCP connection after QUIT -&gt; OK exchange #1277
* Minor SqlString Date to string performance improvement #1233
* Support Node.js 4.x
* Support Node.js 5.x
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolConnection.prototype.end" id="apidoc.element.mysql.PoolConnection.prototype.end">
        function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>end
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function () {
  console.warn(
    'Calling conn.end() to release a pooled connection is ' +
    'deprecated. In next version calling conn.end() will be ' +
    'restored to default conn.end() behavior. Use ' +
    'conn.release() instead.'
  );
  this.release();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

connection.query('SELECT 1', function(err, rows) {
  if (err) throw err;

  console.log('Query result: ', rows);
});

connection.<span class="apidocCodeKeywordSpan">end</span>();
```

The new `Connection` class does not try to handle re-connects, please study the
`Server disconnects` section in the new Readme.

Other than that, the interface has stayed very similar. Here are a few things
to check out so:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolConnection.prototype.release" id="apidoc.element.mysql.PoolConnection.prototype.release">
        function <span class="apidocSignatureSpan">mysql.PoolConnection.prototype.</span>release
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function release() {
  var pool = this._pool;

  if (!pool || pool._closed) {
    return undefined;
  }

  return pool.releaseConnection(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
pool.query('SELECT 1 + 1 AS solution', function (error, results, fields) {
  if (error) throw error;
  console.log('The solution is: ', results[0].solution);
});
```

This is a shortcut for the `pool.getConnection()` -&gt; `connection.query()` -&gt;
`connection.<span class="apidocCodeKeywordSpan">release</span>()` code flow. Using `pool.getConnection()` is useful to
share connection state for subsequent queries. This is because two calls to
`pool.query()` may use two different connections and run in parallel. This is
the basic structure:

```js
var mysql = require('mysql');
var pool  = mysql.createPool(...);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolNamespace" id="apidoc.module.mysql.PoolNamespace">module mysql.PoolNamespace</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolNamespace.PoolNamespace" id="apidoc.element.mysql.PoolNamespace.PoolNamespace">
        function <span class="apidocSignatureSpan">mysql.</span>PoolNamespace
        <span class="apidocSignatureSpan">(cluster, pattern, selector)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolNamespace(cluster, pattern, selector) {
  this._cluster = cluster;
  this._pattern = pattern;
  this._selector = new PoolSelector[selector]();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolNamespace.prototype" id="apidoc.module.mysql.PoolNamespace.prototype">module mysql.PoolNamespace.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolNamespace.prototype._getClusterNode" id="apidoc.element.mysql.PoolNamespace.prototype._getClusterNode">
        function <span class="apidocSignatureSpan">mysql.PoolNamespace.prototype.</span>_getClusterNode
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _getClusterNode() {
  var foundNodeIds = this._cluster._findNodeIds(this._pattern);
  var nodeId;

  switch (foundNodeIds.length) {
    case 0:
      nodeId = null;
      break;
    case 1:
      nodeId = foundNodeIds[0];
      break;
    default:
      nodeId = this._selector(foundNodeIds);
      break;
  }

  return nodeId !== null
    ? this._cluster._getNode(nodeId)
    : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function PoolNamespace(cluster, pattern, selector) {
  this._cluster = cluster;
  this._pattern = pattern;
  this._selector = new PoolSelector[selector]();
}

PoolNamespace.prototype.getConnection = function(cb) {
  var clusterNode = this.<span class="apidocCodeKeywordSpan">_getClusterNode</span>();
  var cluster     = this._cluster;
  var namespace   = this;

  if (clusterNode === null) {
var err = null;

if (this._cluster._findNodeIds(this._pattern, true).length !== 0) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolNamespace.prototype.getConnection" id="apidoc.element.mysql.PoolNamespace.prototype.getConnection">
        function <span class="apidocSignatureSpan">mysql.PoolNamespace.prototype.</span>getConnection
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(cb) {
  var clusterNode = this._getClusterNode();
  var cluster     = this._cluster;
  var namespace   = this;

  if (clusterNode === null) {
    var err = null;

    if (this._cluster._findNodeIds(this._pattern, true).length !== 0) {
      err = new Error('Pool does not have online node.');
      err.code = 'POOL_NONEONLINE';
    } else {
      err = new Error('Pool does not exist.');
      err.code = 'POOL_NOEXIST';
    }

    cb(err);
    return;
  }

  cluster._getConnection(clusterNode, function(err, connection) {
    var retry = err &amp;&amp; cluster._canRetry
      &amp;&amp; cluster._findNodeIds(namespace._pattern).length !== 0;

    if (retry) {
      namespace.getConnection(cb);
      return;
    }

    if (err) {
      cb(err);
      return;
    }

    cb(null, connection);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

pool.query('SELECT 1 + 1 AS solution', function (error, results, fields) {
  if (error) throw error;
  console.log('The solution is: ', results[0].solution);
});
```

This is a shortcut for the `pool.<span class="apidocCodeKeywordSpan">getConnection</span>()` -&gt; `connection.query()` -&gt;
`connection.release()` code flow. Using `pool.getConnection()` is useful to
share connection state for subsequent queries. This is because two calls to
`pool.query()` may use two different connections and run in parallel. This is
the basic structure:

```js
var mysql = require('mysql');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolNamespace.prototype.query" id="apidoc.element.mysql.PoolNamespace.prototype.query">
        function <span class="apidocSignatureSpan">mysql.PoolNamespace.prototype.</span>query
        <span class="apidocSignatureSpan">(sql, values, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">query = function (sql, values, cb) {
  var cluster     = this._cluster;
  var clusterNode = this._getClusterNode();
  var query       = Connection.createQuery(sql, values, cb);
  var namespace   = this;

  if (clusterNode === null) {
    var err = null;

    if (this._cluster._findNodeIds(this._pattern, true).length !== 0) {
      err = new Error('Pool does not have online node.');
      err.code = 'POOL_NONEONLINE';
    } else {
      err = new Error('Pool does not exist.');
      err.code = 'POOL_NOEXIST';
    }

    process.nextTick(function () {
      query.on('error', function () {});
      query.end(err);
    });
    return query;
  }

  if (!(typeof sql === 'object' &amp;&amp; 'typeCast' in sql)) {
    query.typeCast = clusterNode.pool.config.connectionConfig.typeCast;
  }

  if (clusterNode.pool.config.connectionConfig.trace) {
    // Long stack trace support
    query._callSite = new Error();
  }

  cluster._getConnection(clusterNode, function (err, conn) {
    var retry = err &amp;&amp; cluster._canRetry
      &amp;&amp; cluster._findNodeIds(namespace._pattern).length !== 0;

    if (retry) {
      namespace.query(query);
      return;
    }

    if (err) {
      query.on('error', function () {});
      query.end(err);
      return;
    }

    // Release connection based off event
    query.once('end', function() {
      conn.release();
    });

    conn.query(query);
  });

  return query;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Update `bignumber.js` to 3.1.2
* Use a simple buffer list to improve performance #566 #1590

## v2.12.0 (2016-11-02)

* Accept array of type names to `dateStrings` option #605 #1481
* Add `query` method to `PoolNamespace` #1256 #1505 #1506
- Used as `cluster.of(...).<span class="apidocCodeKeywordSpan">query</span>(...)`
* Add new error codes up to MySQL 5.7.16
* Fix edge cases writing certain length coded values
* Fix typo in `HANDSHAKE_NO_SSL_SUPPORT` error message #1534
* Support Node.js 7.x
* Update `bignumber.js` to 2.4.0
* Update `sqlstring` to 2.2.0
- Accept numbers and other value types in `escapeId`
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.PoolSelector" id="apidoc.module.mysql.PoolSelector">module mysql.PoolSelector</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.PoolSelector.ORDER" id="apidoc.element.mysql.PoolSelector.ORDER">
        function <span class="apidocSignatureSpan">mysql.PoolSelector.</span>ORDER
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolSelectorOrder() {
  return function(clusterIds) {
    return clusterIds[0];
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolSelector.RANDOM" id="apidoc.element.mysql.PoolSelector.RANDOM">
        function <span class="apidocSignatureSpan">mysql.PoolSelector.</span>RANDOM
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolSelectorRandom() {
  return function(clusterIds) {
    return clusterIds[Math.floor(Math.random() * clusterIds.length)];
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.PoolSelector.RR" id="apidoc.element.mysql.PoolSelector.RR">
        function <span class="apidocSignatureSpan">mysql.PoolSelector.</span>RR
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function PoolSelectorRoundRobin() {
  var index = 0;

  return function(clusterIds) {
    if (index &gt;= clusterIds.length) {
      index = 0;
    }

    var clusterId = clusterIds[index++];

    return clusterId;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Protocol" id="apidoc.module.mysql.Protocol">module mysql.Protocol</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Protocol.Protocol" id="apidoc.element.mysql.Protocol.Protocol">
        function <span class="apidocSignatureSpan">mysql.</span>Protocol
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Protocol(options) {
  Stream.call(this);

  options = options || {};

  this.readable = true;
  this.writable = true;

  this._config                        = options.config || {};
  this._connection                    = options.connection;
  this._callback                      = null;
  this._fatalError                    = null;
  this._quitSequence                  = null;
  this._handshake                     = false;
  this._handshaked                    = false;
  this._ended                         = false;
  this._destroyed                     = false;
  this._queue                         = [];
  this._handshakeInitializationPacket = null;

  this._parser = new Parser({
    onError  : this.handleParserError.bind(this),
    onPacket : this._parsePacket.bind(this),
    config   : this._config
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.super_" id="apidoc.element.mysql.Protocol.super_">
        function <span class="apidocSignatureSpan">mysql.Protocol.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Stream() {
  EE.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Protocol.prototype" id="apidoc.module.mysql.Protocol.prototype">module mysql.Protocol.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._debugPacket" id="apidoc.element.mysql.Protocol.prototype._debugPacket">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_debugPacket
        <span class="apidocSignatureSpan">(incoming, packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(incoming, packet) {
  var connection = this._connection;
  var headline   = incoming
    ? '&lt;-- '
    : '--&gt; ';

  if (connection &amp;&amp; connection.threadId !== null) {
    headline += '(' + connection.threadId + ') ';
  }

  headline += packet.constructor.name;

  // check for debug packet restriction
  if (Array.isArray(this._config.debug) &amp;&amp; this._config.debug.indexOf(packet.constructor.name) === -1) {
    return;
  }

  console.log(headline);
  console.log(packet);
  console.log('');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var packetName = Packet.name;

// Special case: Faster dispatch, and parsing done inside sequence
if (Packet === Packets.RowDataPacket) {
  sequence.RowDataPacket(packet, this._parser, this._connection);

  if (this._config.debug) {
    this.<span class="apidocCodeKeywordSpan">_debugPacket</span>(true, packet);
  }

  return;
}

if (this._config.debug) {
  this._parsePacketDebug(packet);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._delegateError" id="apidoc.element.mysql.Protocol.prototype._delegateError">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_delegateError
        <span class="apidocSignatureSpan">(err, sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(err, sequence) {
  // Stop delegating errors after the first fatal error
  if (this._fatalError) {
    return;
  }

  if (err.fatal) {
    this._fatalError = err;
  }

  if (this._shouldErrorBubbleUp(err, sequence)) {
    // Can't use regular 'error' event here as that always destroys the pipe
    // between socket and protocol which is not what we want (unless the
    // exception was fatal).
    this.emit('unhandledError', err);
  } else if (err.fatal) {
    // Send fatal error to all sequences in the queue
    var queue = this._queue;
    process.nextTick(function () {
      queue.forEach(function (sequence) {
        sequence.end(err);
      });
      queue.length = 0;
    });
  }

  // Make sure the stream we are piping to is getting closed
  if (err.fatal) {
    this.emit('end', err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return;
}

var err = new Error('Connection lost: The server closed the connection.');
err.fatal = true;
err.code = 'PROTOCOL_CONNECTION_LOST';

this.<span class="apidocCodeKeywordSpan">_delegateError</span>(err);
};

Protocol.prototype.pause = function() {
this._parser.pause();
// Since there is a file stream in query, we must transmit pause/resume event to current sequence.
var seq = this._queue[0];
if (seq &amp;&amp; seq.emit) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._dequeue" id="apidoc.element.mysql.Protocol.prototype._dequeue">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_dequeue
        <span class="apidocSignatureSpan">(sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(sequence) {
  sequence._timer.stop();

  // No point in advancing the queue, we are dead
  if (this._fatalError) {
    return;
  }

  this._queue.shift();

  var sequence = this._queue[0];
  if (!sequence) {
    this.emit('drain');
    return;
  }

  this._parser.resetPacketNumber();

  this._startSequence(sequence);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
self._delegateError(err, sequence);
    })
    .on('packet', function(packet) {
sequence._timer.active();
self._emitPacket(packet);
    })
    .on('end', function() {
self.<span class="apidocCodeKeywordSpan">_dequeue</span>(sequence);
    })
    .on('timeout', function() {
var err = new Error(sequence.constructor.name + ' inactivity timeout');

err.code    = 'PROTOCOL_SEQUENCE_TIMEOUT';
err.fatal   = true;
err.timeout = sequence._timeout;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._determinePacket" id="apidoc.element.mysql.Protocol.prototype._determinePacket">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_determinePacket
        <span class="apidocSignatureSpan">(sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(sequence) {
  var firstByte = this._parser.peak();

  if (sequence.determinePacket) {
    var Packet = sequence.determinePacket(firstByte, this._parser);
    if (Packet) {
      return Packet;
    }
  }

  switch (firstByte) {
    case 0x00:
      if (!this._handshaked) {
        this._handshaked = true;
        this.emit('handshake', this._handshakeInitializationPacket);
      }
      return Packets.OkPacket;
    case 0xfe: return Packets.EofPacket;
    case 0xff: return Packets.ErrorPacket;
  }

  throw new Error('Could not determine packet, firstByte = ' + firstByte);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  err.code  = 'PROTOCOL_STRAY_PACKET';
  err.fatal = true;

  this._delegateError(err);
  return;
}

var Packet     = this.<span class="apidocCodeKeywordSpan">_determinePacket</span>(sequence);
var packet     = new Packet({protocol41: this._config.protocol41});
var packetName = Packet.name;

// Special case: Faster dispatch, and parsing done inside sequence
if (Packet === Packets.RowDataPacket) {
  sequence.RowDataPacket(packet, this._parser, this._connection);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._emitPacket" id="apidoc.element.mysql.Protocol.prototype._emitPacket">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_emitPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  var packetWriter = new PacketWriter();
  packet.write(packetWriter);
  this.emit('data', packetWriter.toBuffer(this._parser));

  if (this._config.debug) {
    this._debugPacket(false, packet);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var self = this;
sequence
  .on('error', function(err) {
    self._delegateError(err, sequence);
  })
  .on('packet', function(packet) {
    sequence._timer.active();
    self.<span class="apidocCodeKeywordSpan">_emitPacket</span>(packet);
  })
  .on('end', function() {
    self._dequeue(sequence);
  })
  .on('timeout', function() {
    var err = new Error(sequence.constructor.name + ' inactivity timeout');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._enqueue" id="apidoc.element.mysql.Protocol.prototype._enqueue">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_enqueue
        <span class="apidocSignatureSpan">(sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(sequence) {
  if (!this._validateEnqueue(sequence)) {
    return sequence;
  }

  if (this._config.trace) {
    // Long stack trace support
    sequence._callSite = sequence._callSite || new Error();
  }

  this._queue.push(sequence);
  this.emit('enqueue', sequence);

  var self = this;
  sequence
    .on('error', function(err) {
      self._delegateError(err, sequence);
    })
    .on('packet', function(packet) {
      sequence._timer.active();
      self._emitPacket(packet);
    })
    .on('end', function() {
      self._dequeue(sequence);
    })
    .on('timeout', function() {
      var err = new Error(sequence.constructor.name + ' inactivity timeout');

      err.code    = 'PROTOCOL_SEQUENCE_TIMEOUT';
      err.fatal   = true;
      err.timeout = sequence._timeout;

      self._delegateError(err, sequence);
    })
    .on('start-tls', function() {
      sequence._timer.active();
      self._connection._startTLS(function(err) {
        if (err) {
          // SSL negotiation error are fatal
          err.code  = 'HANDSHAKE_SSL_ERROR';
          err.fatal = true;
          sequence.end(err);
          return;
        }

        sequence._timer.active();
        sequence._tlsUpgradeCompleteHandler();
      });
    });

  if (this._queue.length === 1) {
    this._parser.resetPacketNumber();
    this._startSequence(sequence);
  }

  return sequence;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (query._callback) {
  query._callback = wrapCallbackInDomain(this, query._callback);
}

this._implyConnect();

return this._protocol.<span class="apidocCodeKeywordSpan">_enqueue</span>(query);
};

Connection.prototype.ping = function ping(options, callback) {
if (!callback &amp;&amp; typeof options === 'function') {
  callback = options;
  options = {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._hasPendingErrorHandlers" id="apidoc.element.mysql.Protocol.prototype._hasPendingErrorHandlers">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_hasPendingErrorHandlers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  return this._queue.some(function(sequence) {
    return sequence.hasErrorHandler();
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (sequence.hasErrorHandler()) {
      return false;
    } else if (!err.fatal) {
      return true;
    }
  }

  return (err.fatal &amp;&amp; !this.<span class="apidocCodeKeywordSpan">_hasPendingErrorHandlers</span>());
};

Protocol.prototype._hasPendingErrorHandlers = function() {
  return this._queue.some(function(sequence) {
    return sequence.hasErrorHandler();
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._parsePacket" id="apidoc.element.mysql.Protocol.prototype._parsePacket">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_parsePacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  var sequence = this._queue[0];

  if (!sequence) {
    var err   = new Error('Received packet with no active sequence.');
    err.code  = 'PROTOCOL_STRAY_PACKET';
    err.fatal = true;

    this._delegateError(err);
    return;
  }

  var Packet     = this._determinePacket(sequence);
  var packet     = new Packet({protocol41: this._config.protocol41});
  var packetName = Packet.name;

  // Special case: Faster dispatch, and parsing done inside sequence
  if (Packet === Packets.RowDataPacket) {
    sequence.RowDataPacket(packet, this._parser, this._connection);

    if (this._config.debug) {
      this._debugPacket(true, packet);
    }

    return;
  }

  if (this._config.debug) {
    this._parsePacketDebug(packet);
  } else {
    packet.parse(this._parser);
  }

  if (Packet === Packets.HandshakeInitializationPacket) {
    this._handshakeInitializationPacket = packet;
  }

  sequence._timer.active();

  if (!sequence[packetName]) {
    var err   = new Error('Received packet in the wrong sequence.');
    err.code  = 'PROTOCOL_INCORRECT_PACKET_SEQUENCE';
    err.fatal = true;

    this._delegateError(err);
    return;
  }

  sequence[packetName](packet);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._parsePacketDebug" id="apidoc.element.mysql.Protocol.prototype._parsePacketDebug">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_parsePacketDebug
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _parsePacketDebug(packet) {
  try {
    packet.parse(this._parser);
  } finally {
    this._debugPacket(true, packet);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._debugPacket(true, packet);
  }

  return;
}

if (this._config.debug) {
  this.<span class="apidocCodeKeywordSpan">_parsePacketDebug</span>(packet);
} else {
  packet.parse(this._parser);
}

if (Packet === Packets.HandshakeInitializationPacket) {
  this._handshakeInitializationPacket = packet;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._shouldErrorBubbleUp" id="apidoc.element.mysql.Protocol.prototype._shouldErrorBubbleUp">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_shouldErrorBubbleUp
        <span class="apidocSignatureSpan">(err, sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(err, sequence) {
  if (sequence) {
    if (sequence.hasErrorHandler()) {
      return false;
    } else if (!err.fatal) {
      return true;
    }
  }

  return (err.fatal &amp;&amp; !this._hasPendingErrorHandlers());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return;
}

if (err.fatal) {
  this._fatalError = err;
}

if (this.<span class="apidocCodeKeywordSpan">_shouldErrorBubbleUp</span>(err, sequence)) {
  // Can't use regular 'error' event here as that always destroys the pipe
  // between socket and protocol which is not what we want (unless the
  // exception was fatal).
  this.emit('unhandledError', err);
} else if (err.fatal) {
  // Send fatal error to all sequences in the queue
  var queue = this._queue;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._startSequence" id="apidoc.element.mysql.Protocol.prototype._startSequence">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_startSequence
        <span class="apidocSignatureSpan">(sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(sequence) {
  if (sequence._timeout &gt; 0 &amp;&amp; isFinite(sequence._timeout)) {
    sequence._timer.start(sequence._timeout);
  }

  if (sequence.constructor === Sequences.ChangeUser) {
    sequence.start(this._handshakeInitializationPacket);
  } else {
    sequence.start();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      sequence._timer.active();
      sequence._tlsUpgradeCompleteHandler();
    });
  });

if (this._queue.length === 1) {
  this._parser.resetPacketNumber();
  this.<span class="apidocCodeKeywordSpan">_startSequence</span>(sequence);
}

return sequence;
};

Protocol.prototype._validateEnqueue = function _validateEnqueue(sequence) {
var err;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype._validateEnqueue" id="apidoc.element.mysql.Protocol.prototype._validateEnqueue">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>_validateEnqueue
        <span class="apidocSignatureSpan">(sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _validateEnqueue(sequence) {
  var err;
  var prefix = 'Cannot enqueue ' + sequence.constructor.name;

  if (this._fatalError) {
    err      = new Error(prefix + ' after fatal error.');
    err.code = 'PROTOCOL_ENQUEUE_AFTER_FATAL_ERROR';
  } else if (this._quitSequence) {
    err      = new Error(prefix + ' after invoking quit.');
    err.code = 'PROTOCOL_ENQUEUE_AFTER_QUIT';
  } else if (this._destroyed) {
    err      = new Error(prefix + ' after being destroyed.');
    err.code = 'PROTOCOL_ENQUEUE_AFTER_DESTROY';
  } else if ((this._handshake || this._handshaked) &amp;&amp; sequence.constructor === Sequences.Handshake) {
    err      = new Error(prefix + ' after already enqueuing a Handshake.');
    err.code = 'PROTOCOL_ENQUEUE_HANDSHAKE_TWICE';
  } else {
    return true;
  }

  var self  = this;
  err.fatal = false;

  // add error handler
  sequence.on('error', function (err) {
    self._delegateError(err, sequence);
  });

  process.nextTick(function () {
    sequence.end(err);
  });

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var seq = this._queue[0];
if (seq &amp;&amp; seq.emit) {
  seq.emit('resume');
}
};

Protocol.prototype._enqueue = function(sequence) {
if (!this.<span class="apidocCodeKeywordSpan">_validateEnqueue</span>(sequence)) {
  return sequence;
}

if (this._config.trace) {
  // Long stack trace support
  sequence._callSite = sequence._callSite || new Error();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.changeUser" id="apidoc.element.mysql.Protocol.prototype.changeUser">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>changeUser
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function changeUser(options, callback) {
  return this._enqueue(new Sequences.ChangeUser(options, callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Switching users and altering connection state

MySQL offers a changeUser command that allows you to alter the current user and
other aspects of the connection without shutting down the underlying socket:

```js
connection.<span class="apidocCodeKeywordSpan">changeUser</span>({user : 'john'}, function(err) {
  if (err) throw err;
});
```

The available options for this feature are:

* `user`: The name of the new user (defaults to the previous one).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.destroy" id="apidoc.element.mysql.Protocol.prototype.destroy">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._destroyed = true;
  this._parser.pause();

  if (this._connection.state !== 'disconnected') {
    if (!this._ended) {
      this.end();
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Add new Amazon RDS ap-northeast-2 certificate CA to Amazon RDS SSL profile #1329

## v2.10.0 (2015-12-15)

* Add new error codes up to MySQL 5.7.9 #1294
* Add new JSON type constant #1295
* Add types for fractional seconds support
* Fix `connection.<span class="apidocCodeKeywordSpan">destroy</span>()` on pool connection creating sequences #1291
* Fix error code 139 `HA_ERR_TO_BIG_ROW` to be `HA_ERR_TOO_BIG_ROW`
* Fix error when call site error is missing stack #1179
* Fix reading password from MySQL URL that has bare colon #1278
* Handle MySQL servers not closing TCP connection after QUIT -&gt; OK exchange #1277
* Minor SqlString Date to string performance improvement #1233
* Support Node.js 4.x
* Support Node.js 5.x
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.end" id="apidoc.element.mysql.Protocol.prototype.end">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>end
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  if (this._ended) {
    return;
  }
  this._ended = true;

  if (this._quitSequence &amp;&amp; (this._quitSequence._ended || this._queue[0] === this._quitSequence)) {
    this._quitSequence.end();
    this.emit('end');
    return;
  }

  var err = new Error('Connection lost: The server closed the connection.');
  err.fatal = true;
  err.code = 'PROTOCOL_CONNECTION_LOST';

  this._delegateError(err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

connection.query('SELECT 1', function(err, rows) {
  if (err) throw err;

  console.log('Query result: ', rows);
});

connection.<span class="apidocCodeKeywordSpan">end</span>();
```

The new `Connection` class does not try to handle re-connects, please study the
`Server disconnects` section in the new Readme.

Other than that, the interface has stayed very similar. Here are a few things
to check out so:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.handleNetworkError" id="apidoc.element.mysql.Protocol.prototype.handleNetworkError">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>handleNetworkError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(err) {
  err.fatal = true;

  var sequence = this._queue[0];
  if (sequence) {
    sequence.end(err);
  } else {
    this._delegateError(err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  err.code = 'ETIMEDOUT';
  err.syscall = 'connect';

  this._handleNetworkError(err);
};

Connection.prototype._handleNetworkError = function(err) {
  this._protocol.<span class="apidocCodeKeywordSpan">handleNetworkError</span>(err);
};

Connection.prototype._handleProtocolError = function(err) {
  this.state = 'protocol_error';
  this.emit('error', err);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.handleParserError" id="apidoc.element.mysql.Protocol.prototype.handleParserError">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>handleParserError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function handleParserError(err) {
  var sequence = this._queue[0];
  if (sequence) {
    sequence.end(err);
  } else {
    this._delegateError(err);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.handshake" id="apidoc.element.mysql.Protocol.prototype.handshake">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>handshake
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function handshake(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  options = options || {};
  options.config = this._config;

  var sequence = this._enqueue(new Sequences.Handshake(options, callback));

  this._handshake = true;

  return sequence;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._socket.setTimeout(this.config.connectTimeout, handleConnectTimeout);
    this._socket.once('connect', function() {
      this.setTimeout(0, handleConnectTimeout);
    });
  }
}

this._protocol.<span class="apidocCodeKeywordSpan">handshake</span>(options, wrapCallbackInDomain(this, callback));
};

Connection.prototype.changeUser = function changeUser(options, callback) {
if (!callback &amp;&amp; typeof options === 'function') {
  callback = options;
  options = {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.pause" id="apidoc.element.mysql.Protocol.prototype.pause">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>pause
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._parser.pause();
  // Since there is a file stream in query, we must transmit pause/resume event to current sequence.
  var seq = this._queue[0];
  if (seq &amp;&amp; seq.emit) {
    seq.emit('pause');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Handle error, an 'end' event will be emitted after this as well
})
.on('fields', function(fields) {
  // the field packets for the rows to follow
})
.on('result', function(row) {
  // Pausing the connnection is useful if your processing involves I/O
  connection.<span class="apidocCodeKeywordSpan">pause</span>();

  processRow(row, function() {
    connection.resume();
  });
})
.on('end', function() {
  // all rows have been received
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.ping" id="apidoc.element.mysql.Protocol.prototype.ping">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>ping
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ping(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  return this._enqueue(new Sequences.Ping(options, callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Convert DATE columns to configured timezone instead of UTC (#332)
* Convert LONGLONG and NEWDECIMAL to numbers (#333)
* Fix Connection.escape() (fixes #330)
* Changed Readme ambiguity about custom type cast fallback
* Change typeCast to receive Connection instead of Connection.config.timezone
* Fix drain event having useless err parameter
* Add Connection.statistics() back from v0.9
* Add Connection.<span class="apidocCodeKeywordSpan">ping</span>() back from v0.9

## v2.0.0-alpha4 (2012-10-03)

* Fix some OOB errors on resume()
* Fix quick pause() / resume() usage
* Properly parse host denied / similar errors
* Add Connection.ChangeUser functionality
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.query" id="apidoc.element.mysql.Protocol.prototype.query">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>query
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function query(options, callback) {
  return this._enqueue(new Sequences.Query(options, callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Update `bignumber.js` to 3.1.2
* Use a simple buffer list to improve performance #566 #1590

## v2.12.0 (2016-11-02)

* Accept array of type names to `dateStrings` option #605 #1481
* Add `query` method to `PoolNamespace` #1256 #1505 #1506
- Used as `cluster.of(...).<span class="apidocCodeKeywordSpan">query</span>(...)`
* Add new error codes up to MySQL 5.7.16
* Fix edge cases writing certain length coded values
* Fix typo in `HANDSHAKE_NO_SSL_SUPPORT` error message #1534
* Support Node.js 7.x
* Update `bignumber.js` to 2.4.0
* Update `sqlstring` to 2.2.0
- Accept numbers and other value types in `escapeId`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.quit" id="apidoc.element.mysql.Protocol.prototype.quit">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>quit
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function quit(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  var self     = this;
  var sequence = this._enqueue(new Sequences.Quit(options, callback));

  sequence.on('end', function () {
    self.end();
  });

  return this._quitSequence = sequence;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (opts.timeout === undefined) {
  // default timeout of 30 seconds
  opts.timeout = 30000;
}

this._implyConnect();
this._protocol.<span class="apidocCodeKeywordSpan">quit</span>(opts, wrapCallbackInDomain(this, cb));
};

Connection.prototype.destroy = function() {
this.state = 'disconnected';
this._implyConnect();
this._socket.destroy();
this._protocol.destroy();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.resume" id="apidoc.element.mysql.Protocol.prototype.resume">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>resume
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._parser.resume();
  // Since there is a file stream in query, we must transmit pause/resume event to current sequence.
  var seq = this._queue[0];
  if (seq &amp;&amp; seq.emit) {
    seq.emit('resume');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // the field packets for the rows to follow
  })
  .on('result', function(row) {
    // Pausing the connnection is useful if your processing involves I/O
    connection.pause();

    processRow(row, function() {
      connection.<span class="apidocCodeKeywordSpan">resume</span>();
    });
  })
  .on('end', function() {
    // all rows have been received
  });
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.stats" id="apidoc.element.mysql.Protocol.prototype.stats">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>stats
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stats(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  return this._enqueue(new Sequences.Statistics(options, callback));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Connection.prototype.statistics = function statistics(options, callback) {
if (!callback &amp;&amp; typeof options === 'function') {
  callback = options;
  options = {};
}

this._implyConnect();
this._protocol.<span class="apidocCodeKeywordSpan">stats</span>(options, wrapCallbackInDomain(this, callback));
};

Connection.prototype.end = function end(options, callback) {
var cb   = callback;
var opts = options;

if (!callback &amp;&amp; typeof options === 'function') {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Protocol.prototype.write" id="apidoc.element.mysql.Protocol.prototype.write">
        function <span class="apidocSignatureSpan">mysql.Protocol.prototype.</span>write
        <span class="apidocSignatureSpan">(buffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(buffer) {
  this._parser.write(buffer);
  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Query" id="apidoc.module.mysql.Query">module mysql.Query</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Query.Query" id="apidoc.element.mysql.Query.Query">
        function <span class="apidocSignatureSpan">mysql.</span>Query
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Query(options, callback) {
  Sequence.call(this, options, callback);

  this.sql = options.sql;
  this.values = options.values;
  this.typeCast = (options.typeCast === undefined)
    ? true
    : options.typeCast;
  this.nestTables = options.nestTables || false;

  this._resultSet = null;
  this._results   = [];
  this._fields    = [];
  this._index     = 0;
  this._loadError = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  this._handshake = true;

  return sequence;
};

Protocol.prototype.query = function query(options, callback) {
  return this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Query</span>(options, callback));
};

Protocol.prototype.changeUser = function changeUser(options, callback) {
  return this._enqueue(new Sequences.ChangeUser(options, callback));
};

Protocol.prototype.ping = function ping(options, callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.super_" id="apidoc.element.mysql.Query.super_">
        function <span class="apidocSignatureSpan">mysql.Query.</span>super_
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Sequence(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  EventEmitter.call(this);

  options = options || {};

  this._callback = callback;
  this._callSite = null;
  this._ended    = false;
  this._timeout  = options.timeout;
  this._timer    = new Timer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Query.prototype" id="apidoc.module.mysql.Query.prototype">module mysql.Query.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.EofPacket" id="apidoc.element.mysql.Query.prototype.EofPacket">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>EofPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  this._resultSet.eofPackets.push(packet);

  if (this._resultSet.eofPackets.length === 1 &amp;&amp; !this._callback) {
    this.emit('fields', this._resultSet.fieldPackets, this._index);
  }

  if (this._resultSet.eofPackets.length !== 2) {
    return;
  }

  if (this._callback) {
    this._results.push(this._resultSet.rows);
    this._fields.push(this._resultSet.fieldPackets);
  }

  this._index++;
  this._resultSet = null;
  this._handleFinalResultPacket(packet);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.ErrorPacket" id="apidoc.element.mysql.Query.prototype.ErrorPacket">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>ErrorPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  var err = this._packetToError(packet);

  var results = (this._results.length &gt; 0)
    ? this._results
    : undefined;

  var fields = (this._fields.length &gt; 0)
    ? this._fields
    : undefined;

  err.index = this._index;
  err.sql   = this.sql;

  this.end(err, results, fields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.FieldPacket" id="apidoc.element.mysql.Query.prototype.FieldPacket">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>FieldPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  this._resultSet.fieldPackets.push(packet);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.OkPacket" id="apidoc.element.mysql.Query.prototype.OkPacket">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>OkPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  // try...finally for exception safety
  try {
    if (!this._callback) {
      this.emit('result', packet, this._index);
    } else {
      this._results.push(packet);
      this._fields.push(undefined);
    }
  } finally {
    this._index++;
    this._resultSet = null;
    this._handleFinalResultPacket(packet);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.ResultSetHeaderPacket" id="apidoc.element.mysql.Query.prototype.ResultSetHeaderPacket">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>ResultSetHeaderPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  if (packet.fieldCount === null) {
    this._sendLocalDataFile(packet.extra);
  } else {
    this._resultSet = new ResultSet(packet);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.RowDataPacket" id="apidoc.element.mysql.Query.prototype.RowDataPacket">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>RowDataPacket
        <span class="apidocSignatureSpan">(packet, parser, connection)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet, parser, connection) {
  packet.parse(parser, this._resultSet.fieldPackets, this.typeCast, this.nestTables, connection);

  if (this._callback) {
    this._resultSet.rows.push(packet);
  } else {
    this.emit('result', packet, this._index);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var Packet     = this._determinePacket(sequence);
var packet     = new Packet({protocol41: this._config.protocol41});
var packetName = Packet.name;

// Special case: Faster dispatch, and parsing done inside sequence
if (Packet === Packets.RowDataPacket) {
  sequence.<span class="apidocCodeKeywordSpan">RowDataPacket</span>(packet, this._parser, this._connection);

  if (this._config.debug) {
    this._debugPacket(true, packet);
  }

  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype._handleFinalResultPacket" id="apidoc.element.mysql.Query.prototype._handleFinalResultPacket">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>_handleFinalResultPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  if (packet.serverStatus &amp; ServerStatus.SERVER_MORE_RESULTS_EXISTS) {
    return;
  }

  var results = (this._results.length &gt; 1)
    ? this._results
    : this._results[0];

  var fields = (this._fields.length &gt; 1)
    ? this._fields
    : this._fields[0];

  this.end(this._loadError, results, fields);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    this._results.push(packet);
    this._fields.push(undefined);
  }
} finally {
  this._index++;
  this._resultSet = null;
  this.<span class="apidocCodeKeywordSpan">_handleFinalResultPacket</span>(packet);
}
};

Query.prototype['ErrorPacket'] = function(packet) {
var err = this._packetToError(packet);

var results = (this._results.length &gt; 0)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype._sendLocalDataFile" id="apidoc.element.mysql.Query.prototype._sendLocalDataFile">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>_sendLocalDataFile
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(path) {
  var self = this;
  var localStream = fs.createReadStream(path, {
    flag      : 'r',
    encoding  : null,
    autoClose : true
  });

  this.on('pause', function () {
    localStream.pause();
  });

  this.on('resume', function () {
    localStream.resume();
  });

  localStream.on('data', function (data) {
    self.emit('packet', new Packets.LocalDataFilePacket(data));
  });

  localStream.on('error', function (err) {
    self._loadError = err;
    localStream.emit('end');
  });

  localStream.on('end', function () {
    self.emit('packet', new Packets.EmptyPacket());
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
err.sql   = this.sql;

this.end(err, results, fields);
};

Query.prototype['ResultSetHeaderPacket'] = function(packet) {
if (packet.fieldCount === null) {
  this.<span class="apidocCodeKeywordSpan">_sendLocalDataFile</span>(packet.extra);
} else {
  this._resultSet = new ResultSet(packet);
}
};

Query.prototype['FieldPacket'] = function(packet) {
this._resultSet.fieldPackets.push(packet);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.determinePacket" id="apidoc.element.mysql.Query.prototype.determinePacket">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>determinePacket
        <span class="apidocSignatureSpan">(byte, parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function determinePacket(byte, parser) {
  var resultSet = this._resultSet;

  if (!resultSet) {
    switch (byte) {
      case 0x00: return Packets.OkPacket;
      case 0xff: return Packets.ErrorPacket;
      default:   return Packets.ResultSetHeaderPacket;
    }
  }

  if (resultSet.eofPackets.length === 0) {
    return (resultSet.fieldPackets.length &lt; resultSet.resultSetHeaderPacket.fieldCount)
      ? Packets.FieldPacket
      : Packets.EofPacket;
  }

  if (byte === 0xff) {
    return Packets.ErrorPacket;
  }

  if (byte === 0xfe &amp;&amp; parser.packetLength() &lt; 9) {
    return Packets.EofPacket;
  }

  return Packets.RowDataPacket;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
};

Protocol.prototype._determinePacket = function(sequence) {
var firstByte = this._parser.peak();

if (sequence.determinePacket) {
  var Packet = sequence.<span class="apidocCodeKeywordSpan">determinePacket</span>(firstByte, this._parser);
  if (Packet) {
    return Packet;
  }
}

switch (firstByte) {
  case 0x00:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.start" id="apidoc.element.mysql.Query.prototype.start">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this.emit('packet', new Packets.ComQueryPacket(this.sql));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._parser.resetPacketNumber();

this._startSequence(sequence);
};

Protocol.prototype._startSequence = function(sequence) {
if (sequence._timeout &gt; 0 &amp;&amp; isFinite(sequence._timeout)) {
  sequence._timer.<span class="apidocCodeKeywordSpan">start</span>(sequence._timeout);
}

if (sequence.constructor === Sequences.ChangeUser) {
  sequence.start(this._handshakeInitializationPacket);
} else {
  sequence.start();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Query.prototype.stream" id="apidoc.element.mysql.Query.prototype.stream">
        function <span class="apidocSignatureSpan">mysql.Query.prototype.</span>stream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(options) {
  var self = this;

  options = options || {};
  options.objectMode = true;

  var stream = new Readable(options);

  stream._read = function() {
    self._connection &amp;&amp; self._connection.resume();
  };

  stream.once('end', function() {
    process.nextTick(function () {
      stream.emit('close');
    });
  });

  this.on('result', function(row, i) {
    if (!stream.push(row)) self._connection.pause();
    stream.emit('result', row, i);  // replicate old emitter
  });

  this.on('error', function(err) {
    stream.emit('error', err);  // Pass on any errors
  });

  this.on('end', function() {
    stream.push(null);  // pushing null, indicating EOF
  });

  this.on('fields', function(fields, i) {
    stream.emit('fields', fields, i);  // replicate old emitter
  });

  return stream;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Additionally you may be interested to know that it is currently not possible to
stream individual row columns, they will always be buffered up entirely. If you
have a good use case for streaming large fields to and from MySQL, I'd love to
get your thoughts and contributions on this.

### Piping results with Streams

The query object provides a convenience method `.<span class="apidocCodeKeywordSpan">stream</span>([options])` that wraps
query events into a [Readable Stream](http://nodejs.org/api/stream.html#stream_class_stream_readable)
object. This stream can easily be piped downstream and provides automatic
pause/resume, based on downstream congestion and the optional `highWaterMark`.
The `objectMode` parameter of the stream is set to `true` and cannot be changed
(if you need a byte stream, you will need to use a transform stream, like
[objstream](https://www.npmjs.com/package/objstream) for example).
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Quit" id="apidoc.module.mysql.Quit">module mysql.Quit</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Quit.Quit" id="apidoc.element.mysql.Quit.Quit">
        function <span class="apidocSignatureSpan">mysql.</span>Quit
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Quit(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  Sequence.call(this, options, callback);

  this._started = false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Protocol.prototype.quit = function quit(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  var self     = this;
  var sequence = this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Quit</span>(options, callback));

  sequence.on('end', function () {
    self.end();
  });

  return this._quitSequence = sequence;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Quit.super_" id="apidoc.element.mysql.Quit.super_">
        function <span class="apidocSignatureSpan">mysql.Quit.</span>super_
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Sequence(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  EventEmitter.call(this);

  options = options || {};

  this._callback = callback;
  this._callSite = null;
  this._ended    = false;
  this._timeout  = options.timeout;
  this._timer    = new Timer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Quit.prototype" id="apidoc.module.mysql.Quit.prototype">module mysql.Quit.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Quit.prototype.end" id="apidoc.element.mysql.Quit.prototype.end">
        function <span class="apidocSignatureSpan">mysql.Quit.prototype.</span>end
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function end(err) {
  if (this._ended) {
    return;
  }

  if (!this._started) {
    Sequence.prototype.end.call(this, err);
    return;
  }

  if (err &amp;&amp; err.code === 'ECONNRESET' &amp;&amp; err.syscall === 'read') {
    // Ignore read errors after packet sent
    Sequence.prototype.end.call(this);
    return;
  }

  Sequence.prototype.end.call(this, err);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

connection.query('SELECT 1', function(err, rows) {
  if (err) throw err;

  console.log('Query result: ', rows);
});

connection.<span class="apidocCodeKeywordSpan">end</span>();
```

The new `Connection` class does not try to handle re-connects, please study the
`Server disconnects` section in the new Readme.

Other than that, the interface has stayed very similar. Here are a few things
to check out so:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Quit.prototype.start" id="apidoc.element.mysql.Quit.prototype.start">
        function <span class="apidocSignatureSpan">mysql.Quit.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this._started = true;
  this.emit('packet', new Packets.ComQuitPacket());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._parser.resetPacketNumber();

this._startSequence(sequence);
};

Protocol.prototype._startSequence = function(sequence) {
if (sequence._timeout &gt; 0 &amp;&amp; isFinite(sequence._timeout)) {
  sequence._timer.<span class="apidocCodeKeywordSpan">start</span>(sequence._timeout);
}

if (sequence.constructor === Sequences.ChangeUser) {
  sequence.start(this._handshakeInitializationPacket);
} else {
  sequence.start();
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ResultSetHeaderPacket" id="apidoc.module.mysql.ResultSetHeaderPacket">module mysql.ResultSetHeaderPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ResultSetHeaderPacket.ResultSetHeaderPacket" id="apidoc.element.mysql.ResultSetHeaderPacket.ResultSetHeaderPacket">
        function <span class="apidocSignatureSpan">mysql.</span>ResultSetHeaderPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResultSetHeaderPacket(options) {
  options = options || {};

  this.fieldCount = options.fieldCount;
  this.extra      = options.extra;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.ResultSetHeaderPacket.prototype" id="apidoc.module.mysql.ResultSetHeaderPacket.prototype">module mysql.ResultSetHeaderPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.ResultSetHeaderPacket.prototype.parse" id="apidoc.element.mysql.ResultSetHeaderPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.ResultSetHeaderPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.fieldCount = parser.parseLengthCodedNumber();

  if (parser.reachedPacketEnd()) return;

  this.extra = (this.fieldCount === null)
    ? parser.parsePacketTerminatedString()
    : parser.parseLengthCodedNumber();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.ResultSetHeaderPacket.prototype.write" id="apidoc.element.mysql.ResultSetHeaderPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.ResultSetHeaderPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeLengthCodedNumber(this.fieldCount);

  if (this.extra !== undefined) {
    writer.writeLengthCodedNumber(this.extra);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.SSLRequestPacket" id="apidoc.module.mysql.SSLRequestPacket">module mysql.SSLRequestPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.SSLRequestPacket.SSLRequestPacket" id="apidoc.element.mysql.SSLRequestPacket.SSLRequestPacket">
        function <span class="apidocSignatureSpan">mysql.</span>SSLRequestPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SSLRequestPacket(options) {
  options = options || {};
  this.clientFlags   = options.clientFlags | ClientConstants.CLIENT_SSL;
  this.maxPacketSize = options.maxPacketSize;
  this.charsetNumber = options.charsetNumber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    err.fatal = true;

    this.end(err);
    return;
  }

  this._config.clientFlags |= ClientConstants.CLIENT_SSL;
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">SSLRequestPacket</span>({
    clientFlags   : this._config.clientFlags,
    maxPacketSize : this._config.maxPacketSize,
    charsetNumber : this._config.charsetNumber
  }));
  this.emit('start-tls');
} else {
  this._sendCredentials();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.SSLRequestPacket.prototype" id="apidoc.module.mysql.SSLRequestPacket.prototype">module mysql.SSLRequestPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.SSLRequestPacket.prototype.parse" id="apidoc.element.mysql.SSLRequestPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.SSLRequestPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  // TODO: check SSLRequest packet v41 vs pre v41
  this.clientFlags   = parser.parseUnsignedNumber(4);
  this.maxPacketSize = parser.parseUnsignedNumber(4);
  this.charsetNumber = parser.parseUnsignedNumber(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SSLRequestPacket.prototype.write" id="apidoc.element.mysql.SSLRequestPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.SSLRequestPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(4, this.clientFlags);
  writer.writeUnsignedNumber(4, this.maxPacketSize);
  writer.writeUnsignedNumber(1, this.charsetNumber);
  writer.writeFiller(23);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Sequence" id="apidoc.module.mysql.Sequence">module mysql.Sequence</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Sequence.Sequence" id="apidoc.element.mysql.Sequence.Sequence">
        function <span class="apidocSignatureSpan">mysql.</span>Sequence
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Sequence(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  EventEmitter.call(this);

  options = options || {};

  this._callback = callback;
  this._callSite = null;
  this._ended    = false;
  this._timeout  = options.timeout;
  this._timer    = new Timer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.determinePacket" id="apidoc.element.mysql.Sequence.determinePacket">
        function <span class="apidocSignatureSpan">mysql.Sequence.</span>determinePacket
        <span class="apidocSignatureSpan">(byte)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(byte) {
  switch (byte) {
    case 0x00: return Packets.OkPacket;
    case 0xfe: return Packets.EofPacket;
    case 0xff: return Packets.ErrorPacket;
    default:   return undefined;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
};

Protocol.prototype._determinePacket = function(sequence) {
var firstByte = this._parser.peak();

if (sequence.determinePacket) {
  var Packet = sequence.<span class="apidocCodeKeywordSpan">determinePacket</span>(firstByte, this._parser);
  if (Packet) {
    return Packet;
  }
}

switch (firstByte) {
  case 0x00:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.super_" id="apidoc.element.mysql.Sequence.super_">
        function <span class="apidocSignatureSpan">mysql.Sequence.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Sequence.prototype" id="apidoc.module.mysql.Sequence.prototype">module mysql.Sequence.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Sequence.prototype.ErrorPacket" id="apidoc.element.mysql.Sequence.prototype.ErrorPacket">
        function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>ErrorPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  this.end(this._packetToError(packet));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.prototype.OkPacket" id="apidoc.element.mysql.Sequence.prototype.OkPacket">
        function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>OkPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  this.end(null, packet);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.prototype._addLongStackTrace" id="apidoc.element.mysql.Sequence.prototype._addLongStackTrace">
        function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>_addLongStackTrace
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _addLongStackTrace(err) {
  var callSiteStack = this._callSite &amp;&amp; this._callSite.stack;

  if (!callSiteStack || typeof callSiteStack !== 'string') {
    // No recorded call site
    return;
  }

  if (err.stack.indexOf(LONG_STACK_DELIMITER) !== -1) {
    // Error stack already looks long
    return;
  }

  var index = callSiteStack.indexOf('\n');

  if (index !== -1) {
    // Append recorded call site
    err.stack += LONG_STACK_DELIMITER + callSiteStack.substr(index + 1);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (this._ended) {
  return;
}

this._ended = true;

if (err) {
  this.<span class="apidocCodeKeywordSpan">_addLongStackTrace</span>(err);
}

// Without this we are leaking memory. This problem was introduced in
// 8189925374e7ce3819bbe88b64c7b15abac96b16. I suspect that the error object
// causes a cyclic reference that the GC does not detect properly, but I was
// unable to produce a standalone version of this leak. This would be a great
// challenge for somebody interested in difficult problems : )!
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.prototype._onTimeout" id="apidoc.element.mysql.Sequence.prototype._onTimeout">
        function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>_onTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _onTimeout() {
  this.emit('timeout');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this._timeout) {
    Timers.clearTimeout(this._timeout);
    this._timeout = null;
  }
};

Timer.prototype._onTimeout = function _onTimeout() {
  return this._object.<span class="apidocCodeKeywordSpan">_onTimeout</span>();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.prototype._packetToError" id="apidoc.element.mysql.Sequence.prototype._packetToError">
        function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>_packetToError
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(packet) {
  var code = ErrorConstants[packet.errno] || 'UNKNOWN_CODE_PLEASE_REPORT';
  var err  = new Error(code + ': ' + packet.message);
  err.code = code;
  err.errno = packet.errno;

  err.sqlMessage = packet.message;
  err.sqlState   = packet.sqlState;

  return err;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._currentConfig.database      = this._database;
  this._currentConfig.charsetNumber = this._charsetNumber;

  this.emit('packet', packet);
};

ChangeUser.prototype['ErrorPacket'] = function(packet) {
  var err = this.<span class="apidocCodeKeywordSpan">_packetToError</span>(packet);
  err.fatal = true;
  this.end(err);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.prototype.end" id="apidoc.element.mysql.Sequence.prototype.end">
        function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>end
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(err) {
  if (this._ended) {
    return;
  }

  this._ended = true;

  if (err) {
    this._addLongStackTrace(err);
  }

  // Without this we are leaking memory. This problem was introduced in
  // 8189925374e7ce3819bbe88b64c7b15abac96b16. I suspect that the error object
  // causes a cyclic reference that the GC does not detect properly, but I was
  // unable to produce a standalone version of this leak. This would be a great
  // challenge for somebody interested in difficult problems : )!
  this._callSite = null;

  // try...finally for exception safety
  try {
    if (err) {
      this.emit('error', err);
    }
  } finally {
    try {
      if (this._callback) {
        this._callback.apply(this, arguments);
      }
    } finally {
      this.emit('end');
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

connection.query('SELECT 1', function(err, rows) {
  if (err) throw err;

  console.log('Query result: ', rows);
});

connection.<span class="apidocCodeKeywordSpan">end</span>();
```

The new `Connection` class does not try to handle re-connects, please study the
`Server disconnects` section in the new Readme.

Other than that, the interface has stayed very similar. Here are a few things
to check out so:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.prototype.hasErrorHandler" id="apidoc.element.mysql.Sequence.prototype.hasErrorHandler">
        function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>hasErrorHandler
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  return Boolean(this._callback) || listenerCount(this, 'error') &gt; 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (err.fatal) {
  this.emit('end', err);
}
};

Protocol.prototype._shouldErrorBubbleUp = function(err, sequence) {
if (sequence) {
  if (sequence.<span class="apidocCodeKeywordSpan">hasErrorHandler</span>()) {
    return false;
  } else if (!err.fatal) {
    return true;
  }
}

return (err.fatal &amp;&amp; !this._hasPendingErrorHandlers());
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Sequence.prototype.start" id="apidoc.element.mysql.Sequence.prototype.start">
        function <span class="apidocSignatureSpan">mysql.Sequence.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._parser.resetPacketNumber();

this._startSequence(sequence);
};

Protocol.prototype._startSequence = function(sequence) {
if (sequence._timeout &gt; 0 &amp;&amp; isFinite(sequence._timeout)) {
  sequence._timer.<span class="apidocCodeKeywordSpan">start</span>(sequence._timeout);
}

if (sequence.constructor === Sequences.ChangeUser) {
  sequence.start(this._handshakeInitializationPacket);
} else {
  sequence.start();
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.SqlString" id="apidoc.module.mysql.SqlString">module mysql.SqlString</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.SqlString.arrayToList" id="apidoc.element.mysql.SqlString.arrayToList">
        function <span class="apidocSignatureSpan">mysql.SqlString.</span>arrayToList
        <span class="apidocSignatureSpan">(array, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function arrayToList(array, timeZone) {
  var sql = '';

  for (var i = 0; i &lt; array.length; i++) {
    var val = array[i];

    if (Array.isArray(val)) {
      sql += (i === 0 ? '' : ', ') + '(' + SqlString.arrayToList(val, timeZone) + ')';
    } else {
      sql += (i === 0 ? '' : ', ') + SqlString.escape(val, true, timeZone);
    }
  }

  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SqlString.bufferToString" id="apidoc.element.mysql.SqlString.bufferToString">
        function <span class="apidocSignatureSpan">mysql.SqlString.</span>bufferToString
        <span class="apidocSignatureSpan">(buffer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function bufferToString(buffer) {
  return 'X' + escapeString(buffer.toString('hex'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SqlString.dateToString" id="apidoc.element.mysql.SqlString.dateToString">
        function <span class="apidocSignatureSpan">mysql.SqlString.</span>dateToString
        <span class="apidocSignatureSpan">(date, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function dateToString(date, timeZone) {
  var dt = new Date(date);

  if (isNaN(dt.getTime())) {
    return 'NULL';
  }

  var year;
  var month;
  var day;
  var hour;
  var minute;
  var second;
  var millisecond;

  if (timeZone === 'local') {
    year        = dt.getFullYear();
    month       = dt.getMonth() + 1;
    day         = dt.getDate();
    hour        = dt.getHours();
    minute      = dt.getMinutes();
    second      = dt.getSeconds();
    millisecond = dt.getMilliseconds();
  } else {
    var tz = convertTimezone(timeZone);

    if (tz !== false &amp;&amp; tz !== 0) {
      dt.setTime(dt.getTime() + (tz * 60000));
    }

    year       = dt.getUTCFullYear();
    month       = dt.getUTCMonth() + 1;
    day         = dt.getUTCDate();
    hour        = dt.getUTCHours();
    minute      = dt.getUTCMinutes();
    second      = dt.getUTCSeconds();
    millisecond = dt.getUTCMilliseconds();
  }

  // YYYY-MM-DD HH:mm:ss.mmm
  var str = zeroPad(year, 4) + '-' + zeroPad(month, 2) + '-' + zeroPad(day, 2) + ' ' +
    zeroPad(hour, 2) + ':' + zeroPad(minute, 2) + ':' + zeroPad(second, 2) + '.' +
    zeroPad(millisecond, 3);

  return escapeString(str);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SqlString.escape" id="apidoc.element.mysql.SqlString.escape">
        function <span class="apidocSignatureSpan">mysql.SqlString.</span>escape
        <span class="apidocSignatureSpan">(val, stringifyObjects, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escape(val, stringifyObjects, timeZone) {
  if (val === undefined || val === null) {
    return 'NULL';
  }

  switch (typeof val) {
    case 'boolean': return (val) ? 'true' : 'false';
    case 'number': return val + '';
    case 'object':
      if (val instanceof Date) {
        return SqlString.dateToString(val, timeZone || 'local');
      } else if (Array.isArray(val)) {
        return SqlString.arrayToList(val, timeZone);
      } else if (Buffer.isBuffer(val)) {
        return SqlString.bufferToString(val);
      } else if (typeof val.toSqlString === 'function') {
        return String(val.toSqlString());
      } else if (stringifyObjects) {
        return escapeString(val.toString());
      } else {
        return SqlString.objectToValues(val, timeZone);
      }
    default: return escapeString(val);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## v2.0.0-alpha5 (2012-12-03)

* Add mysql.escapeId to escape identifiers (closes #342)
* Allow custom escaping mode (config.queryFormat)
* Convert DATE columns to configured timezone instead of UTC (#332)
* Convert LONGLONG and NEWDECIMAL to numbers (#333)
* Fix Connection.<span class="apidocCodeKeywordSpan">escape</span>() (fixes #330)
* Changed Readme ambiguity about custom type cast fallback
* Change typeCast to receive Connection instead of Connection.config.timezone
* Fix drain event having useless err parameter
* Add Connection.statistics() back from v0.9
* Add Connection.ping() back from v0.9

## v2.0.0-alpha4 (2012-10-03)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SqlString.escapeId" id="apidoc.element.mysql.SqlString.escapeId">
        function <span class="apidocSignatureSpan">mysql.SqlString.</span>escapeId
        <span class="apidocSignatureSpan">(val, forbidQualified)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escapeId(val, forbidQualified) {
  if (Array.isArray(val)) {
    var sql = '';

    for (var i = 0; i &lt; val.length; i++) {
      sql += (i === 0 ? '' : ', ') + SqlString.escapeId(val[i], forbidQualified);
    }

    return sql;
  } else if (forbidQualified) {
    return '`' + String(val).replace(ID_GLOBAL_REGEXP, '``') + '`';
  } else {
    return '`' + String(val).replace(ID_GLOBAL_REGEXP, '``').replace(QUAL_GLOBAL_REGEXP, '`.`') + '`';
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {boolean} [forbidQualified=false] Setting to treat '.' as part of identifier
* @return {string} Escaped string value
* @public
*/
exports.escapeId = function escapeId(value, forbidQualified) {
 var SqlString = loadClass('SqlString');

 return SqlString.<span class="apidocCodeKeywordSpan">escapeId</span>(value, forbidQualified);
};

/**
* Format SQL and replacement values into a SQL string.
* @param {string} sql The SQL for the query
* @param {array} [values] Any values to insert into placeholders in sql
* @param {boolean} [stringifyObjects=false] Setting if objects should be stringified
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SqlString.format" id="apidoc.element.mysql.SqlString.format">
        function <span class="apidocSignatureSpan">mysql.SqlString.</span>format
        <span class="apidocSignatureSpan">(sql, values, stringifyObjects, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function format(sql, values, stringifyObjects, timeZone) {
  if (values == null) {
    return sql;
  }

  if (!(values instanceof Array || Array.isArray(values))) {
    values = [values];
  }

  var chunkIndex        = 0;
  var placeholdersRegex = /\?+/g;
  var result            = '';
  var valuesIndex       = 0;
  var match;

  while (valuesIndex &lt; values.length &amp;&amp; (match = placeholdersRegex.exec(sql))) {
    var len = match[0].length;

    if (len &gt; 2) {
      continue;
    }

    var value = len === 2
      ? SqlString.escapeId(values[valuesIndex])
      : SqlString.escape(values[valuesIndex], stringifyObjects, timeZone);

    result += sql.slice(chunkIndex, match.index) + value;
    chunkIndex = placeholdersRegex.lastIndex;
    valuesIndex++;
  }

  if (chunkIndex === 0) {
    // Nothing was replaced
    return sql;
  }

  if (chunkIndex &lt; sql.length) {
    return result + sql.slice(chunkIndex);
  }

  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

* Streaming LOAD DATA LOCAL INFILE #668
* Doc improvements

## v2.0.0-rc1 (2013-11-30)

* Transaction support
* Expose SqlString.format as mysql.<span class="apidocCodeKeywordSpan">format</span>()
* Many bug fixes
* Better support for dates in local time zone
* Doc improvements

## v2.0.0-alpha9 (2013-08-27)

* Add query to pool to execute queries directly using the pool
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SqlString.objectToValues" id="apidoc.element.mysql.SqlString.objectToValues">
        function <span class="apidocSignatureSpan">mysql.SqlString.</span>objectToValues
        <span class="apidocSignatureSpan">(object, timeZone)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function objectToValues(object, timeZone) {
  var sql = '';

  for (var key in object) {
    var val = object[key];

    if (typeof val === 'function') {
      continue;
    }

    sql += (sql.length === 0 ? '' : ', ') + SqlString.escapeId(key) + ' = ' + SqlString.escape(val, true, timeZone);
  }

  return sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.SqlString.raw" id="apidoc.element.mysql.SqlString.raw">
        function <span class="apidocSignatureSpan">mysql.SqlString.</span>raw
        <span class="apidocSignatureSpan">(sql)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function raw(sql) {
  if (typeof sql !== 'string') {
    throw new TypeError('argument sql must be a string');
  }

  return {
    toSqlString: function toSqlString() { return sql; }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Update `sqlstring` to 2.3.1
- Fix incorrectly replacing non-placeholders in SQL

## v2.15.0 (2017-10-05)

* Add new Amazon RDS ca-central-1 certificate CA to Amazon RDS SSL profile #1809
* Add new error codes up to MySQL 5.7.19
* Add `mysql.<span class="apidocCodeKeywordSpan">raw</span>()` to generate pre-escaped values #877 #1821
* Fix "changedRows" to work on non-English servers #1819
* Fix error when server sends RST on `QUIT` #1811
* Fix typo in insecure auth error message
* Support `mysql_native_password` auth switch request for Azure #1396 #1729 #1730
* Update `sqlstring` to 2.3.0
- Add `.toSqlString()` escape overriding
- Small performance improvement on `escapeId`
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Statistics" id="apidoc.module.mysql.Statistics">module mysql.Statistics</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Statistics.Statistics" id="apidoc.element.mysql.Statistics.Statistics">
        function <span class="apidocSignatureSpan">mysql.</span>Statistics
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Statistics(options, callback) {
  if (!callback &amp;&amp; typeof options === 'function') {
    callback = options;
    options = {};
  }

  Sequence.call(this, options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Protocol.prototype.stats = function stats(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}

return this._enqueue(new Sequences.<span class="apidocCodeKeywordSpan">Statistics</span>(options, callback));
};

Protocol.prototype.quit = function quit(options, callback) {
if (typeof options === 'function') {
  callback = options;
  options = {};
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Statistics.super_" id="apidoc.element.mysql.Statistics.super_">
        function <span class="apidocSignatureSpan">mysql.Statistics.</span>super_
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Sequence(options, callback) {
  if (typeof options === 'function') {
    callback = options;
    options = {};
  }

  EventEmitter.call(this);

  options = options || {};

  this._callback = callback;
  this._callSite = null;
  this._ended    = false;
  this._timeout  = options.timeout;
  this._timer    = new Timer(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Statistics.prototype" id="apidoc.module.mysql.Statistics.prototype">module mysql.Statistics.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Statistics.prototype.StatisticsPacket" id="apidoc.element.mysql.Statistics.prototype.StatisticsPacket">
        function <span class="apidocSignatureSpan">mysql.Statistics.prototype.</span>StatisticsPacket
        <span class="apidocSignatureSpan">(packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">StatisticsPacket = function (packet) {
  this.end(null, packet);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Statistics.prototype.determinePacket" id="apidoc.element.mysql.Statistics.prototype.determinePacket">
        function <span class="apidocSignatureSpan">mysql.Statistics.prototype.</span>determinePacket
        <span class="apidocSignatureSpan">(firstByte)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function determinePacket(firstByte) {
  if (firstByte === 0x55) {
    return Packets.StatisticsPacket;
  }

  return undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
};

Protocol.prototype._determinePacket = function(sequence) {
var firstByte = this._parser.peak();

if (sequence.determinePacket) {
  var Packet = sequence.<span class="apidocCodeKeywordSpan">determinePacket</span>(firstByte, this._parser);
  if (Packet) {
    return Packet;
  }
}

switch (firstByte) {
  case 0x00:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Statistics.prototype.start" id="apidoc.element.mysql.Statistics.prototype.start">
        function <span class="apidocSignatureSpan">mysql.Statistics.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function() {
  this.emit('packet', new Packets.ComStatisticsPacket());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._parser.resetPacketNumber();

this._startSequence(sequence);
};

Protocol.prototype._startSequence = function(sequence) {
if (sequence._timeout &gt; 0 &amp;&amp; isFinite(sequence._timeout)) {
  sequence._timer.<span class="apidocCodeKeywordSpan">start</span>(sequence._timeout);
}

if (sequence.constructor === Sequences.ChangeUser) {
  sequence.start(this._handshakeInitializationPacket);
} else {
  sequence.start();
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.StatisticsPacket" id="apidoc.module.mysql.StatisticsPacket">module mysql.StatisticsPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.StatisticsPacket.StatisticsPacket" id="apidoc.element.mysql.StatisticsPacket.StatisticsPacket">
        function <span class="apidocSignatureSpan">mysql.</span>StatisticsPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StatisticsPacket() {
  this.message      = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.StatisticsPacket.prototype" id="apidoc.module.mysql.StatisticsPacket.prototype">module mysql.StatisticsPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.StatisticsPacket.prototype.parse" id="apidoc.element.mysql.StatisticsPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.StatisticsPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.message      = parser.parsePacketTerminatedString();

  var items = this.message.split(/\s\s/);
  for (var i = 0; i &lt; items.length; i++) {
    var m = items[i].match(/^(.+)\:\s+(.+)$/);
    if (m !== null) {
      this[m[1].toLowerCase().replace(/\s/g, '_')] = Number(m[2]);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.StatisticsPacket.prototype.write" id="apidoc.element.mysql.StatisticsPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.StatisticsPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeString(this.message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Timer" id="apidoc.module.mysql.Timer">module mysql.Timer</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Timer.Timer" id="apidoc.element.mysql.Timer.Timer">
        function <span class="apidocSignatureSpan">mysql.</span>Timer
        <span class="apidocSignatureSpan">(object)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Timer(object) {
  this._object  = object;
  this._timeout = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.Timer.prototype" id="apidoc.module.mysql.Timer.prototype">module mysql.Timer.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.Timer.prototype._onTimeout" id="apidoc.element.mysql.Timer.prototype._onTimeout">
        function <span class="apidocSignatureSpan">mysql.Timer.prototype.</span>_onTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _onTimeout() {
  return this._object._onTimeout();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this._timeout) {
    Timers.clearTimeout(this._timeout);
    this._timeout = null;
  }
};

Timer.prototype._onTimeout = function _onTimeout() {
  return this._object.<span class="apidocCodeKeywordSpan">_onTimeout</span>();
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Timer.prototype.active" id="apidoc.element.mysql.Timer.prototype.active">
        function <span class="apidocSignatureSpan">mysql.Timer.prototype.</span>active
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function active() {
  if (this._timeout) {
    if (this._timeout.refresh) {
      this._timeout.refresh();
    } else {
      Timers.active(this._timeout);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var self = this;
sequence
  .on('error', function(err) {
    self._delegateError(err, sequence);
  })
  .on('packet', function(packet) {
    sequence._timer.<span class="apidocCodeKeywordSpan">active</span>();
    self._emitPacket(packet);
  })
  .on('end', function() {
    self._dequeue(sequence);
  })
  .on('timeout', function() {
    var err = new Error(sequence.constructor.name + ' inactivity timeout');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Timer.prototype.start" id="apidoc.element.mysql.Timer.prototype.start">
        function <span class="apidocSignatureSpan">mysql.Timer.prototype.</span>start
        <span class="apidocSignatureSpan">(msecs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function start(msecs) {
  this.stop();
  this._timeout = Timers.setTimeout(this._onTimeout.bind(this), msecs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._parser.resetPacketNumber();

this._startSequence(sequence);
};

Protocol.prototype._startSequence = function(sequence) {
if (sequence._timeout &gt; 0 &amp;&amp; isFinite(sequence._timeout)) {
  sequence._timer.<span class="apidocCodeKeywordSpan">start</span>(sequence._timeout);
}

if (sequence.constructor === Sequences.ChangeUser) {
  sequence.start(this._handshakeInitializationPacket);
} else {
  sequence.start();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.Timer.prototype.stop" id="apidoc.element.mysql.Timer.prototype.stop">
        function <span class="apidocSignatureSpan">mysql.Timer.prototype.</span>stop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stop() {
  if (this._timeout) {
    Timers.clearTimeout(this._timeout);
    this._timeout = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  case 0xff: return Packets.ErrorPacket;
}

throw new Error('Could not determine packet, firstByte = ' + firstByte);
};

Protocol.prototype._dequeue = function(sequence) {
sequence._timer.<span class="apidocCodeKeywordSpan">stop</span>();

// No point in advancing the queue, we are dead
if (this._fatalError) {
  return;
}

this._queue.shift();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.UseOldPasswordPacket" id="apidoc.module.mysql.UseOldPasswordPacket">module mysql.UseOldPasswordPacket</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.UseOldPasswordPacket.UseOldPasswordPacket" id="apidoc.element.mysql.UseOldPasswordPacket.UseOldPasswordPacket">
        function <span class="apidocSignatureSpan">mysql.</span>UseOldPasswordPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UseOldPasswordPacket(options) {
  options = options || {};

  this.firstByte = options.firstByte || 0xfe;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.UseOldPasswordPacket.prototype" id="apidoc.module.mysql.UseOldPasswordPacket.prototype">module mysql.UseOldPasswordPacket.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.UseOldPasswordPacket.prototype.parse" id="apidoc.element.mysql.UseOldPasswordPacket.prototype.parse">
        function <span class="apidocSignatureSpan">mysql.UseOldPasswordPacket.prototype.</span>parse
        <span class="apidocSignatureSpan">(parser)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(parser) {
  this.firstByte = parser.parseUnsignedNumber(1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (url.query) {
  for (var key in url.query) {
    var value = url.query[key];

    try {
      // Try to parse this as a JSON expression first
      options[key] = JSON.<span class="apidocCodeKeywordSpan">parse</span>(value);
    } catch (err) {
      // Otherwise assume it is a plain string
      options[key] = value;
    }
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.UseOldPasswordPacket.prototype.write" id="apidoc.element.mysql.UseOldPasswordPacket.prototype.write">
        function <span class="apidocSignatureSpan">mysql.UseOldPasswordPacket.prototype.</span>write
        <span class="apidocSignatureSpan">(writer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function(writer) {
  writer.writeUnsignedNumber(1, this.firstByte);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Connect socket to connection domain
if (Events.usingDomains) {
  this._socket.domain = this.domain;
}

var connection = this;
this._protocol.on('data', function(data) {
  connection._socket.<span class="apidocCodeKeywordSpan">write</span>(data);
});
this._socket.on('data', wrapToDomain(connection, function (data) {
  connection._protocol.write(data);
}));
this._protocol.on('end', function() {
  connection._socket.end();
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.mysql.index" id="apidoc.module.mysql.index">module mysql.index</a></h1>


    <h2>
        <a href="#apidoc.element.mysql.index.AuthSwitchRequestPacket" id="apidoc.element.mysql.index.AuthSwitchRequestPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>AuthSwitchRequestPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AuthSwitchRequestPacket(options) {
  options = options || {};

  this.status         = 0xfe;
  this.authMethodName = options.authMethodName;
  this.authMethodData = options.authMethodData;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.AuthSwitchResponsePacket" id="apidoc.element.mysql.index.AuthSwitchResponsePacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>AuthSwitchResponsePacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AuthSwitchResponsePacket(options) {
  options = options || {};

  this.data = options.data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
return undefined;
};

Handshake.prototype['AuthSwitchRequestPacket'] = function (packet) {
if (packet.authMethodName === 'mysql_native_password') {
  var challenge = packet.authMethodData.slice(0, 20);

  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">AuthSwitchResponsePacket</span>({
    data: Auth.token(this._config.password, challenge)
  }));
} else {
  var err = new Error(
    'MySQL is requesting the ' + packet.authMethodName + ' authentication method, which is not supported.'
  );
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.ClientAuthenticationPacket" id="apidoc.element.mysql.index.ClientAuthenticationPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>ClientAuthenticationPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ClientAuthenticationPacket(options) {
  options = options || {};

  this.clientFlags   = options.clientFlags;
  this.maxPacketSize = options.maxPacketSize;
  this.charsetNumber = options.charsetNumber;
  this.filler        = undefined;
  this.user          = options.user;
  this.scrambleBuff  = options.scrambleBuff;
  this.database      = options.database;
  this.protocol41    = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Handshake.prototype._tlsUpgradeCompleteHandler = function() {
this._sendCredentials();
};

Handshake.prototype._sendCredentials = function() {
var packet = this._handshakeInitializationPacket;
this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ClientAuthenticationPacket</span>({
  clientFlags   : this._config.clientFlags,
  maxPacketSize : this._config.maxPacketSize,
  charsetNumber : this._config.charsetNumber,
  user          : this._config.user,
  database      : this._config.database,
  protocol41    : packet.protocol41,
  scrambleBuff  : (packet.protocol41)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.ComChangeUserPacket" id="apidoc.element.mysql.index.ComChangeUserPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>ComChangeUserPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComChangeUserPacket(options) {
  options = options || {};

  this.command       = 0x11;
  this.user          = options.user;
  this.scrambleBuff  = options.scrambleBuff;
  this.database      = options.database;
  this.charsetNumber = options.charsetNumber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._currentConfig = options.currentConfig;
}

ChangeUser.prototype.start = function(handshakeInitializationPacket) {
var scrambleBuff = handshakeInitializationPacket.scrambleBuff();
scrambleBuff     = Auth.token(this._password, scrambleBuff);

var packet = new Packets.<span class="apidocCodeKeywordSpan">ComChangeUserPacket</span>({
  user          : this._user,
  scrambleBuff  : scrambleBuff,
  database      : this._database,
  charsetNumber : this._charsetNumber
});

this._currentConfig.user          = this._user;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.ComPingPacket" id="apidoc.element.mysql.index.ComPingPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>ComPingPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComPingPacket() {
  this.command = 0x0e;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    options = {};
  }

  Sequence.call(this, options, callback);
}

Ping.prototype.start = function() {
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComPingPacket</span>());
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.ComQueryPacket" id="apidoc.element.mysql.index.ComQueryPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>ComQueryPacket
        <span class="apidocSignatureSpan">(sql)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComQueryPacket(sql) {
  this.command = 0x03;
  this.sql     = sql;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._results   = [];
this._fields    = [];
this._index     = 0;
this._loadError = null;
}

Query.prototype.start = function() {
this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComQueryPacket</span>(this.sql));
};

Query.prototype.determinePacket = function determinePacket(byte, parser) {
var resultSet = this._resultSet;

if (!resultSet) {
  switch (byte) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.ComQuitPacket" id="apidoc.element.mysql.index.ComQuitPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>ComQuitPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComQuitPacket() {
  this.command = 0x01;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  Sequence.prototype.end.call(this, err);
};

Quit.prototype.start = function() {
  this._started = true;
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComQuitPacket</span>());
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.ComStatisticsPacket" id="apidoc.element.mysql.index.ComStatisticsPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>ComStatisticsPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ComStatisticsPacket() {
  this.command = 0x09;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    options = {};
  }

  Sequence.call(this, options, callback);
}

Statistics.prototype.start = function() {
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">ComStatisticsPacket</span>());
};

Statistics.prototype['StatisticsPacket'] = function (packet) {
  this.end(null, packet);
};

Statistics.prototype.determinePacket = function determinePacket(firstByte) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.EmptyPacket" id="apidoc.element.mysql.index.EmptyPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>EmptyPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EmptyPacket() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

localStream.on('error', function (err) {
  self._loadError = err;
  localStream.emit('end');
});

localStream.on('end', function () {
  self.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">EmptyPacket</span>());
});
};

Query.prototype.stream = function(options) {
var self = this;

options = options || {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.EofPacket" id="apidoc.element.mysql.index.EofPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>EofPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EofPacket(options) {
  options = options || {};

  this.fieldCount   = undefined;
  this.warningCount = options.warningCount;
  this.serverStatus = options.serverStatus;
  this.protocol41   = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.ErrorPacket" id="apidoc.element.mysql.index.ErrorPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>ErrorPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ErrorPacket(options) {
  options = options || {};

  this.fieldCount     = options.fieldCount;
  this.errno          = options.errno;
  this.sqlStateMarker = options.sqlStateMarker;
  this.sqlState       = options.sqlState;
  this.message        = options.message;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.Field" id="apidoc.element.mysql.index.Field">
        function <span class="apidocSignatureSpan">mysql.index.</span>Field
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Field(options) {
  options = options || {};

  this.parser = options.parser;
  this.packet = options.packet;
  this.db     = options.packet.db;
  this.table  = options.packet.table;
  this.name   = options.packet.name;
  this.type   = typeToString(options.packet.type);
  this.length = options.packet.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.FieldPacket" id="apidoc.element.mysql.index.FieldPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>FieldPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function FieldPacket(options) {
  options = options || {};

  this.catalog    = options.catalog;
  this.db         = options.db;
  this.table      = options.table;
  this.orgTable   = options.orgTable;
  this.name       = options.name;
  this.orgName    = options.orgName;
  this.charsetNr  = options.charsetNr;
  this.length     = options.length;
  this.type       = options.type;
  this.flags      = options.flags;
  this.decimals   = options.decimals;
  this.default    = options.default;
  this.zeroFill   = options.zeroFill;
  this.protocol41 = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.HandshakeInitializationPacket" id="apidoc.element.mysql.index.HandshakeInitializationPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>HandshakeInitializationPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HandshakeInitializationPacket(options) {
  options = options || {};

  this.protocolVersion     = options.protocolVersion;
  this.serverVersion       = options.serverVersion;
  this.threadId            = options.threadId;
  this.scrambleBuff1       = options.scrambleBuff1;
  this.filler1             = options.filler1;
  this.serverCapabilities1 = options.serverCapabilities1;
  this.serverLanguage      = options.serverLanguage;
  this.serverStatus        = options.serverStatus;
  this.serverCapabilities2 = options.serverCapabilities2;
  this.scrambleLength      = options.scrambleLength;
  this.filler2             = options.filler2;
  this.scrambleBuff2       = options.scrambleBuff2;
  this.filler3             = options.filler3;
  this.pluginData          = options.pluginData;
  this.protocol41          = options.protocol41;

  if (this.protocol41) {
    // force set the bit in serverCapabilities1
    this.serverCapabilities1 |= Client.CLIENT_PROTOCOL_41;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.LocalDataFilePacket" id="apidoc.element.mysql.index.LocalDataFilePacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>LocalDataFilePacket
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function LocalDataFilePacket(data) {
  this.data = data;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

this.on('resume', function () {
  localStream.resume();
});

localStream.on('data', function (data) {
  self.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">LocalDataFilePacket</span>(data));
});

localStream.on('error', function (err) {
  self._loadError = err;
  localStream.emit('end');
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.OkPacket" id="apidoc.element.mysql.index.OkPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>OkPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OkPacket(options) {
  options = options || {};

  this.fieldCount   = undefined;
  this.affectedRows = undefined;
  this.insertId     = undefined;
  this.serverStatus = undefined;
  this.warningCount = undefined;
  this.message      = undefined;
  this.protocol41   = options.protocol41;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.OldPasswordPacket" id="apidoc.element.mysql.index.OldPasswordPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>OldPasswordPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function OldPasswordPacket(options) {
  options = options || {};

  this.scrambleBuff = options.scrambleBuff;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  err.code = 'HANDSHAKE_INSECURE_AUTH';
  err.fatal = true;

  this.end(err);
  return;
}

this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">OldPasswordPacket</span>({
  scrambleBuff: Auth.scramble323(this._handshakeInitializationPacket.scrambleBuff(), this._config.password)
}));
};

Handshake.prototype['ErrorPacket'] = function(packet) {
var err = this._packetToError(packet, true);
err.fatal = true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.ResultSetHeaderPacket" id="apidoc.element.mysql.index.ResultSetHeaderPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>ResultSetHeaderPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResultSetHeaderPacket(options) {
  options = options || {};

  this.fieldCount = options.fieldCount;
  this.extra      = options.extra;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.RowDataPacket" id="apidoc.element.mysql.index.RowDataPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>RowDataPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RowDataPacket() {
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var Packet     = this._determinePacket(sequence);
var packet     = new Packet({protocol41: this._config.protocol41});
var packetName = Packet.name;

// Special case: Faster dispatch, and parsing done inside sequence
if (Packet === Packets.RowDataPacket) {
  sequence.<span class="apidocCodeKeywordSpan">RowDataPacket</span>(packet, this._parser, this._connection);

  if (this._config.debug) {
    this._debugPacket(true, packet);
  }

  return;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.SSLRequestPacket" id="apidoc.element.mysql.index.SSLRequestPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>SSLRequestPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function SSLRequestPacket(options) {
  options = options || {};
  this.clientFlags   = options.clientFlags | ClientConstants.CLIENT_SSL;
  this.maxPacketSize = options.maxPacketSize;
  this.charsetNumber = options.charsetNumber;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    err.fatal = true;

    this.end(err);
    return;
  }

  this._config.clientFlags |= ClientConstants.CLIENT_SSL;
  this.emit('packet', new Packets.<span class="apidocCodeKeywordSpan">SSLRequestPacket</span>({
    clientFlags   : this._config.clientFlags,
    maxPacketSize : this._config.maxPacketSize,
    charsetNumber : this._config.charsetNumber
  }));
  this.emit('start-tls');
} else {
  this._sendCredentials();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.StatisticsPacket" id="apidoc.element.mysql.index.StatisticsPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>StatisticsPacket
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StatisticsPacket() {
  this.message      = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.mysql.index.UseOldPasswordPacket" id="apidoc.element.mysql.index.UseOldPasswordPacket">
        function <span class="apidocSignatureSpan">mysql.index.</span>UseOldPasswordPacket
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UseOldPasswordPacket(options) {
  options = options || {};

  this.firstByte = options.firstByte || 0xfe;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>